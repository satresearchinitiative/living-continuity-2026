{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/appStores.js"],"sourcesContent":["import { createStore } from \"usestore-react\";\n\nif (typeof window !== 'undefined') {\n  console.log('[appStores] Initializing stores...');\n}\n\nconst createStoreSafe = (name, defaultValue) => {\n  try {\n    return createStore(name, defaultValue);\n  } catch (error) {\n    console.error(`[appStores] Error creating store \"${name}\":`, error);\n    throw error;\n  }\n};\n\nexport const selectedNodeStore = createStoreSafe('selectedNodeStore', null);\nexport const cameraOptionsStore = createStoreSafe('cameraOptions', null);\nexport const kitOfPartsSceneRotationStore = createStoreSafe('kitOfParts_sceneRotation', false);\nexport const livingContinuitySceneRotationStore = createStoreSafe('livingContinuity_sceneRotation', false);\nexport const walkThroughActiveStore = createStoreSafe('walkThroughActive', false);\nexport const selectedObjectIdStore = createStoreSafe('selectedObjectId', null);\nexport const objectRotationTriggerStore = createStoreSafe('objectRotationTrigger', 0);\nexport const objectPositionResetTriggerStore = createStoreSafe('objectPositionResetTrigger', 0);\nexport const gridDimensionsStore = createStoreSafe('gridDimensions', { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n\nexport const kitOfPartsObjectsStateStore = createStoreSafe('kitOfParts_objectsState', false);\nexport const kitOfPartsClickbathroom2Store = createStoreSafe('kitOfParts_clickbathroom2', false);\nexport const kitOfPartsBoxbedStateStore = createStoreSafe('kitOfParts_boxbedState', false);\nexport const kitOfPartsFrontStateStore = createStoreSafe('kitOfParts_frontState', false);\nexport const kitOfPartsKitchenStateStore = createStoreSafe('kitOfParts_kitchenState', false);\nexport const kitOfPartsK2StateStore = createStoreSafe('kitOfParts_k2State', false);\nexport const kitOfPartsS1StateStore = createStoreSafe('kitOfParts_s1State', false);\nexport const kitOfPartsSt1StateStore = createStoreSafe('kitOfParts_st1State', false);\nexport const kitOfPartsSt2StateStore = createStoreSafe('kitOfParts_st2State', false);\nexport const kitOfPartsStairsStateStore = createStoreSafe('kitOfParts_stairsState', false);\nexport const kitOfPartsCameraStateStore = createStoreSafe('kitOfParts_cameraState', false);\nexport const kitOfPartsCaptureModeStore = createStoreSafe('kitOfParts_captureMode', false);\nexport const kitOfPartsCaptureModalOpenStore = createStoreSafe('kitOfParts_captureModalOpen', false);\nexport const kitOfPartsCachedImageDataUrlStore = createStoreSafe('kitOfParts_cachedImageDataUrl', null);\n\nexport const clickbathroom2Store = createStoreSafe('clickbathroom2', false);\nexport const boxbedStateStore = createStoreSafe('boxbedState', false);\nexport const frontStateStore = createStoreSafe('frontState', false);\nexport const kitchenStateStore = createStoreSafe('kitchenState', false);\nexport const k2StateStore = createStoreSafe('k2State', false);\nexport const s1StateStore = createStoreSafe('s1State', false);\nexport const st1StateStore = createStoreSafe('st1State', false);\nexport const cameraStateStore = createStoreSafe('cameraState', false);\n\nexport const highlightedNodesStore = createStoreSafe('highlightedNodesStore', []);\nexport const secondaryHighlightedArticlesStore = createStoreSafe('secondaryHighlightedArticlesStore', []);\nexport const elementOpacityStore = createStoreSafe('elementOpacityStore', {});\nexport const connectionLinesVisibilityStore = createStoreSafe('connectionLinesVisibilityStore', true);\nexport const cameraInteractionStore = createStoreSafe('cameraInteractionStore', false);\nexport const loadingStateStore = createStoreSafe('loadingState', {\n  nodesLoaded: 0,\n  totalNodes: 0,\n  isLoading: true,\n  nodesVisible: [],\n});\nexport const adaptStore = createStoreSafe('adapt', false);\n\nexport const handleOpenStore = createStoreSafe('handleOpen', false);\nexport const closeCloseUpVarStore = createStoreSafe('closeCloseUpVar', false);\nexport const handleTitleBoxStore = createStoreSafe('handleTitleBox', false);\nexport const clickedStore = createStoreSafe('clicked', false);\nexport const handleClicksStore = createStoreSafe('handleClicks', 0);\nexport const keyWordOneStore = createStoreSafe('keyWordOne', true);\nexport const keyWordTwoStore = createStoreSafe('keyWordTwo', true);\nexport const keyWordTreeStore = createStoreSafe('keyWordTree', true);\nexport const keyWordFourStore = createStoreSafe('keyWordFour', false);\nexport const keyWordFiveStore = createStoreSafe('keyWordFive', false);\n\nconst articleStores = {};\nconst glossaryStores = {};\n\nfor (let i = 1; i <= 26; i++) {\n  const storeName = `A${i}Store`;\n  articleStores[storeName] = createStoreSafe(storeName, false);\n}\n\nfor (let i = 1; i <= 54; i++) {\n  const storeName = `G${i}Store`;\n  glossaryStores[storeName] = createStoreSafe(storeName, false);\n}\n\nexport { articleStores, glossaryStores };\n\nif (typeof window !== 'undefined') {\n  console.log('[appStores] All stores initialized successfully');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/_setup/colors.js"],"sourcesContent":["/**\n * Color constants matching vars.scss\n * This file exports color values for use in JavaScript/JSX files\n */\n\nexport const COLOR_ACCENT = '#e9ff00';\nexport const COLOR_YELLOW = '#e9ff00';\nexport const COLOR_BLACK = '#000000';\nexport const COLOR_WHITE = '#ffffff';\nexport const COLOR_PINK_LIGHT = '#FFDEFE';\nexport const COLOR_BLUE_LIGHT = '#DEE3FF';\nexport const COLOR_GRAY_DARK_1 = '#1B1B1B';\nexport const COLOR_GRAY_DARK_2 = '#1C1C1C';\nexport const COLOR_GRAY_DARK_3 = '#232323';\nexport const COLOR_BLUE = '#00B7FF';\nexport const COLOR_ORANGE_1 = '#FF9500';\nexport const COLOR_ORANGE_2 = '#FF5900';\nexport const COLOR_PURPLE = '#7C44FF';\nexport const COLOR_MINT = '#00FFA6';\nexport const COLOR_GRAY_MEDIUM = '#737373';\nexport const COLOR_RED = '#FF0004';\nexport const COLOR_MAGENTA = '#FF00F7';\nexport const COLOR_GRAY_LIGHT = '#D2D2D2';\n\n// Export as default object for convenience\nexport default {\n  accent: COLOR_ACCENT,\n  yellow: COLOR_YELLOW,\n  black: COLOR_BLACK,\n  white: COLOR_WHITE,\n  pinkLight: COLOR_PINK_LIGHT,\n  blueLight: COLOR_BLUE_LIGHT,\n  grayDark1: COLOR_GRAY_DARK_1,\n  grayDark2: COLOR_GRAY_DARK_2,\n  grayDark3: COLOR_GRAY_DARK_3,\n  blue: COLOR_BLUE,\n  orange1: COLOR_ORANGE_1,\n  orange2: COLOR_ORANGE_2,\n  purple: COLOR_PURPLE,\n  mint: COLOR_MINT,\n  grayMedium: COLOR_GRAY_MEDIUM,\n  red: COLOR_RED,\n  magenta: COLOR_MAGENTA,\n  grayLight: COLOR_GRAY_LIGHT,\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEM,MAAM,eAAe;AACrB,MAAM,eAAe;AACrB,MAAM,cAAc;AACpB,MAAM,cAAc;AACpB,MAAM,mBAAmB;AACzB,MAAM,mBAAmB;AACzB,MAAM,oBAAoB;AAC1B,MAAM,oBAAoB;AAC1B,MAAM,oBAAoB;AAC1B,MAAM,aAAa;AACnB,MAAM,iBAAiB;AACvB,MAAM,iBAAiB;AACvB,MAAM,eAAe;AACrB,MAAM,aAAa;AACnB,MAAM,oBAAoB;AAC1B,MAAM,YAAY;AAClB,MAAM,gBAAgB;AACtB,MAAM,mBAAmB;uCAGjB;IACb,QAAQ;IACR,QAAQ;IACR,OAAO;IACP,OAAO;IACP,WAAW;IACX,WAAW;IACX,WAAW;IACX,WAAW;IACX,WAAW;IACX,MAAM;IACN,SAAS;IACT,SAAS;IACT,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,KAAK;IACL,SAAS;IACT,WAAW;AACb"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/menu/CrossButton.jsx"],"sourcesContent":["/**\n * CrossButton Component\n * \n * A reusable cross/X button component with customizable color.\n * @param {string} color - The color of the cross lines (default: COLOR_BLACK)\n * @param {function} onClick - Click handler function\n * @param {string} className - Additional CSS classes\n */\n'use client';\n\nimport React from 'react';\nimport { COLOR_BLACK } from '../_setup/colors';\nimport './menu.scss';\n\nexport default function CrossButton({ color = COLOR_BLACK, onClick, className = '' }) {\n  return (\n    <button \n      onClick={onClick} \n      className={`cross-button ${className}`}\n      aria-label=\"Close menu\"\n    >\n      <svg \n        width=\"24\" \n        height=\"24\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line \n          x1=\"3\" \n          y1=\"3\" \n          x2=\"21\" \n          y2=\"21\" \n          stroke={color} \n          strokeWidth=\"1.5\" \n          strokeLinecap=\"round\"\n        />\n        <line \n          x1=\"21\" \n          y1=\"3\" \n          x2=\"3\" \n          y2=\"21\" \n          stroke={color} \n          strokeWidth=\"1.5\" \n          strokeLinecap=\"round\"\n        />\n      </svg>\n    </button>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;AAGD;AACA;AAHA;;;;;AAMe,SAAS,YAAY,EAAE,QAAQ,6IAAW,EAAE,OAAO,EAAE,YAAY,EAAE,EAAE;IAClF,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,aAAa,EAAE,WAAW;QACtC,cAAW;kBAEX,cAAA,8OAAC;YACC,OAAM;YACN,QAAO;YACP,SAAQ;YACR,MAAK;YACL,OAAM;;8BAEN,8OAAC;oBACC,IAAG;oBACH,IAAG;oBACH,IAAG;oBACH,IAAG;oBACH,QAAQ;oBACR,aAAY;oBACZ,eAAc;;;;;;8BAEhB,8OAAC;oBACC,IAAG;oBACH,IAAG;oBACH,IAAG;oBACH,IAAG;oBACH,QAAQ;oBACR,aAAY;oBACZ,eAAc;;;;;;;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/menu/Menu.jsx"],"sourcesContent":["/**\n * Menu Component\n * \n * Sliding menu panel that slides in from the left side.\n * @param {boolean} isOpen - Controls menu visibility\n * @param {function} onClose - Callback function to close the menu\n */\n'use client';\n\nimport React from 'react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport CrossButton from './CrossButton';\nimport { COLOR_BLACK } from '../_setup/colors';\nimport './menu.scss';\n\nexport default function Menu({ isOpen, onClose }) {\n  const pathname = usePathname();\n\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen]);\n\n  const menuItems = [\n    { label: 'A Collective Inquiry', href: '/living-continuity', external: false },\n    // { label: 'Archive', href: '#', external: false }\n    { label: 'Kit Of Parts', href: '/kit-of-parts', external: false },\n    { label: 'Glossary', href: '/glossary', external: false },\n    { label: 'Toolkit', href: 'https://drive.google.com/drive/u/2/folders/12uXdvFvDyFfQSQ1xgGVDB3wzs5fKsMnV', external: true }, \n  ];\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className={`menu-overlay ${isOpen ? 'open' : ''}`}\n        onClick={onClose}\n      />\n      \n      {/* Menu Panel */}\n      <div className={`menu-wrapper ${isOpen ? 'open' : ''}`}>\n        {/* Close Button - Positioned on the right */}\n        <div className=\"menu-close\">\n          <CrossButton color={COLOR_BLACK} onClick={onClose} />\n        </div>\n\n        {/* Menu Items - Start immediately on the left */}\n        <nav className=\"menu-nav\">\n          <ul>\n            {menuItems.map((item, index) => {\n              const isActive = pathname === item.href || (pathname === '/' && item.href === '/living-continuity');\n              const className = isActive ? 'menu-item menu-item-archive' : 'menu-item';\n              \n              if (item.external) {\n                return (\n                  <li key={index}>\n                    <a\n                      href={item.href}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className={className}\n                    >\n                      {item.label}\n                    </a>\n                  </li>\n                );\n              }\n              return (\n                <li key={index}>\n                  <Link\n                    href={item.href}\n                    className={className}\n                    onClick={onClose}\n                  >\n                    {item.label}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;;AAGD;AACA;AACA;AACA;AACA;AANA;;;;;;;;AASe,SAAS,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE;IAC9C,MAAM,WAAW,IAAA,iJAAW;IAE5B,gNAAK,CAAC,SAAS,CAAC;QACd,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC9B,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,YAAY;QAChB;YAAE,OAAO;YAAwB,MAAM;YAAsB,UAAU;QAAM;QAC7E,mDAAmD;QACnD;YAAE,OAAO;YAAgB,MAAM;YAAiB,UAAU;QAAM;QAChE;YAAE,OAAO;YAAY,MAAM;YAAa,UAAU;QAAM;QACxD;YAAE,OAAO;YAAW,MAAM;YAAgF,UAAU;QAAK;KAC1H;IAED,qBACE;;0BAEE,8OAAC;gBACC,WAAW,CAAC,aAAa,EAAE,SAAS,SAAS,IAAI;gBACjD,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAW,CAAC,aAAa,EAAE,SAAS,SAAS,IAAI;;kCAEpD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6IAAW;4BAAC,OAAO,6IAAW;4BAAE,SAAS;;;;;;;;;;;kCAI5C,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;sCACE,UAAU,GAAG,CAAC,CAAC,MAAM;gCACpB,MAAM,WAAW,aAAa,KAAK,IAAI,IAAK,aAAa,OAAO,KAAK,IAAI,KAAK;gCAC9E,MAAM,YAAY,WAAW,gCAAgC;gCAE7D,IAAI,KAAK,QAAQ,EAAE;oCACjB,qBACE,8OAAC;kDACC,cAAA,8OAAC;4CACC,MAAM,KAAK,IAAI;4CACf,QAAO;4CACP,KAAI;4CACJ,WAAW;sDAEV,KAAK,KAAK;;;;;;uCAPN;;;;;gCAWb;gCACA,qBACE,8OAAC;8CACC,cAAA,8OAAC,uKAAI;wCACH,MAAM,KAAK,IAAI;wCACf,WAAW;wCACX,SAAS;kDAER,KAAK,KAAK;;;;;;mCANN;;;;;4BAUb;;;;;;;;;;;;;;;;;;;AAMZ"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/menu/MenuButton.jsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport './menu.scss';\n\nexport default function MenuButton({ onClick, title = 'A collective Inquiry' }) {\n  return (\n    <>\n      <div className=\"menu-button-wrapper\">\n        <button \n          onClick={onClick} \n          className=\"menu-button\"\n          aria-label=\"Open menu\"\n        >\n          <span className=\"menu-icon\">\n            <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7 8H23M7 15H23M7 22H23\" stroke=\"black\" strokeWidth=\"2\" strokeLinecap=\"square\"/>\n            </svg>\n          </span>\n        </button>\n      </div>\n      <div className=\"menu-title-wrapper\">\n        <span className=\"menu-title\">{title}</span>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAKe,SAAS,WAAW,EAAE,OAAO,EAAE,QAAQ,sBAAsB,EAAE;IAC5E,qBACE;;0BACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,8OAAC;wBAAK,WAAU;kCACd,cAAA,8OAAC;4BAAI,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAO,OAAM;sCAChE,cAAA,8OAAC;gCAAK,GAAE;gCAA0B,QAAO;gCAAQ,aAAY;gCAAI,eAAc;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKvF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAc;;;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/menu/index.jsx"],"sourcesContent":["/**\n * Menu Module - Main Entry Point\n * \n * Exports all menu-related components for easy importing\n */\nexport { default as Menu } from './Menu';\nexport { default as MenuButton } from './MenuButton';\nexport { default as CrossButton } from './CrossButton';\nexport { default as MenuWrapper } from './MenuWrapper';\n"],"names":[],"mappings":"AAAA;;;;CAIC;AACD;AACA;AACA;AACA"}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/menu/MenuWrapper.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { Menu, MenuButton } from './index';\n\nconst getPageTitle = (pathname) => {\n  if (pathname === '/living-continuity' || pathname === '/') {\n    return 'A collective Inquiry';\n  } else if (pathname === '/glossary') {\n    return 'Glossary';\n  } else if (pathname === '/kit-of-parts') {\n    return 'Kit Of Parts';\n  }\n  return 'A collective Inquiry';\n};\n\nexport default function MenuWrapper() {\n  const [menuOpen, setMenuOpen] = useState(false);\n  const pathname = usePathname();\n  const pageTitle = getPageTitle(pathname);\n\n  return (\n    <>\n      <div>\n        <MenuButton onClick={() => setMenuOpen(true)} title={pageTitle} />\n      </div>\n\n      <Menu isOpen={menuOpen} onClose={() => setMenuOpen(false)} />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAJA;;;;;AAMA,MAAM,eAAe,CAAC;IACpB,IAAI,aAAa,wBAAwB,aAAa,KAAK;QACzD,OAAO;IACT,OAAO,IAAI,aAAa,aAAa;QACnC,OAAO;IACT,OAAO,IAAI,aAAa,iBAAiB;QACvC,OAAO;IACT;IACA,OAAO;AACT;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,YAAY,aAAa;IAE/B,qBACE;;0BACE,8OAAC;0BACC,cAAA,8OAAC,wLAAU;oBAAC,SAAS,IAAM,YAAY;oBAAO,OAAO;;;;;;;;;;;0BAGvD,8OAAC,sKAAI;gBAAC,QAAQ;gBAAU,SAAS,IAAM,YAAY;;;;;;;;AAGzD"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/gradient/index.jsx"],"sourcesContent":["/**\n * GradientController Component\n * \n * Manages smooth gradient color transitions between pages using JavaScript.\n * The gradients persist across page changes and smoothly animate color changes.\n */\n'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { useStore } from 'usestore-react';\nimport { COLOR_PINK_LIGHT, COLOR_BLUE_LIGHT, COLOR_ORANGE_1, COLOR_ORANGE_2, COLOR_MINT, COLOR_BLACK, COLOR_GRAY_DARK_3, COLOR_WHITE } from '../_setup/colors';\n\n// Define gradient colors for each page\nconst PAGE_GRADIENTS = {\n  '/': {\n    top: COLOR_PINK_LIGHT,\n    bottom: COLOR_PINK_LIGHT,\n  },\n  '/living-continuity': {\n    top: COLOR_PINK_LIGHT,\n    bottom: COLOR_PINK_LIGHT,\n  },\n  '/glossary': {\n    top: COLOR_BLUE_LIGHT,\n    bottom: COLOR_BLUE_LIGHT,\n  },\n  '/kit-of-parts': {\n    top: COLOR_ORANGE_2,\n    bottom: COLOR_ORANGE_2,\n  },\n  '/circle': {\n    top: COLOR_BLUE_LIGHT,\n    bottom: COLOR_BLUE_LIGHT,\n  },\n  '/room': {\n    top: COLOR_BLUE_LIGHT,\n    bottom: COLOR_BLUE_LIGHT,\n  },\n  // Default gradient (fallback)\n  default: {\n    top: COLOR_BLUE_LIGHT,\n    bottom: COLOR_BLUE_LIGHT,\n  },\n};\n\n/**\n * Converts hex color to RGB\n */\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\n/**\n * Converts RGB to hex\n */\nfunction rgbToHex(r, g, b) {\n  return '#' + [r, g, b].map(x => {\n    const hex = x.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  }).join('');\n}\n\n/**\n * Interpolates between two colors\n */\nfunction interpolateColor(color1, color2, factor) {\n  const rgb1 = hexToRgb(color1);\n  const rgb2 = hexToRgb(color2);\n  \n  if (!rgb1 || !rgb2) return color1;\n  \n  const r = Math.round(rgb1.r + (rgb2.r - rgb1.r) * factor);\n  const g = Math.round(rgb1.g + (rgb2.g - rgb1.g) * factor);\n  const b = Math.round(rgb1.b + (rgb2.b - rgb1.b) * factor);\n  \n  return rgbToHex(r, g, b);\n}\n\n/**\n * Creates a gradient string from a color\n */\nfunction createGradient(color, direction) {\n  // Convert hex to rgba with 0 opacity for transparency\n  const rgb = hexToRgb(color);\n  const transparent = rgb \n    ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0)`\n    : 'rgba(255, 255, 255, 0)';\n  \n  // Create intermediate stops with partial opacity for softer gradient\n  const midStop1 = rgb \n    ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5)`\n    : 'rgba(255, 255, 255, 0.6)';\n  const midStop2 = rgb \n    ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.2)`\n    : 'rgba(255, 255, 255, 0.3)';\n  \n  if (direction === 'top') {\n    return `linear-gradient(to bottom, ${color} 0%, ${midStop1} 40%, ${midStop2} 70%, ${transparent} 100%)`;\n  } else if (direction === 'bottom') {\n    return `linear-gradient(to top, ${color} 0%, ${midStop1} 40%, ${midStop2} 70%, ${transparent} 100%)`;\n  } else if (direction === 'center') {\n    // For center gradients, fade from transparent to color to transparent\n    return `linear-gradient(to bottom, ${transparent} 0%, ${midStop2} 30%, ${color} 50%, ${midStop2} 70%, ${transparent} 100%)`;\n  } else {\n    return `linear-gradient(to top, ${color} 0%, ${midStop1} 40%, ${midStop2} 70%, ${transparent} 100%)`;\n  }\n}\n\nexport default function GradientController() {\n  const pathname = usePathname();\n  const [selectedNode] = useStore('selectedNodeStore', null);\n  const topGradientRef = useRef(null);\n  const bottomGradientRef = useRef(null);\n  // Additional gradient refs for glossary page (4 sections)\n  const glossaryGradient1Ref = useRef(null);\n  const glossaryGradient2Ref = useRef(null);\n  const glossaryGradient3Ref = useRef(null);\n  const glossaryGradient4Ref = useRef(null);\n  const animationFrameRef = useRef(null);\n  const isInitializedRef = useRef(false);\n  const currentColorsRef = useRef(null);\n  const targetColorsRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const isAnimatingRef = useRef(false);\n  const previousPathnameRef = useRef(null);\n  const previousSelectedNodeRef = useRef(null);\n\n  const basePageGradient = PAGE_GRADIENTS[pathname] || PAGE_GRADIENTS.default;\n  \n  const targetGradient = (pathname === '/living-continuity' || pathname === '/') && selectedNode\n    ? { top: COLOR_MINT, bottom: COLOR_MINT }\n    : basePageGradient;\n\n  useEffect(() => {\n    if (!isInitializedRef.current) {\n      currentColorsRef.current = {\n        top: targetGradient.top,\n        bottom: targetGradient.bottom,\n      };\n      targetColorsRef.current = {\n        top: targetGradient.top,\n        bottom: targetGradient.bottom,\n      };\n      previousPathnameRef.current = pathname;\n      previousSelectedNodeRef.current = selectedNode;\n      isInitializedRef.current = true;\n\n      requestAnimationFrame(() => {\n        const isGlossary = pathname === '/glossary';\n        if (isGlossary) {\n          // Initialize glossary gradients (top left, top right, bottom left, bottom right)\n          if (glossaryGradient1Ref.current) {\n            glossaryGradient1Ref.current.style.setProperty('background', createGradient(targetGradient.top, 'top'), 'important');\n            glossaryGradient1Ref.current.style.setProperty('transition', 'none', 'important');\n          }\n          if (glossaryGradient2Ref.current) {\n            glossaryGradient2Ref.current.style.setProperty('background', createGradient(targetGradient.top, 'top'), 'important');\n            glossaryGradient2Ref.current.style.setProperty('transition', 'none', 'important');\n          }\n          if (glossaryGradient3Ref.current) {\n            glossaryGradient3Ref.current.style.setProperty('background', createGradient(targetGradient.bottom, 'bottom'), 'important');\n            glossaryGradient3Ref.current.style.setProperty('transition', 'none', 'important');\n          }\n          if (glossaryGradient4Ref.current) {\n            glossaryGradient4Ref.current.style.setProperty('background', createGradient(targetGradient.bottom, 'bottom'), 'important');\n            glossaryGradient4Ref.current.style.setProperty('transition', 'none', 'important');\n          }\n        } else {\n          // Initialize standard gradients\n          if (topGradientRef.current) {\n            topGradientRef.current.style.setProperty('background', createGradient(targetGradient.top, 'top'), 'important');\n            topGradientRef.current.style.setProperty('transition', 'none', 'important');\n          }\n          if (bottomGradientRef.current) {\n            bottomGradientRef.current.style.setProperty('background', createGradient(targetGradient.bottom, 'bottom'), 'important');\n            bottomGradientRef.current.style.setProperty('transition', 'none', 'important');\n          }\n        }\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isInitializedRef.current) return;\n    \n    const pathnameChanged = previousPathnameRef.current !== pathname;\n    const previousNodeId = previousSelectedNodeRef.current?.id ?? null;\n    const currentNodeId = selectedNode?.id ?? null;\n    const selectedNodeChanged = previousNodeId !== currentNodeId;\n    \n    if (!pathnameChanged && !selectedNodeChanged) return;\n\n    const baseGradient = PAGE_GRADIENTS[pathname] || PAGE_GRADIENTS.default;\n    const newTargetGradient = (pathname === '/living-continuity' || pathname === '/') && selectedNode\n      ? { top: COLOR_MINT, bottom: COLOR_MINT }\n      : baseGradient;\n\n    const targetTop = newTargetGradient.top;\n    const targetBottom = newTargetGradient.bottom;\n    \n    if (!currentColorsRef.current) {\n      currentColorsRef.current = {\n        top: baseGradient.top,\n        bottom: baseGradient.bottom,\n      };\n    }\n    \n    const currentTop = currentColorsRef.current.top;\n    const currentBottom = currentColorsRef.current.bottom;\n\n    if (currentTop === targetTop && currentBottom === targetBottom) {\n      previousPathnameRef.current = pathname;\n      previousSelectedNodeRef.current = selectedNode;\n      return;\n    }\n\n    targetColorsRef.current = {\n      top: targetTop,\n      bottom: targetBottom,\n    };\n\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n\n    const isGlossary = pathname === '/glossary';\n    if (isGlossary) {\n      if (glossaryGradient1Ref.current) {\n        glossaryGradient1Ref.current.style.setProperty('transition', 'none', 'important');\n      }\n      if (glossaryGradient2Ref.current) {\n        glossaryGradient2Ref.current.style.setProperty('transition', 'none', 'important');\n      }\n      if (glossaryGradient3Ref.current) {\n        glossaryGradient3Ref.current.style.setProperty('transition', 'none', 'important');\n      }\n      if (glossaryGradient4Ref.current) {\n        glossaryGradient4Ref.current.style.setProperty('transition', 'none', 'important');\n      }\n    } else {\n      if (topGradientRef.current) {\n        topGradientRef.current.style.setProperty('transition', 'none', 'important');\n      }\n      if (bottomGradientRef.current) {\n        bottomGradientRef.current.style.setProperty('transition', 'none', 'important');\n      }\n    }\n\n    isAnimatingRef.current = true;\n    startTimeRef.current = null;\n\n    const animate = (timestamp) => {\n      if (!startTimeRef.current) {\n        startTimeRef.current = timestamp;\n      }\n\n      const elapsed = timestamp - startTimeRef.current;\n      const duration = 1000;\n      const progress = Math.min(elapsed / duration, 1);\n\n      const eased = progress < 0.5\n        ? 2 * progress * progress\n        : 1 - Math.pow(-2 * progress + 2, 2) / 2;\n\n      const currentTop = interpolateColor(\n        currentColorsRef.current.top,\n        targetColorsRef.current.top,\n        eased\n      );\n      const currentBottom = interpolateColor(\n        currentColorsRef.current.bottom,\n        targetColorsRef.current.bottom,\n        eased\n      );\n\n      const isGlossary = pathname === '/glossary';\n      if (isGlossary) {\n        // Update glossary gradients (top left, top right, bottom left, bottom right)\n        if (glossaryGradient1Ref.current) {\n          glossaryGradient1Ref.current.style.background = createGradient(currentTop, 'top');\n        }\n        if (glossaryGradient2Ref.current) {\n          glossaryGradient2Ref.current.style.background = createGradient(currentTop, 'top');\n        }\n        if (glossaryGradient3Ref.current) {\n          glossaryGradient3Ref.current.style.background = createGradient(currentBottom, 'bottom');\n        }\n        if (glossaryGradient4Ref.current) {\n          glossaryGradient4Ref.current.style.background = createGradient(currentBottom, 'bottom');\n        }\n      } else {\n        // Update standard gradients\n        const topGradient = topGradientRef.current;\n        const bottomGradient = bottomGradientRef.current;\n        \n        if (topGradient) {\n          topGradient.style.background = createGradient(currentTop, 'top');\n        }\n        if (bottomGradient) {\n          bottomGradient.style.background = createGradient(currentBottom, 'bottom');\n        }\n      }\n\n      if (progress < 1) {\n        animationFrameRef.current = requestAnimationFrame(animate);\n      } else {\n        currentColorsRef.current = {\n          top: targetColorsRef.current.top,\n          bottom: targetColorsRef.current.bottom,\n        };\n        isAnimatingRef.current = false;\n        previousPathnameRef.current = pathname;\n        previousSelectedNodeRef.current = selectedNode;\n        animationFrameRef.current = null;\n      }\n    };\n\n    animationFrameRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [pathname, selectedNode]);\n\n  const initialTop = currentColorsRef.current?.top || targetGradient.top;\n  const initialBottom = currentColorsRef.current?.bottom || targetGradient.bottom;\n  const isGlossaryPage = pathname === '/glossary';\n\n  return (\n    <>\n      {!isGlossaryPage && (\n        <>\n          <div \n            ref={topGradientRef}\n            className=\"gradient-overlay-top\"\n            style={{\n              background: createGradient(initialTop, 'top'),\n              transition: 'none',\n            }}\n          />\n          <div \n            ref={bottomGradientRef}\n            className=\"gradient-overlay-bottom\"\n            style={{\n              background: createGradient(initialBottom, 'bottom'),\n              transition: 'none',\n            }}\n          />\n        </>\n      )}\n      {isGlossaryPage && (\n        <>\n          {/* Top left gradient section */}\n          <div \n            ref={glossaryGradient1Ref}\n            className=\"gradient-overlay-glossary-top-left\"\n            style={{\n              background: createGradient(initialTop, 'top'),\n              transition: 'none',\n            }}\n          />\n          {/* Top right gradient section */}\n          <div \n            ref={glossaryGradient2Ref}\n            className=\"gradient-overlay-glossary-top-right\"\n            style={{\n              background: createGradient(initialTop, 'top'),\n              transition: 'none',\n            }}\n          />\n          {/* Bottom left gradient section */}\n          <div \n            ref={glossaryGradient3Ref}\n            className=\"gradient-overlay-glossary-bottom-left\"\n            style={{\n              background: createGradient(initialBottom, 'bottom'),\n              transition: 'none',\n            }}\n          />\n          {/* Bottom right gradient section */}\n          <div \n            ref={glossaryGradient4Ref}\n            className=\"gradient-overlay-glossary-bottom-right\"\n            style={{\n              background: createGradient(initialBottom, 'bottom'),\n              transition: 'none',\n            }}\n          />\n        </>\n      )}\n    </>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/homeButton/index.jsx"],"sourcesContent":["'use client';\n\nimport * as React from \"react\";\nimport Link from \"next/link\";\nimport \"./homeButton.scss\";\n\nexport default function HomeButton() {\n  return (\n    <div className=\"home_button_wrapper\">\n      <Link href=\"/living-continuity\" className=\"home_button\">\n        Living Continuity\n      </Link>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;;AAMe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,uKAAI;YAAC,MAAK;YAAqB,WAAU;sBAAc;;;;;;;;;;;AAK9D"}},
    {"offset": {"line": 1122, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/homeTitle/index.jsx"],"sourcesContent":["'use client';\n\nimport * as React from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { useStore } from \"usestore-react\";\nimport \"./homeTitle.scss\";\n\nexport default function HomeTitle() {\n  const pathname = usePathname();\n  const [selectedNode] = useStore('selectedNodeStore', null);\n  const [highlightedTerm, setHighlightedTerm] = React.useState(null);\n  const [highlightedArticle, setHighlightedArticle] = React.useState(null);\n  const [nodeData, setNodeData] = React.useState(null);\n\n  const isHomePage = pathname === '/' || pathname === '/living-continuity';\n\n  React.useEffect(() => {\n    fetch('/data/nodes.json')\n      .then(res => res.json())\n      .then(data => {\n        setNodeData(data);\n      })\n      .catch(err => {\n        console.error('Failed to load node data:', err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    if (selectedNode && nodeData) {\n      if (selectedNode.id?.startsWith('G')) {\n        const glossaryTerm = nodeData.glossary?.find(g => g.id === selectedNode.id);\n        if (glossaryTerm) {\n          setHighlightedTerm(glossaryTerm.title || glossaryTerm.id);\n          setHighlightedArticle(null);\n        } else {\n          setHighlightedTerm(null);\n          setHighlightedArticle(null);\n        }\n      } else if (selectedNode.id?.startsWith('A')) {\n        const article = nodeData.articles?.find(a => a.id === selectedNode.id);\n        if (article) {\n          setHighlightedArticle(article.title);\n          setHighlightedTerm(null);\n        } else {\n          setHighlightedTerm(null);\n          setHighlightedArticle(null);\n        }\n      } else {\n        setHighlightedTerm(null);\n        setHighlightedArticle(null);\n      }\n    } else {\n      setHighlightedTerm(null);\n      setHighlightedArticle(null);\n    }\n  }, [selectedNode, nodeData]);\n\n  if (!isHomePage) {\n    return null;\n  }\n\n  return (\n    <div className=\"home_title_wrapper\">\n      {highlightedTerm && (\n        <div className=\"highlighted_term\">\n          {highlightedTerm}\n        </div>\n      )}\n      {highlightedArticle && (\n        <div className=\"highlighted_article\">\n          {highlightedArticle}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;;AAOe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,aAAa,GAAG,IAAA,8JAAQ,EAAC,qBAAqB;IACrD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,iNAAc,CAAC;IAC7D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,iNAAc,CAAC;IACnE,MAAM,CAAC,UAAU,YAAY,GAAG,iNAAc,CAAC;IAE/C,MAAM,aAAa,aAAa,OAAO,aAAa;IAEpD,kNAAe,CAAC;QACd,MAAM,oBACH,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACJ,YAAY;QACd,GACC,KAAK,CAAC,CAAA;YACL,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACJ,GAAG,EAAE;IAEL,kNAAe,CAAC;QACd,IAAI,gBAAgB,UAAU;YAC5B,IAAI,aAAa,EAAE,EAAE,WAAW,MAAM;gBACpC,MAAM,eAAe,SAAS,QAAQ,EAAE,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,EAAE;gBAC1E,IAAI,cAAc;oBAChB,mBAAmB,aAAa,KAAK,IAAI,aAAa,EAAE;oBACxD,sBAAsB;gBACxB,OAAO;oBACL,mBAAmB;oBACnB,sBAAsB;gBACxB;YACF,OAAO,IAAI,aAAa,EAAE,EAAE,WAAW,MAAM;gBAC3C,MAAM,UAAU,SAAS,QAAQ,EAAE,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,EAAE;gBACrE,IAAI,SAAS;oBACX,sBAAsB,QAAQ,KAAK;oBACnC,mBAAmB;gBACrB,OAAO;oBACL,mBAAmB;oBACnB,sBAAsB;gBACxB;YACF,OAAO;gBACL,mBAAmB;gBACnB,sBAAsB;YACxB;QACF,OAAO;YACL,mBAAmB;YACnB,sBAAsB;QACxB;IACF,GAAG;QAAC;QAAc;KAAS;IAE3B,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,iCACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAGJ,oCACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 1215, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/navigation/InfoPanel.jsx"],"sourcesContent":["/**\n * InfoPanel Component\n * \n * Sliding panel that slides in from the right side.\n * Pink background with font weight 100.\n * @param {boolean} isOpen - Controls panel visibility\n * @param {function} onClose - Callback function to close the panel\n */\n'use client';\n\nimport React from 'react';\nimport { usePathname } from 'next/navigation';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_BLACK } from '../_setup/colors';\nimport './navigation.scss';\n\nexport default function InfoPanel({ isOpen, onClose }) {\n  const pathname = usePathname();\n  const [infoData, setInfoData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  // Prevent body scroll when panel is open\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    // Load info data from JSON\n    const loadInfoData = async () => {\n      try {\n        console.log('[InfoPanel] Loading info data for pathname:', pathname);\n        // Add cache-busting parameter to ensure fresh data\n        const response = await fetch(`/data/info.json?t=${Date.now()}`);\n        if (!response.ok) {\n          console.error('[InfoPanel] HTTP error:', response.status, response.statusText);\n          throw new Error(`HTTP ${response.status}: Failed to load info data`);\n        }\n        const data = await response.json();\n        console.log('[InfoPanel] Info data loaded successfully:', data);\n        \n        // Get the route key (normalize pathname)\n        const routeKey = pathname === '/' ? '/' : pathname;\n        const routeInfo = data[routeKey] || data['/living-continuity']; // Fallback to landing page\n        console.log('[InfoPanel] Route key:', routeKey, 'Route info:', routeInfo);\n        \n        // Ensure we only use the content, not any old array structure\n        if (routeInfo) {\n          // If it's a string, use it directly\n          if (typeof routeInfo.content === 'string') {\n            console.log('[InfoPanel] Setting info data with content string');\n            setInfoData({ content: routeInfo.content });\n          } else {\n            // Fallback: set the whole object (shouldn't happen with current JSON)\n            console.warn('[InfoPanel] Route info content is not a string, using whole object');\n            setInfoData(routeInfo);\n          }\n        } else {\n          // No route info found, use fallback\n          console.warn('[InfoPanel] No route info found for:', routeKey, 'using fallback');\n          setInfoData({\n            content: \"To navigate in the digital exhibition, depending on the device you are currently browsing this space on you can use both your fingers or mouse. Zoom in or out, drag or pan to interact with the scene.\"\n          });\n        }\n      } catch (error) {\n        console.error('[InfoPanel] Error loading info data:', error);\n        console.error('[InfoPanel] Error details:', {\n          message: error.message,\n          stack: error.stack,\n          name: error.name\n        });\n        // Fallback content\n        setInfoData({\n          content: \"To navigate in the digital exhibition, depending on the device you are currently browsing this space on you can use both your fingers or mouse. Zoom in or out, drag or pan to interact with the scene.\"\n        });\n      } finally {\n        setLoading(false);\n        console.log('[InfoPanel] Loading complete');\n      }\n    };\n\n    if (isOpen) {\n      setLoading(true);\n      loadInfoData();\n    }\n  }, [pathname, isOpen]);\n\n  // Helper function to render markdown-style emphasis\n  const renderText = (text) => {\n    if (!text) return null;\n    \n    // Convert *text* to <em>text</em>\n    const parts = text.split(/(\\*[^*]+\\*)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('*') && part.endsWith('*')) {\n        return <em key={index}>{part.slice(1, -1)}</em>;\n      }\n      return <React.Fragment key={index}>{part}</React.Fragment>;\n    });\n  };\n\n  return (\n    <>\n      <div className={`info-panel-wrapper ${isOpen ? 'open' : ''}`}>\n        {/* Close Button - Positioned on the right */}\n        <div className=\"info-panel-close\">\n          <CrossButton color={COLOR_BLACK} onClick={onClose} />\n        </div>\n\n        {/* Info Content */}\n        <div className=\"info-panel-content\">\n          {loading ? (\n            <p>Loading...</p>\n          ) : infoData ? (\n            <>   \n              <h4>Info:</h4>\n              <div className=\"info-panel-content-inner\">          \n              {infoData.content && (\n                typeof infoData.content === 'string' ? (\n                  <p>{renderText(infoData.content)}</p>\n                ) : Array.isArray(infoData.content) ? (\n                  infoData.content.map((section, index) => (\n                    <div key={index}>\n                      {section.text && <p>{renderText(section.text)}</p>}\n                    </div>\n                    \n                  ))\n                ) : null\n              )}\n              {(pathname !== '/living-continuity' && pathname !== '/') && (\n                <span>\n                  <a \n                    href=\"/content_folder/SRCE_LC_Images/Leon Duval.pdf\" \n                    download=\"Leon Duval.pdf\"\n                    className=\"menu-download-button\"\n                  >\n                    Download PDF\n                  </a>\n                </span>\n              )}\n              </div> \n            </>\n          ) : null}\n        </div>\n      </div>\n\n      <div \n        className={`info-panel-overlay ${isOpen ? 'open' : ''}`}\n        onClick={onClose}\n      />\n    </>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1449, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/treeModals/archiveModal.jsx"],"sourcesContent":["import * as React from \"react\";\nimport Link from \"next/link\";\nimport \"./archive.scss\";\nimport { useStore } from \"usestore-react\";\nimport CrossButton from \"../menu/CrossButton\";\nimport { COLOR_BLACK } from \"../_setup/colors\";\n\nconst slugifyTitle = (title) => {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n};\n\nexport default function ArchiveModal({\n  title,\n  author,\n  content,\n  img,\n  authorBio,\n  keywords,\n  connect1,\n  connect2,\n  connect3,\n  connect4,\n  photoCredit,\n  closeModal,\n}) {\n  const [adapt, setAdapt] = useStore(\"adapt\", false);\n  const [imageOrientation, setImageOrientation] = React.useState(null);\n  const [imageLoaded, setImageLoaded] = React.useState(false);\n\n  const handleImageLoad = (e) => {\n    const img = e.target;\n    const isLandscape = img.naturalWidth > img.naturalHeight;\n    setImageOrientation(isLandscape ? 'isLandscape' : 'isPortrait');\n    setImageLoaded(true);\n  };\n\n  return (\n    <>\n      <div className=\"modal_wrapper\">\n        {closeModal && (\n          <div className=\"close_button\">\n            <CrossButton color={COLOR_BLACK} onClick={closeModal} />\n          </div>\n        )}\n        <div className=\"content\">\n          {img && (\n            <figure className={`image_wrapper ${imageOrientation || ''} ${imageLoaded ? 'image_loaded' : ''}`}>\n              <img \n                src={img} \n                alt=\"\"\n                className=\"image_placeholder\"\n                aria-hidden=\"true\"\n              />\n              <img \n                src={img} \n                alt={title}\n                className={imageLoaded ? 'image_loaded' : 'image_loading'}\n                onLoad={handleImageLoad}\n                onError={(e) => {\n                  e.target.style.display = 'none';\n                  setImageLoaded(true);\n                  console.warn('Failed to load image:', img);\n                }}\n              />\n              {author && (\n                <figcaption className=\"photo_credit\">\n                  Photo Credit: {photoCredit || author}\n                </figcaption>\n              )}\n            </figure>\n          )}\n          {title && <h2>{title}</h2>}\n          {author && <p className=\"author\"><span>By</span> {author}</p>}\n          {content && (\n            <div\n              className=\"text\"\n              dangerouslySetInnerHTML={{ __html: content }}\n            />\n          )}\n          {authorBio && (\n            <div className=\"section\">\n              <h5 className=\"section_label\">Author Bio:</h5>\n              <div\n                className=\"text-1\"\n                dangerouslySetInnerHTML={{ \n                  __html: (() => {\n                    let processed = authorBio;\n                    if (author) {\n                      const escaped = author.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                      processed = processed.replace(new RegExp(`(?<!\\\\*\\\\*)(${escaped})(?!\\\\*\\\\*)`, 'g'), '**$1**');\n                    }\n                    return processed\n                      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n                      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n                      .replace(/\\n/g, '<br/>');\n                  })()\n                }}\n              />\n            </div>\n          )}\n          {(() => {\n            const hasConnections = connect1 || connect2 || connect3 || connect4;\n            \n            let keywordsToDisplay = [];\n            if (keywords) {\n              if (Array.isArray(keywords)) {\n                keywordsToDisplay = keywords;\n              } else if (typeof keywords === 'string') {\n                keywordsToDisplay = keywords.split(',').map(k => k.trim()).filter(Boolean);\n              }\n            }\n            \n            const hasKeywordsToShow = keywordsToDisplay.length > 0;\n            \n            if (!hasKeywordsToShow && !hasConnections) return null;\n            \n            return (\n              <div className=\"section\">\n                <h5 className=\"section_label\">Keywords:</h5>\n                {hasKeywordsToShow ? (\n                  <div className=\"connections\">\n                    {keywordsToDisplay.map((keyword, index) => {\n                      const keywordText = keyword && typeof keyword === 'object' ? (keyword.text || keyword) : keyword;\n                      let keywordLink = keyword && typeof keyword === 'object' && keyword.link !== undefined \n                        ? keyword.link \n                        : null;\n                      \n                      if (keywordLink && keywordLink.includes('#G')) {\n                        const idMatch = keywordLink.match(/#(G\\d+)/);\n                        if (idMatch) {\n                          const keywordId = idMatch[1];\n                          keywordLink = `/glossary#${slugifyTitle(keywordText)}`;\n                        }\n                      } else if (keywordLink && keywordLink.startsWith('/glossary#')) {\n                        const hashPart = keywordLink.split('#')[1];\n                        if (hashPart && hashPart.match(/^G\\d+$/)) {\n                          keywordLink = `/glossary#${slugifyTitle(keywordText)}`;\n                        }\n                      }\n                      \n                      return (\n                        <span key={index}>\n                          {keywordLink ? (\n                            <Link \n                              href={keywordLink}\n                              className=\"item_link\"\n                              onClick={closeModal}\n                            >\n                              {keywordText}\n                            </Link>\n                          ) : (\n                            <span className=\"item\">\n                              {keywordText}\n                            </span>\n                          )}\n                          {index < keywordsToDisplay.length - 1 && <span className=\"comma\">, </span>}\n                        </span>\n                      );\n                    })}\n                  </div>\n                ) : hasConnections ? (\n                  <div className=\"connections\">\n                    {[connect1, connect2, connect3, connect4].filter(Boolean).map((item, index, array) => (\n                      <span key={index}>\n                        <span className=\"item\">{item}</span>\n                        {index < array.length - 1 && <span className=\"comma\">, </span>}\n                      </span>\n                    ))}\n                  </div>\n                ) : null}\n              </div>\n            );\n          })()}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1754, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/navigation/IndexPanel.jsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_BLACK } from '../_setup/colors';\nimport Modal from 'react-modal';\nimport ArchiveModal from '../treeModals/archiveModal';\nimport '../treeModals/archive.scss';\nimport './navigation.scss';\n\nexport default function IndexPanel({ isOpen, onClose, onReopen }) {\n  const [articles, setArticles] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [selectedArticle, setSelectedArticle] = React.useState(null);\n  const [modalIsOpen, setModalIsOpen] = React.useState(false);\n  const [openedFromIndex, setOpenedFromIndex] = React.useState(false);\n  const pendingArticleRef = React.useRef(null);\n  const listRef = React.useRef(null);\n\n  React.useEffect(() => {\n    if (isOpen || modalIsOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen, modalIsOpen]);\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n\n    const checkForModal = () => {\n      const hasArchiveModalOpen = document.body.classList.contains('archive-modal-open');\n      \n      if (hasArchiveModalOpen && !modalIsOpen) {\n        onClose();\n      }\n    };\n\n    const observer = new MutationObserver(() => {\n      checkForModal();\n    });\n\n    observer.observe(document.body, {\n      attributes: true,\n      attributeFilter: ['class']\n    });\n\n    checkForModal();\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [isOpen, modalIsOpen, onClose]);\n\n  React.useEffect(() => {\n    if (!isOpen && pendingArticleRef.current) {\n      const article = pendingArticleRef.current;\n      pendingArticleRef.current = null;\n      setTimeout(() => {\n        setSelectedArticle(article);\n        setModalIsOpen(true);\n        setOpenedFromIndex(false);\n        if (article.id) {\n          window.history.pushState(null, '', `#${article.id}`);\n        }\n      }, 300);\n    }\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    const loadArticles = async () => {\n      try {\n        const response = await fetch(`/data/nodes.json?t=${Date.now()}`);\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: Failed to load articles`);\n        }\n        const data = await response.json();\n        const sortedArticles = (data.articles || []).sort((a, b) => {\n          const titleA = (a.title || '').toLowerCase();\n          const titleB = (b.title || '').toLowerCase();\n          return titleA.localeCompare(titleB);\n        });\n        setArticles(sortedArticles);\n        \n        const hash = window.location.hash.substring(1);\n        if (hash && !modalIsOpen && !selectedArticle) {\n          const articleFromHash = sortedArticles.find(a => a.id === hash);\n          if (articleFromHash) {\n            setTimeout(() => {\n              setSelectedArticle(articleFromHash);\n              setModalIsOpen(true);\n              setOpenedFromIndex(false);\n            }, 500);\n          }\n        }\n      } catch (error) {\n        console.error('[IndexPanel] Error loading articles:', error);\n        setArticles([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (isOpen) {\n      setLoading(true);\n      loadArticles();\n    }\n  }, [isOpen]);\n\n  const handleArticleClick = (article) => {\n    setSelectedArticle(article);\n    setOpenedFromIndex(true);\n    if (article.id) {\n      window.history.pushState(null, '', `#${article.id}`);\n    }\n    onClose();\n    setTimeout(() => {\n      setModalIsOpen(true);\n    }, 300);\n  };\n\n  const handleCloseModal = () => {\n    const wasOpenedFromIndex = openedFromIndex;\n    setModalIsOpen(false);\n    setSelectedArticle(null);\n    setOpenedFromIndex(false);\n    \n    // Clear the hash from URL when closing the modal\n    if (typeof window !== 'undefined' && window.location.hash) {\n      window.history.replaceState(null, '', window.location.pathname + window.location.search);\n    }\n    \n    if (wasOpenedFromIndex && !isOpen && onReopen) {\n      setTimeout(() => {\n        onReopen();\n      }, 300);\n    }\n  };\n\n  const handlePanelClose = () => {\n    if (selectedArticle && modalIsOpen) {\n      pendingArticleRef.current = selectedArticle;\n      setModalIsOpen(false);\n      setOpenedFromIndex(false);\n      // Clear the hash from URL when closing the modal\n      if (typeof window !== 'undefined' && window.location.hash) {\n        window.history.replaceState(null, '', window.location.pathname + window.location.search);\n      }\n      setTimeout(() => {\n        onClose();\n      }, 150);\n    } else {\n      onClose();\n    }\n  };\n\n  return (\n    <>\n      <div className={`index-panel-wrapper ${isOpen ? 'open' : ''}`}>\n        <div className=\"index-panel-close\">\n          <CrossButton color={COLOR_BLACK} onClick={handlePanelClose} />\n        </div>\n\n        <div className=\"index-panel-content\">\n          {loading ? (\n            <p>Loading...</p>\n          ) : (\n            <>\n              <h4>List View:</h4>\n              <div \n                ref={listRef}\n                className=\"index-panel-list\"\n              >\n                {articles.map((article) => (\n                  <button\n                    key={article.id}\n                    className=\"index-panel-item\"\n                    onClick={() => handleArticleClick(article)}\n                  >\n                    <span className=\"index-panel-arrow\"></span>{article.title}{article.author && `  ${article.author}`}\n                  </button>\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div \n        className={`index-panel-overlay ${isOpen && !modalIsOpen ? 'open' : ''}`}\n        onClick={handlePanelClose}\n      />\n\n      {selectedArticle && (\n        <Modal\n          isOpen={modalIsOpen}\n          onRequestClose={handleCloseModal}\n          contentLabel=\"Article Modal\"\n          className=\"archive-modal-content\"\n          overlayClassName=\"archive-modal-overlay\"\n          bodyOpenClassName=\"archive-modal-open\"\n          htmlOpenClassName=\"archive-modal-open\"\n          closeTimeoutMS={150}\n          shouldCloseOnOverlayClick={true}\n        >\n          <ArchiveModal\n            title={selectedArticle.title}\n            author={selectedArticle.author}\n            content={selectedArticle.content}\n            img={selectedArticle.imageUrl}\n            authorBio={selectedArticle.authorBio}\n            keywords={selectedArticle.keywords}\n            connect1={selectedArticle.connectionKeywords?.[0] || \"\"}\n            connect2={selectedArticle.connectionKeywords?.[1] || \"\"}\n            connect3={selectedArticle.connectionKeywords?.[2] || \"\"}\n            connect4={selectedArticle.connectionKeywords?.[3] || \"\"}\n            photoCredit={selectedArticle.photoCredit}\n            closeModal={handleCloseModal}\n          />\n        </Modal>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2040, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/recaptcha.js"],"sourcesContent":["const RECAPTCHA_SCRIPT_URL = 'https://www.google.com/recaptcha/api.js';\n\nlet scriptLoadPromise = null;\n\nfunction loadRecaptchaScript(siteKey) {\n  if (typeof window === 'undefined') return Promise.reject(new Error('Not in browser'));\n  if (window.grecaptcha?.ready) return Promise.resolve();\n  if (scriptLoadPromise) return scriptLoadPromise;\n  scriptLoadPromise = new Promise((resolve, reject) => {\n    const script = document.createElement('script');\n    script.src = `${RECAPTCHA_SCRIPT_URL}?render=${siteKey}`;\n    script.async = true;\n    script.onload = () => resolve();\n    script.onerror = () => reject(new Error('reCAPTCHA script failed to load'));\n    document.head.appendChild(script);\n  });\n  return scriptLoadPromise;\n}\n\nexport async function getRecaptchaToken(siteKey, action = 'submit') {\n  if (!siteKey) return null;\n  await loadRecaptchaScript(siteKey);\n  return new Promise((resolve) => {\n    window.grecaptcha.ready(() => {\n      window.grecaptcha.execute(siteKey, { action }).then(resolve);\n    });\n  });\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,uBAAuB;AAE7B,IAAI,oBAAoB;AAExB,SAAS,oBAAoB,OAAO;IAClC,wCAAmC,OAAO,QAAQ,MAAM,CAAC,IAAI,MAAM;;;AAYrE;AAEO,eAAe,kBAAkB,OAAO,EAAE,SAAS,QAAQ;IAChE,IAAI,CAAC,SAAS,OAAO;IACrB,MAAM,oBAAoB;IAC1B,OAAO,IAAI,QAAQ,CAAC;QAClB,OAAO,UAAU,CAAC,KAAK,CAAC;YACtB,OAAO,UAAU,CAAC,OAAO,CAAC,SAAS;gBAAE;YAAO,GAAG,IAAI,CAAC;QACtD;IACF;AACF"}},
    {"offset": {"line": 2066, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/navigation/SubmitEntryPanel.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { usePathname } from 'next/navigation';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_WHITE } from '../_setup/colors';\nimport { getRecaptchaToken } from '../utils/recaptcha';\nimport './navigation.scss';\n\nconst slugifyTitle = (title) => {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n};\n\nconst deslugifyTitle = (slug) => {\n  return slug\n    .split('-')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n};\n\nexport default function SubmitEntryPanel({ \n  isOpen, \n  onClose, \n  currentKeywordTitle = 'self-determination',\n  onSubmitRef\n}) {\n  const [interpretation, setInterpretation] = useState('');\n  const [name, setName] = useState('');\n  const [website, setWebsite] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const formRef = useRef(null);\n  const pathname = usePathname();\n  const isGlossaryPage = pathname === '/glossary';\n  const savedScrollPosition = useRef(0);\n  \n  const getKeywordFromHash = useCallback(() => {\n    if (typeof window === 'undefined' || !isGlossaryPage) return currentKeywordTitle;\n    \n    const hash = window.location.hash.substring(1);\n    if (hash && hash.endsWith('-submit')) {\n      const keywordSlug = hash.replace('-submit', '');\n      const allGlossaryItems = document.querySelectorAll('[data-keyword-id]');\n      for (const item of allGlossaryItems) {\n        const translations = item.querySelectorAll('[class*=\"glossaryTranslation\"]');\n        if (translations.length > 0) {\n          const firstTranslation = translations[0].textContent?.trim();\n          if (firstTranslation && slugifyTitle(firstTranslation) === keywordSlug) {\n            return firstTranslation;\n          }\n        }\n      }\n      return deslugifyTitle(keywordSlug);\n    }\n    \n    if (hash && !hash.endsWith('-submit')) {\n      const allGlossaryItems = document.querySelectorAll('[data-keyword-id]');\n      for (const item of allGlossaryItems) {\n        const translations = item.querySelectorAll('[class*=\"glossaryTranslation\"]');\n        if (translations.length > 0) {\n          const firstTranslation = translations[0].textContent?.trim();\n          if (firstTranslation && slugifyTitle(firstTranslation) === hash) {\n            return firstTranslation;\n          }\n        }\n      }\n    }\n    \n    return currentKeywordTitle;\n  }, [currentKeywordTitle, isGlossaryPage]);\n  \n  const [effectiveKeywordTitle, setEffectiveKeywordTitle] = useState(currentKeywordTitle);\n  \n  useEffect(() => {\n    if (isOpen && isGlossaryPage) {\n      const keyword = getKeywordFromHash();\n      setEffectiveKeywordTitle(keyword);\n    } else {\n      setEffectiveKeywordTitle(currentKeywordTitle);\n    }\n  }, [isOpen, currentKeywordTitle, isGlossaryPage, getKeywordFromHash]);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (!isGlossaryPage) return;\n\n    if (isOpen) {\n      savedScrollPosition.current = window.scrollY || document.documentElement.scrollTop;\n      document.body.style.position = 'fixed';\n      document.body.style.top = `-${savedScrollPosition.current}px`;\n      document.body.style.width = '100%';\n      document.body.style.overflow = 'hidden';\n    } else {\n      const scrollY = savedScrollPosition.current;\n      document.body.style.position = '';\n      document.body.style.top = '';\n      document.body.style.width = '';\n      document.body.style.overflow = '';\n      \n      document.body.setAttribute('data-restoring-scroll', 'true');\n      \n      requestAnimationFrame(() => {\n        window.scrollTo({\n          top: scrollY,\n          behavior: 'instant'\n        });\n        \n        setTimeout(() => {\n          window.scrollTo({\n            top: scrollY,\n            behavior: 'instant'\n          });\n          \n          setTimeout(() => {\n            document.body.removeAttribute('data-restoring-scroll');\n          }, 100);\n        }, 50);\n      });\n    }\n\n    return () => {\n      if (isGlossaryPage && !isOpen) {\n        const scrollY = savedScrollPosition.current;\n        document.body.style.position = '';\n        document.body.style.top = '';\n        document.body.style.width = '';\n        document.body.style.overflow = '';\n        \n        requestAnimationFrame(() => {\n          window.scrollTo({\n            top: scrollY,\n            behavior: 'instant'\n          });\n        });\n      }\n    };\n  }, [isOpen, isGlossaryPage]);\n\n  const handleSubmit = useCallback(async () => {\n    if (!interpretation.trim()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const siteKey = process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY;\n      const token = siteKey ? await getRecaptchaToken(siteKey, 'glossary_submit') : null;\n\n      const formData = {\n        interpretation,\n        name: name || null,\n        keyword: effectiveKeywordTitle,\n        recaptchaToken: token,\n        website\n      };\n\n      const response = await fetch('/api/submit-entry', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        setInterpretation('');\n        setName('');\n        onClose();\n      } else {\n        const error = await response.json();\n        console.error('Failed to submit entry:', error);\n      }\n    } catch (error) {\n      console.error('Error submitting entry:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [interpretation, name, effectiveKeywordTitle, onClose]);\n\n  useEffect(() => {\n    if (onSubmitRef) {\n      onSubmitRef.current = handleSubmit;\n    }\n  }, [onSubmitRef, handleSubmit]);\n\n  return (\n    <>\n      <div className={`submit-entry-panel-wrapper ${isOpen ? 'open' : ''}`}>\n        <div className=\"submit-entry-panel-close\">\n          <CrossButton color={COLOR_WHITE} onClick={onClose} />\n        </div>\n\n        <div className=\"submit-entry-panel-content\">\n          <form ref={formRef} className=\"submit-entry-form\" onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\n            <textarea \n              className=\"submit-entry-textarea submit-entry-interpretation\"\n              placeholder={`Type to Submit your interpretation of ${effectiveKeywordTitle || 'this word'}`}\n              rows={10}\n              value={interpretation}\n              onChange={(e) => setInterpretation(e.target.value)}\n            />\n            \n            <input \n              type=\"text\"\n              className=\"submit-entry-input submit-entry-name\"\n              placeholder=\"Name (Optional)\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              name=\"website\"\n              value={website}\n              onChange={(e) => setWebsite(e.target.value)}\n              tabIndex={-1}\n              autoComplete=\"off\"\n              aria-hidden=\"true\"\n              style={{ position: 'absolute', left: '-9999px', width: '1px', height: '1px', opacity: 0, pointerEvents: 'none' }}\n            />\n            <div className=\"submit-entry-privacy-text\">\n              <p>Data Privacy Consent:</p>\n              <p className=\"submit-entry-privacy-content\">By submitting an entry, you consent to its use for research, educational, and documentation purposes related to this project. Identifying information will not be shared without your consent.</p>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <div \n        className={`submit-entry-panel-overlay ${isOpen ? 'open' : ''}`}\n        onClick={onClose}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2362, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/navigation/InventoryPanel.jsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_BLACK } from '../_setup/colors';\nimport './inventory.scss';\n\nexport default function InventoryPanel({ isOpen, onClose, furnitureItems, onItemClick, onRemoveItem }) {\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('inventory-open');\n    } else {\n      document.body.classList.remove('inventory-open');\n    }\n    return () => {\n      document.body.classList.remove('inventory-open');\n    };\n  }, [isOpen]);\n\n  return (\n    <>\n      <div className={`inventory-wrapper ${isOpen ? 'open' : ''}`}>\n        <div className=\"inventory-close\">\n          <CrossButton color={COLOR_BLACK} onClick={onClose} />\n        </div>\n\n        <nav className=\"inventory-nav\">\n          <ul>\n            {furnitureItems.map((item, index) => (\n              <li key={index}>\n                <div\n                  className={`inventory-item ${item.active ? 'inventory-item-active' : ''}`}\n                  onClick={() => onItemClick(item.type)}\n                >\n                  <div className=\"inventory-item-image\">\n                    <img src={item.image} alt={item.name} />\n                  </div>\n                  {item.active && (\n                    <div \n                      className=\"inventory-item-remove\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        if (onRemoveItem) {\n                          onRemoveItem(item.type);\n                        } else {\n                          onItemClick(item.type);\n                        }\n                      }}\n                    >\n                      remove\n                    </div>\n                  )}\n                </div>\n              </li>\n            ))}\n          </ul>\n        </nav>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;;AAOe,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,YAAY,EAAE;IACnG,gNAAK,CAAC,SAAS,CAAC;QACd,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC9B,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,qBACE;kBACE,cAAA,8OAAC;YAAI,WAAW,CAAC,kBAAkB,EAAE,SAAS,SAAS,IAAI;;8BACzD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6IAAW;wBAAC,OAAO,6IAAW;wBAAE,SAAS;;;;;;;;;;;8BAG5C,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;kCACE,eAAe,GAAG,CAAC,CAAC,MAAM,sBACzB,8OAAC;0CACC,cAAA,8OAAC;oCACC,WAAW,CAAC,eAAe,EAAE,KAAK,MAAM,GAAG,0BAA0B,IAAI;oCACzE,SAAS,IAAM,YAAY,KAAK,IAAI;;sDAEpC,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,KAAK,KAAK,KAAK;gDAAE,KAAK,KAAK,IAAI;;;;;;;;;;;wCAErC,KAAK,MAAM,kBACV,8OAAC;4CACC,WAAU;4CACV,SAAS,CAAC;gDACR,EAAE,eAAe;gDACjB,IAAI,cAAc;oDAChB,aAAa,KAAK,IAAI;gDACxB,OAAO;oDACL,YAAY,KAAK,IAAI;gDACvB;4CACF;sDACD;;;;;;;;;;;;+BAnBE;;;;;;;;;;;;;;;;;;;;;;AA+BvB"}},
    {"offset": {"line": 2480, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/captureModal/CaptureModal.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_WHITE } from '../_setup/colors';\nimport { getRecaptchaToken } from '../utils/recaptcha';\nimport './capture-modal.scss';\n\nexport default function CaptureModal({ \n  isOpen, \n  onClose, \n  cachedImageDataUrl \n}) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [website, setWebsite] = useState('');\n\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen]);\n\n  const downloadImage = (dataUrl) => {\n    if (!dataUrl) return;\n    \n    const link = document.createElement('a');\n    link.download = `floor-plan-${Date.now()}.png`;\n    link.href = dataUrl;\n    link.click();\n  };\n\n  const handleSubmit = async () => {\n    if (!cachedImageDataUrl) {\n      console.error('No cached image available');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      downloadImage(cachedImageDataUrl);\n\n      const siteKey = process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY;\n      const token = siteKey ? await getRecaptchaToken(siteKey, 'screenshot_submit') : null;\n\n      const response = await fetch(cachedImageDataUrl);\n      const blob = await response.blob();\n      \n      const formData = new FormData();\n      formData.append('screenshot', blob, 'floor-plan.png');\n      if (token) formData.append('recaptchaToken', token);\n      formData.append('website', website);\n\n      const submitResponse = await fetch('/api/submit-floor-plan', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!submitResponse.ok) {\n        const err = await submitResponse.json();\n        console.error('Error submitting floor plan:', err);\n      }\n\n      setIsSubmitting(false);\n      onClose();\n    } catch (error) {\n      console.error('Error processing submission:', error);\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className={`capture-modal-wrapper ${isOpen ? 'open' : ''}`}>\n      <div className=\"capture-modal-close\">\n        <CrossButton color={COLOR_WHITE} onClick={onClose} />\n      </div>\n\n      <div className=\"capture-modal-content\">\n        <input\n          type=\"text\"\n          name=\"website\"\n          value={website}\n          onChange={(e) => setWebsite(e.target.value)}\n          tabIndex={-1}\n          autoComplete=\"off\"\n          aria-hidden=\"true\"\n          style={{ position: 'absolute', left: '-9999px', width: '1px', height: '1px', opacity: 0, pointerEvents: 'none' }}\n        />\n        <div className=\"capture-modal-text\">\n          <p>If you want to share your floor Plan arrangement with us Click submit Below</p>\n        </div>\n\n        <button \n          type=\"button\" \n          className=\"capture-submit-button\"\n          onClick={handleSubmit}\n          disabled={isSubmitting || !cachedImageDataUrl}\n        >\n          {isSubmitting\n            ? 'Submitting...'\n            : !cachedImageDataUrl\n              ? 'Loading data...'\n              : 'submit'}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;;AAQe,SAAS,aAAa,EACnC,MAAM,EACN,OAAO,EACP,kBAAkB,EACnB;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,gNAAK,CAAC,SAAS,CAAC;QACd,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC9B,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,SAAS;QAEd,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG,CAAC,WAAW,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC;QAC9C,KAAK,IAAI,GAAG;QACZ,KAAK,KAAK;IACZ;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,oBAAoB;YACvB,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,cAAc;YAEd,MAAM,UAAU,QAAQ,GAAG,CAAC,8BAA8B;YAC1D,MAAM,QAAQ,UAAU,MAAM,IAAA,qJAAiB,EAAC,SAAS,uBAAuB;YAEhF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,cAAc,MAAM;YACpC,IAAI,OAAO,SAAS,MAAM,CAAC,kBAAkB;YAC7C,SAAS,MAAM,CAAC,WAAW;YAE3B,MAAM,iBAAiB,MAAM,MAAM,0BAA0B;gBAC3D,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,eAAe,EAAE,EAAE;gBACtB,MAAM,MAAM,MAAM,eAAe,IAAI;gBACrC,QAAQ,KAAK,CAAC,gCAAgC;YAChD;YAEA,gBAAgB;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,gBAAgB;QAClB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAC,sBAAsB,EAAE,SAAS,SAAS,IAAI;;0BAC7D,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6IAAW;oBAAC,OAAO,6IAAW;oBAAE,SAAS;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,UAAU,CAAC;wBACX,cAAa;wBACb,eAAY;wBACZ,OAAO;4BAAE,UAAU;4BAAY,MAAM;4BAAW,OAAO;4BAAO,QAAQ;4BAAO,SAAS;4BAAG,eAAe;wBAAO;;;;;;kCAEjH,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;sCAAE;;;;;;;;;;;kCAGL,8OAAC;wBACC,MAAK;wBACL,WAAU;wBACV,SAAS;wBACT,UAAU,gBAAgB,CAAC;kCAE1B,eACG,kBACA,CAAC,qBACC,oBACA;;;;;;;;;;;;;;;;;;AAKhB"}},
    {"offset": {"line": 2633, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/navigation/NavigationControls.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation';\nimport { useStore, getStore } from 'usestore-react';\nimport { toPng } from 'html-to-image';\nimport InfoPanel from './InfoPanel';\nimport IndexPanel from './IndexPanel';\nimport SubmitEntryPanel from './SubmitEntryPanel';\nimport InventoryPanel from './InventoryPanel';\nimport CaptureModal from '../captureModal/CaptureModal';\nimport './navigation.scss';\n\nexport default function NavigationControls({\n  camera,\n  setCamera,\n  onSubmitEntry = null,\n  currentKeywordTitle = null\n}) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [cameraOptions, setCameraOptions] = useStore('cameraOptions');\n  const [infoPanelOpen, setInfoPanelOpen] = useState(false);\n  const [indexPanelOpen, setIndexPanelOpen] = useState(false);\n  const [submitEntryPanelOpen, setSubmitEntryPanelOpen] = useState(false);\n  const submitFormRef = useRef(null);\n  const currentKeywordTitleRef = useRef(currentKeywordTitle);\n  const isGlossaryPage = pathname === '/glossary';\n\n  useEffect(() => {\n    currentKeywordTitleRef.current = currentKeywordTitle;\n  }, [currentKeywordTitle]);\n  const isKitOfPartsPage = pathname === '/kit-of-parts';\n  const isLivingContinuityPage = pathname === '/living-continuity' || pathname === '/';\n  const isLandingPage = pathname === '/' || pathname === '/living-continuity';\n  const [objects, setObjects] = useStore('kitOfParts_objectsState', false);\n  const [bathroom, setBathroom] = useStore('kitOfParts_clickbathroom2', false);\n  const [boxbed, setBoxbed] = useStore('kitOfParts_boxbedState', false);\n  const [front, setFront] = useStore('kitOfParts_frontState', false);\n  const [kitchen, setKitchen] = useStore('kitOfParts_kitchenState', false);\n  const [k2, setK2] = useStore('kitOfParts_k2State', false);\n  const [st1, setSt1] = useStore('kitOfParts_st1State', false);\n  const [st2, setSt2] = useStore('kitOfParts_st2State', false);\n  const [stairs, setStairs] = useStore('kitOfParts_stairsState', false);\n  const [sceneRotation, setSceneRotation] = useStore('kitOfParts_sceneRotation', false);\n  const [livingContinuityRotation, setLivingContinuityRotation] = useStore('livingContinuity_sceneRotation', false);\n  const [selectedObjectId] = useStore('selectedObjectId', null);\n  const [, setObjectRotationTrigger] = useStore('objectRotationTrigger', 0);\n  const [, setObjectPositionResetTrigger] = useStore('objectPositionResetTrigger', 0);\n  const [walkThroughActive, setWalkThroughActive] = useStore('walkThroughActive', false);\n  const [closeAllPanels, setCloseAllPanels] = useStore('kitOfParts_closeAllPanels', false);\n  const [isCaptureModalOpen, setIsCaptureModalOpen] = useStore('kitOfParts_captureModalOpen', false);\n  const [cachedImageDataUrl] = useStore('kitOfParts_cachedImageDataUrl', null);\n  const [, setCaptureMode] = useStore('kitOfParts_captureMode', false);\n  const [, setCachedImageDataUrl] = useStore('kitOfParts_cachedImageDataUrl', null);\n\n  useEffect(() => {\n    if (closeAllPanels && isKitOfPartsPage) {\n      setInfoPanelOpen(false);\n      setIndexPanelOpen(false);\n      setCloseAllPanels(false);\n    }\n  }, [closeAllPanels, isKitOfPartsPage, setCloseAllPanels]);\n\n  const handleCloseCaptureModal = useCallback(() => {\n    setIsCaptureModalOpen(false);\n    setCaptureMode(false);\n    setTimeout(() => setCachedImageDataUrl(null), 300);\n  }, [setIsCaptureModalOpen, setCaptureMode, setCachedImageDataUrl]);\n\n  const [cameFromLivingContinuity, setCameFromLivingContinuity] = useState(false);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && isGlossaryPage) {\n      const timestamp = sessionStorage.getItem('fromLivingContinuity');\n      if (timestamp) {\n        const timeDiff = Date.now() - parseInt(timestamp, 10);\n        const isRecentNavigation = timeDiff < 10000;\n        let hasValidReferrer = false;\n        try {\n          if (document.referrer) {\n            const referrerUrl = new URL(document.referrer);\n            hasValidReferrer = (referrerUrl.pathname === '/living-continuity' || referrerUrl.pathname === '/') && referrerUrl.origin === window.location.origin;\n          }\n        } catch (e) {\n          hasValidReferrer = false;\n        }\n        setCameFromLivingContinuity(isRecentNavigation && hasValidReferrer);\n      } else {\n        setCameFromLivingContinuity(false);\n      }\n    } else if (typeof window !== 'undefined' && !isGlossaryPage) {\n      sessionStorage.removeItem('fromLivingContinuity');\n    }\n  }, [isGlossaryPage]);\n\n  const handleGoBack = () => {\n    if (typeof window !== 'undefined') {\n      sessionStorage.removeItem('fromLivingContinuity');\n    }\n    window.location.href = '/living-continuity';\n  };\n\n  const handleInfoClick = () => {\n    setInfoPanelOpen(!infoPanelOpen);\n    if (indexPanelOpen) {\n      setIndexPanelOpen(false);\n    }\n  };\n\n  const handleIndexClick = () => {\n    setIndexPanelOpen(!indexPanelOpen);\n    if (infoPanelOpen) {\n      setInfoPanelOpen(false);\n    }\n  };\n\n  const handleTour = () => {\n    setWalkThroughActive(!walkThroughActive);\n  };\n\n  const handleSaveImage = useCallback(() => {\n    if (isKitOfPartsPage) {\n      setCaptureMode(true);\n    } else {\n      const mainContent = document.querySelector('main.kit-parts-main');\n      if (!mainContent) {\n        return;\n      }\n\n      toPng(mainContent, { cacheBust: true })\n        .then((dataUrl) => {\n          const link = document.createElement('a');\n          link.download = 'kit-of-parts.png';\n          link.href = dataUrl;\n          link.click();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [isKitOfPartsPage, setCaptureMode]);\n\n  const slugifyTitleForUrl = (title) => {\n    return title\n      .toLowerCase()\n      .trim()\n      .replace(/[^\\w\\s-]/g, '')\n      .replace(/[\\s_-]+/g, '-')\n      .replace(/^-+|-+$/g, '');\n  };\n\n  useEffect(() => {\n    if (!isGlossaryPage && submitEntryPanelOpen) {\n      setSubmitEntryPanelOpen(false);\n    }\n  }, [isGlossaryPage, submitEntryPanelOpen]);\n\n  useEffect(() => {\n    if (!isGlossaryPage) return;\n\n    if (!submitEntryPanelOpen) {\n      const currentHash = typeof window !== 'undefined' ? window.location.hash : '';\n      if (currentHash.endsWith('-submit')) {\n        const keywordSlug = currentHash.replace('#', '').replace('-submit', '');\n        window.history.replaceState(null, '', `#${keywordSlug}`);\n      }\n      return;\n    }\n\n  }, [submitEntryPanelOpen, currentKeywordTitle, pathname, router, isGlossaryPage]);\n\n  const slugifyTitle = (title) => {\n    return title\n      .toLowerCase()\n      .trim()\n      .replace(/[^\\w\\s-]/g, '')\n      .replace(/[\\s_-]+/g, '-')\n      .replace(/^-+|-+$/g, '');\n  };\n\n  const handleSubmitEntryClick = () => {\n    if (submitEntryPanelOpen && submitFormRef.current) {\n      submitFormRef.current();\n    } else {\n      if (isGlossaryPage && typeof window !== 'undefined') {\n        const hash = window.location.hash.substring(1);\n        let keywordTitle = currentKeywordTitle || 'self-determination';\n\n        if (hash && !hash.endsWith('-submit')) {\n          const keywordElement = document.getElementById(hash);\n          if (keywordElement) {\n            const translations = keywordElement.querySelectorAll('[class*=\"glossaryTranslation\"]');\n            if (translations.length > 0) {\n              const firstTranslation = translations[0].textContent?.trim();\n              if (firstTranslation) {\n                keywordTitle = firstTranslation;\n                currentKeywordTitleRef.current = firstTranslation;\n              }\n            }\n          } else {\n            const allGlossaryItems = document.querySelectorAll('[data-keyword-id]');\n            let centeredItem = null;\n            for (const item of allGlossaryItems) {\n              const rect = item.getBoundingClientRect();\n              const viewportCenter = window.innerHeight / 2;\n              const itemCenter = rect.top + rect.height / 2;\n              if (Math.abs(itemCenter - viewportCenter) < 100) {\n                centeredItem = item;\n                break;\n              }\n            }\n\n            if (centeredItem) {\n              const translations = centeredItem.querySelectorAll('[class*=\"glossaryTranslation\"]');\n              if (translations.length > 0) {\n                const firstTranslation = translations[0].textContent?.trim();\n                if (firstTranslation) {\n                  keywordTitle = firstTranslation;\n                  currentKeywordTitleRef.current = firstTranslation;\n                }\n              }\n            }\n          }\n        } else {\n          const allGlossaryItems = document.querySelectorAll('[data-keyword-id]');\n          let centeredItem = null;\n          for (const item of allGlossaryItems) {\n            const rect = item.getBoundingClientRect();\n            const viewportCenter = window.innerHeight / 2;\n            const itemCenter = rect.top + rect.height / 2;\n            if (Math.abs(itemCenter - viewportCenter) < 100) {\n              centeredItem = item;\n              break;\n            }\n          }\n\n          if (centeredItem) {\n            const translations = centeredItem.querySelectorAll('[class*=\"glossaryTranslation\"]');\n            if (translations.length > 0) {\n              const firstTranslation = translations[0].textContent?.trim();\n              if (firstTranslation) {\n                keywordTitle = firstTranslation;\n                currentKeywordTitleRef.current = firstTranslation;\n              }\n            }\n          }\n        }\n\n        const keywordSlug = slugifyTitle(keywordTitle);\n        window.history.replaceState(null, '', `#${keywordSlug}-submit`);\n      }\n      setSubmitEntryPanelOpen(true);\n      if (onSubmitEntry) {\n        onSubmitEntry();\n      }\n    }\n  };\n\n  const handleCloseSubmitPanel = () => {\n    setSubmitEntryPanelOpen(false);\n  };\n\n  const handleInventoryClick = () => {\n    if (isKitOfPartsPage) {\n      setObjects(!objects);\n    }\n  };\n\n  const [hashInitialized, setHashInitialized] = useState(false);\n\n  const updateURLHash = useCallback(() => {\n    if (!isKitOfPartsPage || !hashInitialized) return;\n\n    const activeItems = [];\n    if (bathroom) activeItems.push('bathroom');\n    if (boxbed) activeItems.push('boxbed');\n    if (front) activeItems.push('front');\n    if (kitchen) activeItems.push('kitchen');\n    if (k2) activeItems.push('k2');\n    if (st1) activeItems.push('st1');\n    if (st2) activeItems.push('st2');\n    if (stairs) activeItems.push('stairs');\n\n    const hash = activeItems.length > 0 ? `#${activeItems.join('-')}` : '';\n    if (typeof window !== 'undefined') {\n      window.history.replaceState(null, '', `${pathname}${hash}`);\n    }\n  }, [isKitOfPartsPage, bathroom, boxbed, front, kitchen, k2, st1, st2, stairs, pathname, hashInitialized]);\n\n  useEffect(() => {\n    if (!isKitOfPartsPage || typeof window === 'undefined') return;\n\n    const hash = window.location.hash.slice(1);\n    if (hash) {\n      const items = hash.split('-');\n      items.forEach(item => {\n        switch (item.trim()) {\n          case 'bathroom':\n            setBathroom(true);\n            break;\n          case 'boxbed':\n            setBoxbed(true);\n            break;\n          case 'front':\n            setFront(true);\n            break;\n          case 'kitchen':\n            setKitchen(true);\n            break;\n          case 'k2':\n            setK2(true);\n            break;\n          case 'st1':\n            setSt1(true);\n            break;\n          case 'st2':\n            setSt2(true);\n            break;\n          case 'stairs':\n            setStairs(true);\n            break;\n          default:\n            break;\n        }\n      });\n    } else {\n      setBathroom(true);\n      setBoxbed(true);\n      setFront(true);\n      setKitchen(true);\n      setK2(true);\n      setSt1(true);\n      setSt2(true);\n      setStairs(true);\n      if (typeof window !== 'undefined') {\n        window.history.replaceState(null, '', `${pathname}#bathroom-boxbed-front-kitchen-k2-st1-st2-stairs`);\n      }\n    }\n    setHashInitialized(true);\n  }, [isKitOfPartsPage, pathname]);\n\n  useEffect(() => {\n    if (!isKitOfPartsPage || !hashInitialized) return;\n    updateURLHash();\n  }, [isKitOfPartsPage, bathroom, boxbed, front, kitchen, k2, st1, st2, stairs, updateURLHash, hashInitialized]);\n\n  const handleInventoryItemClick = (itemType) => {\n    if (!isKitOfPartsPage) return;\n\n    switch (itemType) {\n      case 'bathroom':\n        setBathroom(!bathroom);\n        break;\n      case 'boxbed':\n        setBoxbed(!boxbed);\n        break;\n      case 'front':\n        setFront(!front);\n        break;\n      case 'kitchen':\n        setKitchen(!kitchen);\n        break;\n      case 'k2':\n        setK2(!k2);\n        break;\n      case 'st1':\n        setSt1(!st1);\n        break;\n      case 'st2':\n        setSt2(!st2);\n        break;\n      case 'stairs':\n        setStairs(!stairs);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleRemoveItem = (itemType) => {\n    if (!isKitOfPartsPage) return;\n\n    switch (itemType) {\n      case 'bathroom':\n        setBathroom(false);\n        break;\n      case 'boxbed':\n        setBoxbed(false);\n        break;\n      case 'front':\n        setFront(false);\n        break;\n      case 'kitchen':\n        setKitchen(false);\n        break;\n      case 'k2':\n        setK2(false);\n        break;\n      case 'st1':\n        setSt1(false);\n        break;\n      case 'st2':\n        setSt2(false);\n        break;\n      case 'stairs':\n        setStairs(false);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleRevert = () => {\n    if (!isKitOfPartsPage) return;\n    \n    setBathroom(true);\n    setBoxbed(true);\n    setFront(true);\n    setKitchen(true);\n    setK2(true);\n    setSt1(true);\n    setSt2(true);\n    setStairs(true);\n    \n    setObjectPositionResetTrigger(prev => prev + 1);\n  };\n\n  const furnitureItems = isKitOfPartsPage ? [\n    { type: 'bathroom', name: 'Bathroom', image: '/images/B1.png', active: bathroom },\n    { type: 'boxbed', name: 'Boxbed', image: '/images/BB.png', active: boxbed },\n    { type: 'front', name: 'Front Porch', image: '/images/FP.png', active: front },\n    { type: 'kitchen', name: 'Kitchen', image: '/images/K1.png', active: kitchen },\n    { type: 'k2', name: 'Kitchen (storage)', image: '/images/K2.png', active: k2 },\n    { type: 'st1', name: 'Storage 1', image: '/images/S1.png', active: st1 },\n    { type: 'st2', name: 'Storage 2', image: '/images/S1.png', active: st2 },\n    { type: 'stairs', name: 'Stairs', image: '/images/ST1.png', active: stairs },\n  ] : [];\n\n  return (\n    <>\n      {isGlossaryPage && cameFromLivingContinuity && (\n        <div className=\"navigation-controls-top-right\">\n          <button\n            className=\"navigation-button navigation-button-go-back\"\n            onClick={handleGoBack}\n            aria-label=\"Go back to living continuity\"\n          >\n            <small></small><span>a collective inquiry</span>\n            <img \n              src=\"/SVG/arrow.svg\" \n              alt=\"\" \n              className=\"navigation-button-go-back-arrow\"\n              aria-hidden=\"true\"\n            />\n          </button>\n        </div>\n      )}\n      {isKitOfPartsPage && (\n        <div className=\"navigation-controls-left\">\n          <button\n            className=\"navigation-button navigation-button-inventory\"\n            onClick={handleInventoryClick}\n            aria-label=\"Inventory\"\n          >\n            ELEMENTS\n          </button>\n          <button\n            className=\"navigation-button navigation-button-restart navigation-button-restart-mobile\"\n            onClick={handleRevert}\n            aria-label=\"Restart\"\n          >\n            restart\n          </button>\n        </div>\n      )}\n      <div className=\"navigation-controls\">\n        {isGlossaryPage ? (\n          <button\n            className={`navigation-button navigation-button-submit ${submitEntryPanelOpen ? 'navigation-button-open' : ''}`}\n            onClick={handleSubmitEntryClick}\n            aria-label=\"Submit Entry\"\n          >\n            TAP TO SUBMIT YOUR ENTRY\n          </button>\n        ) : isKitOfPartsPage ? (\n          <>\n            <button\n              className={`navigation-button navigation-button-rotation ${sceneRotation === true ? 'navigation-button-rotation-active' : ''}`}\n              onClick={() => {\n                const currentValue = sceneRotation === true;\n                setSceneRotation(!currentValue);\n              }}\n              aria-label={sceneRotation === true ? \"Stop Rotation\" : \"Start Rotation\"}\n            >\n              <span className=\"navigation-button-rotation-text\">{sceneRotation === true ? 'focus' : 'rotate'}</span>\n              <span className=\"navigation-button-rotation-icon\">\n                {sceneRotation === true ? (\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M13 10H10V13M17 10H20V13M13 20H10V17M17 20H20V17M26 15C26 21.0751 21.0751 26 15 26C8.92487 26 4 21.0751 4 15C4 8.92487 8.92487 4 15 4C21.0751 4 26 8.92487 26 15Z\" stroke=\"white\" strokeWidth=\"1.2\" strokeLinecap=\"round\" />\n                  </svg>\n                ) : (\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M26 15C26 21.0751 21.0751 26 15 26C8.92487 26 4 21.0751 4 15M26 15C26 8.92487 21.0751 4 15 4C8.92487 4 4 8.92487 4 15M26 15C26 17.12 23.0974 18.9318 19 19.6591M26 15C26 12.2386 21.0751 10 15 10M4 15C4 12.88 6.90264 11.0682 11 10.3409M4 15C4 17.7615 8.92487 20 15 20M15 10L17 7M15 10L17 13M15 20L13 17M15 20L13 23\" stroke=\"white\" strokeWidth=\"1.2\" strokeLinecap=\"round\" />\n                  </svg>\n                )}\n              </span>\n            </button>\n            <button\n              className={`navigation-button navigation-button-capture ${submitEntryPanelOpen ? 'navigation-button-open' : ''}`}\n              onClick={handleSaveImage}\n              aria-label=\"Capture\"\n            >\n              capture\n            </button>\n            <button\n              className=\"navigation-button navigation-button-restart navigation-button-restart-desktop\"\n              onClick={handleRevert}\n              aria-label=\"Restart\"\n            >\n              restart\n            </button>\n          </>\n        ) : (\n          <>\n            <button\n              className={`navigation-button navigation-button-rotation ${livingContinuityRotation ? 'navigation-button-rotation-active' : ''}`}\n              onClick={() => {\n                const currentValue = livingContinuityRotation ?? false;\n                setLivingContinuityRotation(!currentValue);\n              }}\n              aria-label={livingContinuityRotation ? \"Stop Rotation\" : \"Start Rotation\"}\n            >\n              <span className=\"navigation-button-rotation-text\">{livingContinuityRotation ? 'focus' : 'rotate'}</span>\n              <span className=\"navigation-button-rotation-icon\">\n                {livingContinuityRotation ? (\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M13 10H10V13M17 10H20V13M13 20H10V17M17 20H20V17M26 15C26 21.0751 21.0751 26 15 26C8.92487 26 4 21.0751 4 15C4 8.92487 8.92487 4 15 4C21.0751 4 26 8.92487 26 15Z\" stroke=\"white\" strokeWidth=\"1.2\" strokeLinecap=\"round\" />\n                  </svg>\n                ) : (\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M26 15C26 21.0751 21.0751 26 15 26C8.92487 26 4 21.0751 4 15M26 15C26 8.92487 21.0751 4 15 4C8.92487 4 4 8.92487 4 15M26 15C26 17.12 23.0974 18.9318 19 19.6591M26 15C26 12.2386 21.0751 10 15 10M4 15C4 12.88 6.90264 11.0682 11 10.3409M4 15C4 17.7615 8.92487 20 15 20M15 10L17 7M15 10L17 13M15 20L13 17M15 20L13 23\" stroke=\"white\" strokeWidth=\"1.2\" strokeLinecap=\"round\" />\n                  </svg>\n                )}\n              </span>\n            </button>\n            <button\n              className={`navigation-button navigation-button-walk-through ${walkThroughActive ? 'navigation-button-open' : ''} ${submitEntryPanelOpen ? 'navigation-button-open' : ''}`}\n              onClick={handleTour}\n              aria-label={walkThroughActive ? \"Stop Walk Through\" : \"Start Walk Through\"}\n            >\n              {walkThroughActive ? 'static view' : ' dynamic view'}\n            </button>\n          </>\n        )}\n        {isLivingContinuityPage && (\n          <button\n            className=\"navigation-button navigation-button-index\"\n            onClick={handleIndexClick}\n            aria-label=\"List View\"\n          >\n            <span className=\"navigation-button-info-text\">List View</span>\n          </button>\n        )}\n        <button\n          className=\"navigation-button navigation-button-pink\"\n          onClick={handleInfoClick}\n          aria-label=\"Info\"\n        >\n          <span className=\"navigation-button-info-text\">info</span>\n          <span className=\"navigation-button-info-icon\">?</span>\n        </button>\n        {isKitOfPartsPage && (\n          <CaptureModal \n            isOpen={isCaptureModalOpen}\n            onClose={handleCloseCaptureModal}\n            cachedImageDataUrl={cachedImageDataUrl}\n          />\n        )}\n      </div>\n      {isLandingPage && (\n        <IndexPanel \n          isOpen={indexPanelOpen} \n          onClose={() => setIndexPanelOpen(false)}\n          onReopen={() => setIndexPanelOpen(true)}\n        />\n      )}\n      <InfoPanel isOpen={infoPanelOpen} onClose={() => setInfoPanelOpen(false)} />\n      <SubmitEntryPanel\n        isOpen={submitEntryPanelOpen}\n        onClose={handleCloseSubmitPanel}\n        currentKeywordTitle={currentKeywordTitle || 'self-determination'}\n        onSubmitRef={submitFormRef}\n      />\n      {isKitOfPartsPage && (\n        <InventoryPanel\n          isOpen={objects}\n          onClose={() => setObjects(false)}\n          furnitureItems={furnitureItems}\n          onItemClick={handleInventoryItemClick}\n          onRemoveItem={handleRemoveItem}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3364, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/app/layout.js"],"sourcesContent":["'use client';\n\nimport '../components/utils/appStores';\nimport { useEffect, useState, useRef, Suspense } from 'react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport Modal from 'react-modal';\nimport '../components/_setup/globals.scss';\nimport MenuWrapper from '../components/menu/MenuWrapper';\nimport GradientController from '../components/gradient';\nimport HomeButton from '../components/homeButton';\nimport HomeTitle from '../components/homeTitle';\nimport NavigationControls from '../components/navigation/NavigationControls';\n\nexport default function RootLayout({ children }) {\n  const pathname = usePathname();\n  const [isPageVisible, setIsPageVisible] = useState(true);\n  const [displayChildren, setDisplayChildren] = useState(children);\n  const [isInitialMount, setIsInitialMount] = useState(true);\n  \n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const rootElement = document.getElementById('root');\n      if (rootElement && !rootElement.hasAttribute('data-modal-initialized')) {\n        try {\n          Modal.setAppElement('#root');\n          rootElement.setAttribute('data-modal-initialized', 'true');\n        } catch (error) {\n          console.warn('Modal.setAppElement warning:', error);\n        }\n      }\n\n      const setVh = () => {\n        const vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n\n      setVh();\n      window.addEventListener('resize', setVh);\n      window.addEventListener('orientationchange', setVh);\n\n      return () => {\n        window.removeEventListener('resize', setVh);\n        window.removeEventListener('orientationchange', setVh);\n      };\n    }\n  }, []);\n  \n  useEffect(() => {\n    // Skip transition on initial mount\n    if (isInitialMount) {\n      setIsInitialMount(false);\n      return;\n    }\n    \n    // Trigger fade-out when pathname changes\n    setIsPageVisible(false);\n    \n    // After fade-out, update children and fade-in using requestAnimationFrame\n    let rafId1 = null;\n    let rafId2 = null;\n    let rafId3 = null;\n    let checkTimeRafId = null;\n    \n    const startTime = performance.now();\n    const checkTime = () => {\n      if (performance.now() - startTime >= 350) {\n        rafId1 = requestAnimationFrame(() => {\n          rafId2 = requestAnimationFrame(() => {\n      setDisplayChildren(children);\n            rafId3 = requestAnimationFrame(() => {\n          setIsPageVisible(true);\n        });\n      });\n        });\n      } else {\n        checkTimeRafId = requestAnimationFrame(checkTime);\n      }\n    };\n    checkTimeRafId = requestAnimationFrame(checkTime);\n    \n    return () => {\n      if (rafId1) cancelAnimationFrame(rafId1);\n      if (rafId2) cancelAnimationFrame(rafId2);\n      if (rafId3) cancelAnimationFrame(rafId3);\n      if (checkTimeRafId) cancelAnimationFrame(checkTimeRafId);\n    };\n  }, [pathname, children, isInitialMount]);\n  \n  useEffect(() => {\n    // Add page-specific class to body for gradient styling\n    const body = document.body;\n    const html = document.documentElement;\n    \n    // Remove all page classes\n    body.classList.remove('page-landing', 'page-glossary', 'page-kit');\n    html.classList.remove('page-landing', 'page-glossary', 'page-kit');\n    \n    // Add landing page class if on landing page\n    if (pathname === '/living-continuity' || pathname === '/') {\n      body.classList.add('page-landing');\n      html.classList.add('page-landing');\n    } \n    // Add glossary page class if on glossary page\n    else if (pathname === '/glossary') {\n      body.classList.add('page-glossary');\n      html.classList.add('page-glossary');\n    }\n    // Add kit page class if on kit-of-parts page\n    else if (pathname === '/kit-of-parts') {\n      body.classList.add('page-kit');\n      html.classList.add('page-kit');\n    }\n  }, [pathname]);\n\n  return (\n    <html lang=\"en\">\n      <head>\n        <title>Living Continuity</title>\n        <meta name=\"description\" content=\"Living Continuity - Interactive 3D Experience\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <meta name=\"theme-color\" content=\"#1C1C1C\" />\n        <meta name=\"robots\" content=\"index, follow\" />\n        <meta property=\"og:title\" content=\"Living Continuity\" />\n        <meta property=\"og:description\" content=\"Living Continuity - Interactive 3D Experience\" />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <link rel=\"icon\" href=\"/SVG/rotate.svg\" type=\"image/svg+xml\" />\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link rel=\"preload\" href=\"/fonts/ortica-main/OrticaAngular-Bold.woff2\" as=\"font\" type=\"font/woff2\" crossOrigin=\"anonymous\" />\n        <link rel=\"preload\" href=\"/fonts/ronzino-main/Ronzino-Regular.woff2\" as=\"font\" type=\"font/woff2\" crossOrigin=\"anonymous\" />\n      </head>\n      <body style={{ backgroundColor: 'var(--color-gray-dark-2)', color: '#ffffff', margin: 0, padding: 0 }}>\n\n       \n  \n        <div className=\"elements-wrapper\"> \n          <GradientController />\n          <HomeButton />\n          <Suspense fallback={null}>\n            <NavigationControls />\n          </Suspense>\n          <div className=\"corner-square top-left\"></div>\n          <div className=\"corner-square top-right\"></div>\n          <div className=\"corner-square bottom-left\"></div>\n          <div className=\"corner-square bottom-right\"></div>\n        </div>\n        \n        <MenuWrapper />\n        <HomeTitle />\n        \n        <div id=\"root\" className={isPageVisible ? 'page-visible' : 'page-hidden'}>\n          {displayChildren}\n        </div>\n      </body>\n    </html>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}