{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/PassiveOrbitControls.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { OrbitControls as DreiOrbitControls } from '@react-three/drei';\nimport { useThree } from '@react-three/fiber';\n\nexport default function PassiveOrbitControls(props) {\n  const { gl } = useThree();\n\n  useEffect(() => {\n    const domElement = gl.domElement;\n    if (!domElement) return;\n\n    const makeEventsPassive = () => {\n      const passiveListeners = [];\n      const originalAddEventListener = domElement.addEventListener.bind(domElement);\n      const originalRemoveEventListener = domElement.removeEventListener.bind(domElement);\n      \n      const passiveEvents = ['wheel', 'touchstart', 'touchmove'];\n      \n      domElement.addEventListener = function(type, listener, options) {\n        if (passiveEvents.includes(type)) {\n          passiveListeners.push({ type, listener, options });\n          const passiveOptions = typeof options === 'boolean' \n            ? { passive: true, capture: options }\n            : options && typeof options === 'object'\n            ? { ...options, passive: true }\n            : { passive: true };\n          return originalAddEventListener(type, listener, passiveOptions);\n        }\n        return originalAddEventListener(type, listener, options);\n      };\n\n      domElement.removeEventListener = function(type, listener, options) {\n        if (passiveEvents.includes(type)) {\n          const index = passiveListeners.findIndex(l => l.listener === listener && l.type === type);\n          if (index !== -1) {\n            passiveListeners.splice(index, 1);\n          }\n        }\n        return originalRemoveEventListener(type, listener, options);\n      };\n    };\n\n    makeEventsPassive();\n\n    return () => {\n      if (domElement.addEventListener && domElement.addEventListener !== EventTarget.prototype.addEventListener) {\n        delete domElement.addEventListener;\n        domElement.addEventListener = EventTarget.prototype.addEventListener.bind(domElement);\n      }\n      if (domElement.removeEventListener && domElement.removeEventListener !== EventTarget.prototype.removeEventListener) {\n        delete domElement.removeEventListener;\n        domElement.removeEventListener = EventTarget.prototype.removeEventListener.bind(domElement);\n      }\n    };\n  }, [gl]);\n\n  return <DreiOrbitControls {...props} />;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS,qBAAqB,KAAK;;IAChD,IAAM,AAAE,KAAO,IAAA,8NAAQ,IAAf;IAER,IAAA,0KAAS;0CAAC;YACR,IAAM,aAAa,GAAG,UAAU;YAChC,IAAI,CAAC,YAAY;YAEjB,IAAM;oEAAoB;oBACxB,IAAM,mBAAmB,EAAE;oBAC3B,IAAM,2BAA2B,WAAW,gBAAgB,CAAC,IAAI,CAAC;oBAClE,IAAM,8BAA8B,WAAW,mBAAmB,CAAC,IAAI,CAAC;oBAExE,IAAM,gBAAgB;wBAAC;wBAAS;wBAAc;qBAAY;oBAE1D,WAAW,gBAAgB,GAAG,2BAAS,IAAI,EAAE,QAAQ,EAAE,OAAO;wBAC5D,IAAI,cAAc,QAAQ,CAAC,OAAO;4BAChC,iBAAiB,IAAI,CAAC;gCAAE,MAAA;gCAAM,UAAA;gCAAU,SAAA;4BAAQ;4BAChD,IAAM,iBAAiB,OAAO,YAAY,YACtC;gCAAE,SAAS;gCAAM,SAAS;4BAAQ,IAClC,WAAW,CAAA,OAAO,wCAAP,IAAA,2JAAc,EAAP,QAAM,MAAM,WAC9B,wVAAK;gCAAS,SAAS;iCACvB;gCAAE,SAAS;4BAAK;4BACpB,OAAO,yBAAyB,MAAM,UAAU;wBAClD;wBACA,OAAO,yBAAyB,MAAM,UAAU;oBAClD;oBAEA,WAAW,mBAAmB;4EAAG,SAAS,IAAI,EAAE,QAAQ,EAAE,OAAO;4BAC/D,IAAI,cAAc,QAAQ,CAAC,OAAO;gCAChC,IAAM,QAAQ,iBAAiB,SAAS;8FAAC,SAAA;+CAAK,EAAE,QAAQ,KAAK,YAAY,EAAE,IAAI,KAAK;;;gCACpF,IAAI,UAAU,CAAC,GAAG;oCAChB,iBAAiB,MAAM,CAAC,OAAO;gCACjC;4BACF;4BACA,OAAO,4BAA4B,MAAM,UAAU;wBACrD;;gBACF;;YAEA;YAEA;kDAAO;oBACL,IAAI,WAAW,gBAAgB,IAAI,WAAW,gBAAgB,KAAK,YAAY,SAAS,CAAC,gBAAgB,EAAE;wBACzG,OAAO,WAAW,gBAAgB;wBAClC,WAAW,gBAAgB,GAAG,YAAY,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC;oBAC5E;oBACA,IAAI,WAAW,mBAAmB,IAAI,WAAW,mBAAmB,KAAK,YAAY,SAAS,CAAC,mBAAmB,EAAE;wBAClH,OAAO,WAAW,mBAAmB;wBACrC,WAAW,mBAAmB,GAAG,YAAY,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC;oBAClF;gBACF;;QACF;yCAAG;QAAC;KAAG;IAEP,qBAAO,6LAAC,qLAAiB,6KAAK;;;;;AAChC;GArDwB;;QACP,8NAAQ;;;KADD"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/lightingConfig.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as THREE from \"three\";\n\nexport const LightingSetup = {\n  ambient: {\n    intensity: 1.5,\n    color: new THREE.Color(0xffffff),\n  },\n  directional: [\n    {\n      position: [20, 25, 15],\n      intensity: 1.5,\n      color: new THREE.Color(0xffffff),\n      castShadow: true,\n      shadow: {\n        mapSize: [2048, 2048],\n        camera: {\n          near: 0.5,\n          far: 100,\n          left: -50,\n          right: 50,\n          top: 50,\n          bottom: -50,\n        },\n      },\n    },\n    {\n      position: [-20, 20, -15],\n      intensity: 0.8,\n      color: new THREE.Color(0xffffff),\n      castShadow: false,\n    },\n    {\n      position: [0, 15, 0],\n      intensity: 0.5,\n      color: new THREE.Color(0xffffff),\n      castShadow: false,\n    },\n    {\n      position: [10, 10, -20],\n      intensity: 0.4,\n      color: new THREE.Color(0xffffff),\n      castShadow: false,\n    },\n  ],\n  hemisphere: {\n    skyColor: new THREE.Color(0xffffff),\n    groundColor: new THREE.Color(0x888888),\n    intensity: 0.8,\n  },\n};\n\nexport function LightingSetupComponent() {\n  const mainLightRef = useRef();\n\n  useEffect(() => {\n    if (mainLightRef.current && LightingSetup.directional[0]?.shadow) {\n      const shadow = LightingSetup.directional[0].shadow;\n      mainLightRef.current.shadow.mapSize.width = shadow.mapSize[0];\n      mainLightRef.current.shadow.mapSize.height = shadow.mapSize[1];\n      mainLightRef.current.shadow.camera.near = shadow.camera.near;\n      mainLightRef.current.shadow.camera.far = shadow.camera.far;\n      mainLightRef.current.shadow.camera.left = shadow.camera.left;\n      mainLightRef.current.shadow.camera.right = shadow.camera.right;\n      mainLightRef.current.shadow.camera.top = shadow.camera.top;\n      mainLightRef.current.shadow.camera.bottom = shadow.camera.bottom;\n    }\n  }, []);\n\n  return (\n    <>\n      <ambientLight \n        intensity={LightingSetup.ambient.intensity}\n        color={LightingSetup.ambient.color}\n      />\n      \n      <hemisphereLight\n        skyColor={LightingSetup.hemisphere.skyColor}\n        groundColor={LightingSetup.hemisphere.groundColor}\n        intensity={LightingSetup.hemisphere.intensity}\n      />\n\n      {LightingSetup.directional.map((light, index) => (\n        <directionalLight\n          key={index}\n          ref={index === 0 ? mainLightRef : null}\n          position={light.position}\n          intensity={light.intensity}\n          color={light.color}\n          castShadow={light.castShadow}\n        />\n      ))}\n    </>\n  );\n}\n\nexport function createLightingSetup() {\n  return <LightingSetupComponent />;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;;;;AAEO,IAAM,gBAAgB;IAC3B,SAAS;QACP,WAAW;QACX,OAAO,IAAI,2JAAW,CAAC;IACzB;IACA,aAAa;QACX;YACE,UAAU;gBAAC;gBAAI;gBAAI;aAAG;YACtB,WAAW;YACX,OAAO,IAAI,2JAAW,CAAC;YACvB,YAAY;YACZ,QAAQ;gBACN,SAAS;oBAAC;oBAAM;iBAAK;gBACrB,QAAQ;oBACN,MAAM;oBACN,KAAK;oBACL,MAAM,CAAC;oBACP,OAAO;oBACP,KAAK;oBACL,QAAQ,CAAC;gBACX;YACF;QACF;QACA;YACE,UAAU;gBAAC,CAAC;gBAAI;gBAAI,CAAC;aAAG;YACxB,WAAW;YACX,OAAO,IAAI,2JAAW,CAAC;YACvB,YAAY;QACd;QACA;YACE,UAAU;gBAAC;gBAAG;gBAAI;aAAE;YACpB,WAAW;YACX,OAAO,IAAI,2JAAW,CAAC;YACvB,YAAY;QACd;QACA;YACE,UAAU;gBAAC;gBAAI;gBAAI,CAAC;aAAG;YACvB,WAAW;YACX,OAAO,IAAI,2JAAW,CAAC;YACvB,YAAY;QACd;KACD;IACD,YAAY;QACV,UAAU,IAAI,2JAAW,CAAC;QAC1B,aAAa,IAAI,2JAAW,CAAC;QAC7B,WAAW;IACb;AACF;AAEO,SAAS;;;IACd,IAAM,eAAe,IAAA,uKAAM;IAE3B,IAAA,0KAAS;4CAAC;gBACoB;YAA5B,IAAI,aAAa,OAAO,MAAI,8BAAA,cAAc,WAAW,CAAC,EAAE,cAA5B,kDAAA,4BAA8B,MAAM,GAAE;gBAChE,IAAM,SAAS,cAAc,WAAW,CAAC,EAAE,CAAC,MAAM;gBAClD,aAAa,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,OAAO,CAAC,EAAE;gBAC7D,aAAa,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,OAAO,CAAC,EAAE;gBAC9D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,MAAM,CAAC,IAAI;gBAC5D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,OAAO,MAAM,CAAC,GAAG;gBAC1D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,MAAM,CAAC,IAAI;gBAC5D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,OAAO,MAAM,CAAC,KAAK;gBAC9D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,OAAO,MAAM,CAAC,GAAG;gBAC1D,aAAa,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,MAAM,CAAC,MAAM;YAClE;QACF;2CAAG,EAAE;IAEL,qBACE;;0BACE,6LAAC;gBACC,WAAW,cAAc,OAAO,CAAC,SAAS;gBAC1C,OAAO,cAAc,OAAO,CAAC,KAAK;;;;;;0BAGpC,6LAAC;gBACC,UAAU,cAAc,UAAU,CAAC,QAAQ;gBAC3C,aAAa,cAAc,UAAU,CAAC,WAAW;gBACjD,WAAW,cAAc,UAAU,CAAC,SAAS;;;;;;YAG9C,cAAc,WAAW,CAAC,GAAG,CAAC,SAAC,OAAO;qCACrC,6LAAC;oBAEC,KAAK,UAAU,IAAI,eAAe;oBAClC,UAAU,MAAM,QAAQ;oBACxB,WAAW,MAAM,SAAS;oBAC1B,OAAO,MAAM,KAAK;oBAClB,YAAY,MAAM,UAAU;mBALvB;;;;;;;;AAUf;GA1CgB;KAAA;AA4CT,SAAS;IACd,qBAAO,6LAAC;;;;;AACV"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/ModalCloseOnInteraction.jsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { useStore } from 'usestore-react';\n\nexport default function ModalCloseOnInteraction() {\n  const [isCaptureModalOpen, setIsCaptureModalOpen] = useStore('kitOfParts_captureModalOpen', false);\n  const [, setCaptureMode] = useStore('kitOfParts_captureMode', false);\n  const [, setCachedImageDataUrl] = useStore('kitOfParts_cachedImageDataUrl', null);\n  const interactionRef = useRef(false);\n\n  useEffect(() => {\n    if (!isCaptureModalOpen) return;\n\n    const canvas = document.querySelector('canvas');\n    if (!canvas) return;\n\n    let dragStartPos = null;\n    let isDragging = false;\n    \n    const handlePointerDown = (e) => {\n      const modalWrapper = document.querySelector('.capture-modal-wrapper');\n      if (modalWrapper && (modalWrapper.contains(e.target) || e.target.closest('.capture-modal-wrapper'))) {\n        return;\n      }\n      \n      if (e.target === canvas || canvas.contains(e.target)) {\n        dragStartPos = { x: e.clientX, y: e.clientY };\n        isDragging = false;\n      }\n    };\n    \n    const handlePointerMove = (e) => {\n      const modalWrapper = document.querySelector('.capture-modal-wrapper');\n      if (modalWrapper && (modalWrapper.contains(e.target) || e.target.closest('.capture-modal-wrapper'))) {\n        return;\n      }\n      \n      if (dragStartPos && !isDragging) {\n        const dx = Math.abs(e.clientX - dragStartPos.x);\n        const dy = Math.abs(e.clientY - dragStartPos.y);\n        if (dx > 5 || dy > 5) {\n          isDragging = true;\n          if (!interactionRef.current) {\n            interactionRef.current = true;\n            setIsCaptureModalOpen(false);\n            setTimeout(() => {\n              setCaptureMode(false);\n              setCachedImageDataUrl(null);\n            }, 300);\n          }\n        }\n      }\n    };\n    \n    const handleWheel = (e) => {\n      const modalWrapper = document.querySelector('.capture-modal-wrapper');\n      if (modalWrapper && (modalWrapper.contains(e.target) || e.target.closest('.capture-modal-wrapper'))) {\n        return;\n      }\n      \n      if (!interactionRef.current) {\n        interactionRef.current = true;\n        setIsCaptureModalOpen(false);\n        setTimeout(() => {\n          setCaptureMode(false);\n          setCachedImageDataUrl(null);\n        }, 300);\n      }\n    };\n    \n    const handlePointerUp = () => {\n      dragStartPos = null;\n      isDragging = false;\n    };\n    \n\n    canvas.addEventListener('pointerdown', handlePointerDown, { passive: true });\n    canvas.addEventListener('pointermove', handlePointerMove, { passive: true });\n    canvas.addEventListener('pointerup', handlePointerUp, { passive: true });\n    canvas.addEventListener('wheel', handleWheel, { passive: true });\n\n    return () => {\n      canvas.removeEventListener('pointerdown', handlePointerDown);\n      canvas.removeEventListener('pointermove', handlePointerMove);\n      canvas.removeEventListener('pointerup', handlePointerUp);\n      canvas.removeEventListener('wheel', handleWheel);\n    };\n  }, [isCaptureModalOpen, setIsCaptureModalOpen, setCaptureMode, setCachedImageDataUrl]);\n\n  useEffect(() => {\n    if (!isCaptureModalOpen) {\n      interactionRef.current = false;\n    }\n  }, [isCaptureModalOpen]);\n\n  return null;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/materialSetup.js"],"sourcesContent":["import * as THREE from \"three\";\n\nexport function setupMaterialTextures(material, preserveOriginal = true) {\n  if (!material || !material.isMaterial) return;\n\n  const originalProperties = preserveOriginal ? {\n    color: material.color?.clone(),\n    emissive: material.emissive?.clone(),\n    roughness: material.roughness,\n    metalness: material.metalness,\n    opacity: material.opacity,\n    transparent: material.transparent,\n    side: material.side,\n  } : null;\n\n  const textureMaps = [\n    'map',\n    'normalMap',\n    'roughnessMap',\n    'metalnessMap',\n    'aoMap',\n    'emissiveMap',\n    'bumpMap',\n    'displacementMap',\n    'alphaMap',\n    'clearcoatMap',\n    'clearcoatNormalMap',\n    'clearcoatRoughnessMap',\n    'iridescenceMap',\n    'iridescenceThicknessMap',\n    'sheenColorMap',\n    'sheenRoughnessMap',\n    'specularColorMap',\n    'specularIntensityMap',\n    'transmissionMap',\n    'thicknessMap',\n  ];\n\n  textureMaps.forEach((mapName) => {\n    const texture = material[mapName];\n    if (texture && texture.isTexture) {\n      if (texture.image && !texture.image.complete) {\n        texture.image.addEventListener('load', () => {\n          texture.needsUpdate = true;\n        });\n      }\n      \n      if (texture.flipY === undefined || texture.flipY === true) {\n        texture.flipY = false;\n      }\n      \n      if (!texture.wrapS || texture.wrapS === THREE.ClampToEdgeWrapping) {\n        texture.wrapS = THREE.RepeatWrapping;\n      }\n      if (!texture.wrapT || texture.wrapT === THREE.ClampToEdgeWrapping) {\n        texture.wrapT = THREE.RepeatWrapping;\n      }\n      \n      if (texture.generateMipmaps !== false) {\n        texture.generateMipmaps = true;\n        texture.minFilter = THREE.LinearMipmapLinearFilter;\n      }\n      texture.magFilter = THREE.LinearFilter;\n      \n      if (mapName === 'normalMap' || mapName.includes('Normal')) {\n        if (texture.colorSpace !== THREE.NoColorSpace) {\n          texture.colorSpace = THREE.NoColorSpace;\n        }\n      } else if (mapName === 'map' || mapName === 'emissiveMap' || mapName === 'aoMap') {\n        if (texture.colorSpace !== THREE.SRGBColorSpace) {\n          texture.colorSpace = THREE.SRGBColorSpace;\n        }\n      } else {\n        if (texture.colorSpace !== THREE.NoColorSpace) {\n          texture.colorSpace = THREE.NoColorSpace;\n        }\n      }\n      \n      texture.needsUpdate = true;\n    }\n  });\n\n  if (preserveOriginal && originalProperties) {\n    if (originalProperties.color && !material.color.equals(originalProperties.color)) {\n      material.color.copy(originalProperties.color);\n    }\n    if (originalProperties.emissive && material.emissive) {\n      material.emissive.copy(originalProperties.emissive);\n    }\n    if (originalProperties.roughness !== undefined) {\n      material.roughness = originalProperties.roughness;\n    }\n    if (originalProperties.metalness !== undefined) {\n      material.metalness = originalProperties.metalness;\n    }\n    if (originalProperties.opacity !== undefined) {\n      material.opacity = originalProperties.opacity;\n    }\n    if (originalProperties.transparent !== undefined) {\n      material.transparent = originalProperties.transparent;\n    }\n    if (originalProperties.side !== undefined) {\n      material.side = originalProperties.side;\n    }\n  }\n\n  if (material.isMeshStandardMaterial || material.isMeshPhysicalMaterial) {\n    material.needsUpdate = true;\n  }\n}\n\nexport function setupGLTFMaterials(materials, preserveOriginal = true) {\n  if (!materials) return;\n\n  Object.values(materials).forEach((material) => {\n    if (material && material.isMaterial) {\n      setupMaterialTextures(material, preserveOriginal);\n    }\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/ground.jsx"],"sourcesContent":["import React, { useMemo, useEffect } from \"react\";\nimport { useGLTF } from \"@react-three/drei\";\nimport * as THREE from \"three\";\nimport { useStore } from \"usestore-react\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\n\nexport default function Floor(props) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/floor.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n\n      Object.values(materials).forEach((material) => {\n        if (material && material.isMaterial) {\n          material.color.setHex(0xffffff);\n\n          if (material.emissive) {\n            material.emissive.setHex(0xffffff);\n            if (material.emissiveIntensity !== undefined) {\n              material.emissiveIntensity = 0.2;\n            }\n          }\n\n          if (material.isMeshStandardMaterial || material.isMeshPhysicalMaterial) {\n            material.roughness = 0.5;\n            material.metalness = 0.0;\n          }\n\n          material.needsUpdate = true;\n        }\n      });\n    }\n  }, [materials]);\n  const [, setGridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return true;\n    });\n  }, [nodes]);\n\n  const gridDimensions = useMemo(() => {\n    if (!nodes) return { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 };\n\n    const box = new THREE.Box3();\n    let hasGeometry = false;\n\n    Object.values(nodes).forEach((node) => {\n      if (node && node.geometry && node.geometry.attributes && node.geometry.attributes.position) {\n        const geometry = node.geometry;\n        geometry.computeBoundingBox();\n\n        if (geometry.boundingBox) {\n          const nodeBox = geometry.boundingBox.clone();\n\n          if (node.matrix && !node.matrix.equals(new THREE.Matrix4())) {\n            nodeBox.applyMatrix4(node.matrix);\n          }\n\n          if (hasGeometry) {\n            box.union(nodeBox);\n          } else {\n            box.copy(nodeBox);\n            hasGeometry = true;\n          }\n        }\n      }\n    });\n\n    if (!hasGeometry || box.isEmpty()) {\n      return { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 };\n    }\n\n    const size = box.getSize(new THREE.Vector3());\n    const center = box.getCenter(new THREE.Vector3());\n\n    const desiredTilesX = 12;\n    const desiredTilesZ = 16;\n    const cellSize = Math.max(size.x / desiredTilesX, size.z / desiredTilesZ);\n    const width = cellSize * desiredTilesX;\n    const height = cellSize * desiredTilesZ;\n\n    return { width, height, cellSize, centerX: center.x, centerZ: center.z };\n  }, [nodes]);\n\n  useEffect(() => {\n    setGridDimensions(gridDimensions);\n  }, [gridDimensions, setGridDimensions]);\n\n  const firstMaterial = materials && Object.values(materials)[0];\n\n  const CustomGrid = ({ width, height, cellSize, centerX, centerZ, yPosition }) => {\n    const gridGeometry = useMemo(() => {\n      const geometry = new THREE.BufferGeometry();\n      const vertices = [];\n      \n      const halfWidth = width / 2;\n      const halfHeight = height / 2;\n      const startX = centerX - halfWidth;\n      const endX = centerX + halfWidth;\n      const startZ = centerZ - halfHeight;\n      const endZ = centerZ + halfHeight;\n      \n      const numLinesX = Math.floor(width / cellSize) + 1;\n      const numLinesZ = Math.floor(height / cellSize) + 1;\n      \n      for (let i = 0; i <= numLinesX; i++) {\n        const x = startX + (i * cellSize);\n        vertices.push(x, yPosition, startZ, x, yPosition, endZ);\n      }\n      \n      for (let i = 0; i <= numLinesZ; i++) {\n        const z = startZ + (i * cellSize);\n        vertices.push(startX, yPosition, z, endX, yPosition, z);\n      }\n      \n      geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n      \n      return geometry;\n    }, [width, height, cellSize, centerX, centerZ, yPosition]);\n    \n    const material = useMemo(() => {\n      return new THREE.LineBasicMaterial({ \n        color: \"#1C1C1C\",\n        linewidth: 1,\n        opacity: 0.5,\n        transparent: true,\n      });\n    }, []);\n    \n    return (\n      <lineSegments geometry={gridGeometry} material={material} renderOrder={1} />\n    );\n  };\n\n  return (\n    <group>\n      <CustomGrid\n        width={gridDimensions.width}\n        height={gridDimensions.height}\n        cellSize={gridDimensions.cellSize}\n        centerX={gridDimensions.centerX || 0}\n        centerZ={gridDimensions.centerZ || 0}\n        yPosition={1.1}\n      />\n      <group {...props} dispose={null}>\n        {meshNodes.map(([nodeKey, node]) => {\n          if (!node || !node.geometry) return null;\n          if (!node.geometry.attributes || !node.geometry.attributes.position) return null;\n          if (node.type && node.type !== 'Mesh') return null;\n\n          let nodeMaterial = node.material || firstMaterial;\n          if (!nodeMaterial) return null;\n\n          if (!node.geometry.attributes.normal && node.geometry.computeVertexNormals) {\n            node.geometry.computeVertexNormals();\n          }\n\n          return (\n            <mesh\n              key={nodeKey}\n              geometry={node.geometry}\n              material={nodeMaterial}\n              position={[0, 0.99, 0]}\n              castShadow={false}\n              receiveShadow={false}\n            />\n          );\n        })}\n      </group>\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/floor.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/boundingBox.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { useStore } from \"usestore-react\";\nimport { useGLTF } from \"@react-three/drei\";\nimport * as THREE from \"three\";\n\nexport default function BoundingBox() {\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const { nodes: fpNodes } = useGLTF(\"/models/gbl_update/frontPorch.glb\");\n  const { nodes: floorNodes } = useGLTF(\"/models/gbl_update/floor.glb\");\n\n  const fpHeight = useMemo(() => {\n    if (!fpNodes) return 10;\n\n    const box = new THREE.Box3();\n    let hasGeometry = false;\n\n    Object.values(fpNodes).forEach((node) => {\n      if (node && node.geometry && node.geometry.attributes && node.geometry.attributes.position) {\n        const geometry = node.geometry;\n        geometry.computeBoundingBox();\n\n        if (geometry.boundingBox) {\n          const nodeBox = geometry.boundingBox.clone();\n\n          if (node.matrix && !node.matrix.equals(new THREE.Matrix4())) {\n            nodeBox.applyMatrix4(node.matrix);\n          }\n\n          if (hasGeometry) {\n            box.union(nodeBox);\n          } else {\n            box.copy(nodeBox);\n            hasGeometry = true;\n          }\n        }\n      }\n    });\n\n    if (!hasGeometry || box.isEmpty()) return 10;\n\n    const size = box.getSize(new THREE.Vector3());\n    return size.y;\n  }, [fpNodes]);\n\n  const floorBounds = useMemo(() => {\n    if (!floorNodes) return { bottom: 0.99, height: 0 };\n\n    const box = new THREE.Box3();\n    let hasGeometry = false;\n\n    Object.values(floorNodes).forEach((node) => {\n      if (node && node.geometry && node.geometry.attributes && node.geometry.attributes.position) {\n        if (node.type && node.type !== 'Mesh') return;\n        const key = Object.keys(floorNodes).find(k => floorNodes[k] === node);\n        if (key && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe'))) return;\n\n        const geometry = node.geometry;\n        geometry.computeBoundingBox();\n\n        if (geometry.boundingBox) {\n          const nodeBox = geometry.boundingBox.clone();\n\n          if (node.matrix && !node.matrix.equals(new THREE.Matrix4())) {\n            nodeBox.applyMatrix4(node.matrix);\n          }\n\n          if (hasGeometry) {\n            box.union(nodeBox);\n          } else {\n            box.copy(nodeBox);\n            hasGeometry = true;\n          }\n        }\n      }\n    });\n\n    if (!hasGeometry || box.isEmpty()) return { bottom: 0.99, height: 0 };\n\n    const floorPositionY = 0.99;\n    const floorBottomY = box.min.y + floorPositionY;\n    const floorHeight = box.max.y - box.min.y;\n    return { bottom: floorBottomY, height: floorHeight };\n  }, [floorNodes]);\n\n  const { width, height, centerX, centerZ } = gridDimensions;\n\n  const boxWidth = width;\n  const boxLength = height;\n  const porchHeight = fpHeight;\n  const floorHeight = floorBounds.height;\n  const totalHeight = porchHeight + floorHeight;\n  \n  const boxBottom = floorBounds.bottom;\n  const boxTop = boxBottom + totalHeight;\n  const boxCenterY = boxBottom + totalHeight / 2;\n\n  const position = [centerX, boxCenterY, centerZ];\n\n  const edges = useMemo(() => {\n    const calculatedTotalHeight = totalHeight;\n    \n    const w = boxWidth / 2;\n    const l = boxLength / 2;\n    const h = calculatedTotalHeight / 2;\n\n    const corners = [\n      [-w, -h, -l],\n      [w, -h, -l],\n      [w, -h, l],\n      [-w, -h, l],\n      [-w, h, -l],\n      [w, h, -l],\n      [w, h, l],\n      [-w, h, l],\n    ];\n\n    const edgeLines = [\n      [0, 1], [1, 2], [2, 3], [3, 0],\n      [4, 5], [5, 6], [6, 7], [7, 4],\n      [0, 4], [1, 5], [2, 6], [3, 7],\n    ];\n\n    return { corners, edgeLines };\n  }, [boxWidth, boxLength, totalHeight]);\n\n  const lineMaterial = new THREE.LineBasicMaterial({ color: 0x00ffff, linewidth: 1 });\n\n  return (\n    <group position={position}>\n      {edges.edgeLines.map(([startIdx, endIdx], idx) => {\n        const start = edges.corners[startIdx];\n        const end = edges.corners[endIdx];\n        const geometry = new THREE.BufferGeometry().setFromPoints([\n          new THREE.Vector3(...start),\n          new THREE.Vector3(...end),\n        ]);\n        return (\n          <line key={idx} geometry={geometry} material={lineMaterial} />\n        );\n      })}\n    </group>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1100, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/utils/objectPositions.js"],"sourcesContent":["export const OBJECT_GRID_POSITIONS = {\n  fp: { gridX: 4, gridZ: 14 },\n  k1: { gridX: 10, gridZ: 15.5 },\n  k2: { gridX: 10, gridZ: 10.5 },\n  b1: { gridX: 10, gridZ: 9 },\n  bb: { gridX: 2, gridZ: 5 },\n  st1: { gridX: 7.5, gridZ: 2 },\n  st2: { gridX: 6.5, gridZ: 2 },\n  stairs: { gridX: 7, gridZ: 5 },\n};\n\nexport function gridToWorldPosition(gridX, gridZ, gridDimensions) {\n  const { cellSize, centerX, centerZ, width, height } = gridDimensions;\n  \n  const halfWidth = width / 2;\n  const halfHeight = height / 2;\n  \n  const leftEdge = centerX - halfWidth;\n  const bottomEdge = centerZ - halfHeight;\n  \n  const worldX = leftEdge + (gridX * cellSize);\n  const worldZ = bottomEdge + (gridZ * cellSize);\n  \n  return { x: worldX, y: 1.01, z: worldZ };\n}\n\nexport function clampToGridBounds(position, gridDimensions) {\n  const { width, height, centerX, centerZ } = gridDimensions;\n  const halfWidth = width / 2;\n  const halfHeight = height / 2;\n  \n  const minX = centerX - halfWidth;\n  const maxX = centerX + halfWidth;\n  const minZ = centerZ - halfHeight;\n  const maxZ = centerZ + halfHeight;\n  \n  return {\n    x: Math.max(minX, Math.min(maxX, position.x)),\n    y: position.y,\n    z: Math.max(minZ, Math.min(maxZ, position.z)),\n  };\n}\n\nexport function worldToGridPosition(worldX, worldZ, gridDimensions) {\n  const { cellSize, centerX, centerZ, width, height } = gridDimensions;\n  \n  const halfWidth = width / 2;\n  const halfHeight = height / 2;\n  \n  const leftEdge = centerX - halfWidth;\n  const bottomEdge = centerZ - halfHeight;\n  \n  const gridX = (worldX - leftEdge) / cellSize;\n  const gridZ = (worldZ - bottomEdge) / cellSize;\n  \n  return { gridX, gridZ };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,IAAM,wBAAwB;IACnC,IAAI;QAAE,OAAO;QAAG,OAAO;IAAG;IAC1B,IAAI;QAAE,OAAO;QAAI,OAAO;IAAK;IAC7B,IAAI;QAAE,OAAO;QAAI,OAAO;IAAK;IAC7B,IAAI;QAAE,OAAO;QAAI,OAAO;IAAE;IAC1B,IAAI;QAAE,OAAO;QAAG,OAAO;IAAE;IACzB,KAAK;QAAE,OAAO;QAAK,OAAO;IAAE;IAC5B,KAAK;QAAE,OAAO;QAAK,OAAO;IAAE;IAC5B,QAAQ;QAAE,OAAO;QAAG,OAAO;IAAE;AAC/B;AAEO,SAAS,oBAAoB,KAAK,EAAE,KAAK,EAAE,cAAc;IAC9D,IAAQ,WAA8C,eAA9C,UAAU,UAAoC,eAApC,SAAS,UAA2B,eAA3B,SAAS,QAAkB,eAAlB,OAAO,SAAW,eAAX;IAE3C,IAAM,YAAY,QAAQ;IAC1B,IAAM,aAAa,SAAS;IAE5B,IAAM,WAAW,UAAU;IAC3B,IAAM,aAAa,UAAU;IAE7B,IAAM,SAAS,WAAY,QAAQ;IACnC,IAAM,SAAS,aAAc,QAAQ;IAErC,OAAO;QAAE,GAAG;QAAQ,GAAG;QAAM,GAAG;IAAO;AACzC;AAEO,SAAS,kBAAkB,QAAQ,EAAE,cAAc;IACxD,IAAQ,QAAoC,eAApC,OAAO,SAA6B,eAA7B,QAAQ,UAAqB,eAArB,SAAS,UAAY,eAAZ;IAChC,IAAM,YAAY,QAAQ;IAC1B,IAAM,aAAa,SAAS;IAE5B,IAAM,OAAO,UAAU;IACvB,IAAM,OAAO,UAAU;IACvB,IAAM,OAAO,UAAU;IACvB,IAAM,OAAO,UAAU;IAEvB,OAAO;QACL,GAAG,KAAK,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,SAAS,CAAC;QAC3C,GAAG,SAAS,CAAC;QACb,GAAG,KAAK,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,SAAS,CAAC;IAC7C;AACF;AAEO,SAAS,oBAAoB,MAAM,EAAE,MAAM,EAAE,cAAc;IAChE,IAAQ,WAA8C,eAA9C,UAAU,UAAoC,eAApC,SAAS,UAA2B,eAA3B,SAAS,QAAkB,eAAlB,OAAO,SAAW,eAAX;IAE3C,IAAM,YAAY,QAAQ;IAC1B,IAAM,aAAa,SAAS;IAE5B,IAAM,WAAW,UAAU;IAC3B,IAAM,aAAa,UAAU;IAE7B,IAAM,QAAQ,CAAC,SAAS,QAAQ,IAAI;IACpC,IAAM,QAAQ,CAAC,SAAS,UAAU,IAAI;IAEtC,OAAO;QAAE,OAAA;QAAO,OAAA;IAAM;AACxB"}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/objectControls/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { Html } from \"@react-three/drei\";\nimport \"./object-controls.scss\";\n\nexport function ObjectControls({ \n  isSelected, \n  onRotate, \n  onMoveRight, \n  onMoveLeft, \n  onMoveTop, \n  onMoveBottom,\n  onPlace = () => {},\n  title\n}) {\n  if (!isSelected) return null;\n\n  return (\n    <Html position={[0, 5.5, 0]} center>\n      {title && (\n        <div className=\"object-controls__title\">{title}</div>\n      )}\n      <div className=\"object-controls\">\n        <div className=\"object-controls__row object-controls__row--first\">\n          <button className=\"object-controls__action object-controls__action--rotate\" onClick={onRotate} title=\"Rotate\">\n            <svg width=\"22\" height=\"19\" viewBox=\"0 0 22 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.29373 16.8632L6.9055 18.3121L7.29373 16.8632ZM15.4147 10.9498C15.2003 11.75 15.6752 12.5725 16.4754 12.787C17.2756 13.0014 18.0981 12.5265 18.3125 11.7263L16.8636 11.3381L15.4147 10.9498ZM12.6883 17.9981C13.4604 17.6977 13.8426 16.8282 13.5422 16.0562C13.2417 15.2842 12.3723 14.9019 11.6003 15.2024L12.1443 16.6002L12.6883 17.9981ZM19.5808 9.6161L20.6414 10.6768C21.0704 10.2478 21.1988 9.60259 20.9666 9.04208C20.7344 8.48156 20.1875 8.1161 19.5808 8.1161L19.5808 9.6161ZM16.9762 12.2207L15.9155 13.2814C16.5013 13.8671 17.4511 13.8671 18.0369 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 8.1161C13.7649 8.1161 13.2179 8.48157 12.9858 9.04208C12.7536 9.60259 12.8819 10.2478 13.3109 10.6768L14.3716 9.6161ZM7.29373 16.8632L7.68196 15.4143C4.31377 14.5118 2.31494 11.0498 3.21744 7.68159L1.76855 7.29336L0.319665 6.90513C-1.01166 11.8737 1.93692 16.9808 6.9055 18.3121L7.29373 16.8632ZM1.76855 7.29336L3.21744 7.68159C4.11994 4.3134 7.58202 2.31457 10.9502 3.21708L11.3384 1.76819L11.7267 0.319298C6.75808 -1.01203 1.65099 1.93655 0.319665 6.90513L1.76855 7.29336ZM11.3384 1.76819L10.9502 3.21708C14.3184 4.11958 16.3172 7.58165 15.4147 10.9498L16.8636 11.3381L18.3125 11.7263C19.6438 6.75771 16.6953 1.65063 11.7267 0.319298L11.3384 1.76819ZM12.1443 16.6002L11.6003 15.2024C10.3925 15.6724 9.03186 15.776 7.68196 15.4143L7.29373 16.8632L6.9055 18.3121C8.89247 18.8445 10.9059 18.6918 12.6883 17.9981L12.1443 16.6002ZM19.5808 9.6161L18.5201 8.55544L15.9155 11.16L16.9762 12.2207L18.0369 13.2814L20.6414 10.6768L19.5808 9.6161ZM16.9762 12.2207L18.0368 11.16L15.4323 8.55544L14.3716 9.6161L13.3109 10.6768L15.9155 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 11.1161L19.5808 11.1161L19.5808 9.6161L19.5808 8.1161L14.3716 8.1161L14.3716 9.6161Z\" fill=\"currentColor\"/>\n            </svg>\n          </button>\n          <button className=\"object-controls__action object-controls__action--save\" onClick={onPlace} title=\"Place\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M1.5 1.5L11.9184 11.9184M12.3368 1.50001L1.91841 11.9184\" stroke=\"currentColor\" strokeWidth=\"3\" strokeLinecap=\"round\"/>\n            </svg>\n          </button>\n        </div>\n        \n        <div className=\"object-controls__row\">\n          <button className=\"object-controls__dpad-button object-controls__dpad-button--up\" onClick={onMoveTop} title=\"Move Top\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 25 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ transform: 'rotate(-90deg)' }}>\n              <path d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\"/>\n            </svg>\n          </button>\n        </div>\n        \n        <div className=\"object-controls__row\">\n          <button className=\"object-controls__dpad-button object-controls__dpad-button--left\" onClick={onMoveLeft} title=\"Move Left\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 25 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ transform: 'rotate(180deg)' }}>\n              <path d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\"/>\n            </svg>\n          </button>\n          <button className=\"object-controls__dpad-button object-controls__dpad-button--right\" onClick={onMoveRight} title=\"Move Right\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 25 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\"/>\n            </svg>\n          </button>\n        </div>\n        \n        <div className=\"object-controls__row\">\n          <button className=\"object-controls__dpad-button object-controls__dpad-button--down\" onClick={onMoveBottom} title=\"Move Bottom\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 25 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ transform: 'rotate(90deg)' }}>\n              <path d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </Html>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;;AAGO,SAAS,eAAe,KAS9B;QARC,aAD6B,MAC7B,YACA,WAF6B,MAE7B,UACA,cAH6B,MAG7B,aACA,aAJ6B,MAI7B,YACA,YAL6B,MAK7B,WACA,eAN6B,MAM7B,+BAN6B,MAO7B,SAAA,sCAAU,YAAO,oBACjB,QAR6B,MAQ7B;IAEA,IAAI,CAAC,YAAY,OAAO;IAExB,qBACE,6LAAC,kKAAI;QAAC,UAAU;YAAC;YAAG;YAAK;SAAE;QAAE,MAAM;;YAChC,uBACC,6LAAC;gBAAI,WAAU;0BAA0B;;;;;;0BAE3C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,WAAU;gCAA0D,SAAS;gCAAU,OAAM;0CACnG,cAAA,6LAAC;oCAAI,OAAM;oCAAK,QAAO;oCAAK,SAAQ;oCAAY,MAAK;oCAAO,OAAM;8CAChE,cAAA,6LAAC;wCAAK,GAAE;wCAA0tD,MAAK;;;;;;;;;;;;;;;;0CAG3uD,6LAAC;gCAAO,WAAU;gCAAwD,SAAS;gCAAS,OAAM;0CAChG,cAAA,6LAAC;oCAAI,OAAM;oCAAK,QAAO;oCAAK,SAAQ;oCAAY,MAAK;oCAAO,OAAM;8CAChE,cAAA,6LAAC;wCAAK,GAAE;wCAA2D,QAAO;wCAAe,aAAY;wCAAI,eAAc;;;;;;;;;;;;;;;;;;;;;;kCAK7H,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAO,WAAU;4BAAgE,SAAS;4BAAW,OAAM;sCAC1G,cAAA,6LAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,OAAM;gCAA6B,OAAO;oCAAE,WAAW;gCAAiB;0CAClI,cAAA,6LAAC;oCAAK,GAAE;oCAAuE,QAAO;oCAAe,aAAY;oCAAI,eAAc;;;;;;;;;;;;;;;;;;;;;kCAKzI,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,WAAU;gCAAkE,SAAS;gCAAY,OAAM;0CAC7G,cAAA,6LAAC;oCAAI,OAAM;oCAAK,QAAO;oCAAK,SAAQ;oCAAY,MAAK;oCAAO,OAAM;oCAA6B,OAAO;wCAAE,WAAW;oCAAiB;8CAClI,cAAA,6LAAC;wCAAK,GAAE;wCAAuE,QAAO;wCAAe,aAAY;wCAAI,eAAc;;;;;;;;;;;;;;;;0CAGvI,6LAAC;gCAAO,WAAU;gCAAmE,SAAS;gCAAa,OAAM;0CAC/G,cAAA,6LAAC;oCAAI,OAAM;oCAAK,QAAO;oCAAK,SAAQ;oCAAY,MAAK;oCAAO,OAAM;8CAChE,cAAA,6LAAC;wCAAK,GAAE;wCAAuE,QAAO;wCAAe,aAAY;wCAAI,eAAc;;;;;;;;;;;;;;;;;;;;;;kCAKzI,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAO,WAAU;4BAAkE,SAAS;4BAAc,OAAM;sCAC/G,cAAA,6LAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,OAAM;gCAA6B,OAAO;oCAAE,WAAW;gCAAgB;0CACjI,cAAA,6LAAC;oCAAK,GAAE;oCAAuE,QAAO;oCAAe,aAAY;oCAAI,eAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjJ;KA9DgB"}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/b1.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport * as THREE from \"three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\n\nexport default function B1({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/bath.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.b1;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [sceneRotation, setSceneRotation] = useStore(\"kitOfParts_sceneRotation\", false);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"b1\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (showPanel) {\n      setCurrentPosition({ ...currentPosition, y: 1 });\n    } else {\n      setCurrentPosition({ ...currentPosition, y: 0 });\n    }\n  }, [showPanel]);\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n      if (isAxio) {\n        setSceneRotation(false);\n      }\n    }\n    prevShowRef.current = show;\n  }, [show, isAxio, setSelectedObjectId, setSceneRotation]);\n\n  useEffect(() => {\n    if (materials && Object.keys(materials).length > 0 && show) {\n      Object.values(materials).forEach(material => {\n        if (material && material.isMaterial) {\n          if (!isSelected && selectedObjectId && selectedObjectId !== null && isAxio) {\n            if (material.userData.originalOpacity === undefined) {\n              material.userData.originalOpacity = material.opacity !== undefined ? material.opacity : 1;\n            }\n            material.opacity = 0.4;\n            material.transparent = true;\n          } else {\n            if (material.userData.originalOpacity !== undefined) {\n              material.opacity = material.userData.originalOpacity;\n            } else {\n              material.opacity = 1;\n            }\n            material.transparent = false;\n          }\n        }\n      });\n    }\n  }, [isSelected, selectedObjectId, materials, show, isAxio]);\n\n  const actionsPanel = (e) => {\n    e.stopPropagation();\n    if (isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const handleObjectClick = (e) => {\n    e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true) {\n      setSceneRotation(false);\n    }\n    if (isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n\n\n  return (\n    <group\n      {...props}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={handleObjectClick}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node], index) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  ref={index === 0 ? meshRef : null}\n                  castShadow={false}\n                  receiveShadow={false}\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"BATHROOM\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/bath.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2571, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/bb.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function Bb({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/boxbed.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.bb;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"bb\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n\n\n  return (\n    <group\n      {...props}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            {...bind()}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow\n                  receiveShadow\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"BOXBED\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/boxbed.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3625, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/FP.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function F1({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/frontPorch.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.fp;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"fp\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n\n  return (\n    <group\n      {...props}\n    // {...spring}\n    // {...bind()}\n    >\n      {show && (\n        <group>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            // {...spring}\n\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow\n                  receiveShadow\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <ObjectControls\n                isSelected={isSelected}\n                title=\"FRONT PORCH\"\n                onRotate={handleRotate}\n                onMoveRight={() => handleMove(1, 0)}\n                onMoveLeft={() => handleMove(-1, 0)}\n                onMoveTop={() => handleMove(0, 1)}\n                onMoveBottom={() => handleMove(0, -1)}\n                onPlace={() => setSelectedObjectId(null)}\n              />\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/frontPorch.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4650, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/K1.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function K1({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/kitchen1.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.k1;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"k1\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n\n\n  return (\n    <group\n      {...props}\n    // {...spring}\n    // {...bind()}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow={false}\n                  receiveShadow={false}\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"KITCHEN\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg width=\"22\" height=\"19\" viewBox=\"0 0 22 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path d=\"M7.29373 16.8632L6.9055 18.3121L7.29373 16.8632ZM15.4147 10.9498C15.2003 11.75 15.6752 12.5725 16.4754 12.787C17.2756 13.0014 18.0981 12.5265 18.3125 11.7263L16.8636 11.3381L15.4147 10.9498ZM12.6883 17.9981C13.4604 17.6977 13.8426 16.8282 13.5422 16.0562C13.2417 15.2842 12.3723 14.9019 11.6003 15.2024L12.1443 16.6002L12.6883 17.9981ZM19.5808 9.6161L20.6414 10.6768C21.0704 10.2478 21.1988 9.60259 20.9666 9.04208C20.7344 8.48156 20.1875 8.1161 19.5808 8.1161L19.5808 9.6161ZM16.9762 12.2207L15.9155 13.2814C16.5013 13.8671 17.4511 13.8671 18.0369 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 8.1161C13.7649 8.1161 13.2179 8.48157 12.9858 9.04208C12.7536 9.60259 12.8819 10.2478 13.3109 10.6768L14.3716 9.6161ZM7.29373 16.8632L7.68196 15.4143C4.31377 14.5118 2.31494 11.0498 3.21744 7.68159L1.76855 7.29336L0.319665 6.90513C-1.01166 11.8737 1.93692 16.9808 6.9055 18.3121L7.29373 16.8632ZM1.76855 7.29336L3.21744 7.68159C4.11994 4.3134 7.58202 2.31457 10.9502 3.21708L11.3384 1.76819L11.7267 0.319298C6.75808 -1.01203 1.65099 1.93655 0.319665 6.90513L1.76855 7.29336ZM11.3384 1.76819L10.9502 3.21708C14.3184 4.11958 16.3172 7.58165 15.4147 10.9498L16.8636 11.3381L18.3125 11.7263C19.6438 6.75771 16.6953 1.65063 11.7267 0.319298L11.3384 1.76819ZM12.1443 16.6002L11.6003 15.2024C10.3925 15.6724 9.03186 15.776 7.68196 15.4143L7.29373 16.8632L6.9055 18.3121C8.89247 18.8445 10.9059 18.6918 12.6883 17.9981L12.1443 16.6002ZM19.5808 9.6161L18.5201 8.55544L15.9155 11.16L16.9762 12.2207L18.0369 13.2814L20.6414 10.6768L19.5808 9.6161ZM16.9762 12.2207L18.0368 11.16L15.4323 8.55544L14.3716 9.6161L13.3109 10.6768L15.9155 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 11.1161L19.5808 11.1161L19.5808 9.6161L19.5808 8.1161L14.3716 8.1161L14.3716 9.6161Z\" fill=\"black\"/>\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg width=\"22\" height=\"19\" viewBox=\"0 0 22 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ transform: 'scaleX(-1)' }}>\n                      <path d=\"M7.29373 16.8632L6.9055 18.3121L7.29373 16.8632ZM15.4147 10.9498C15.2003 11.75 15.6752 12.5725 16.4754 12.787C17.2756 13.0014 18.0981 12.5265 18.3125 11.7263L16.8636 11.3381L15.4147 10.9498ZM12.6883 17.9981C13.4604 17.6977 13.8426 16.8282 13.5422 16.0562C13.2417 15.2842 12.3723 14.9019 11.6003 15.2024L12.1443 16.6002L12.6883 17.9981ZM19.5808 9.6161L20.6414 10.6768C21.0704 10.2478 21.1988 9.60259 20.9666 9.04208C20.7344 8.48156 20.1875 8.1161 19.5808 8.1161L19.5808 9.6161ZM16.9762 12.2207L15.9155 13.2814C16.5013 13.8671 17.4511 13.8671 18.0369 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 8.1161C13.7649 8.1161 13.2179 8.48157 12.9858 9.04208C12.7536 9.60259 12.8819 10.2478 13.3109 10.6768L14.3716 9.6161ZM7.29373 16.8632L7.68196 15.4143C4.31377 14.5118 2.31494 11.0498 3.21744 7.68159L1.76855 7.29336L0.319665 6.90513C-1.01166 11.8737 1.93692 16.9808 6.9055 18.3121L7.29373 16.8632ZM1.76855 7.29336L3.21744 7.68159C4.11994 4.3134 7.58202 2.31457 10.9502 3.21708L11.3384 1.76819L11.7267 0.319298C6.75808 -1.01203 1.65099 1.93655 0.319665 6.90513L1.76855 7.29336ZM11.3384 1.76819L10.9502 3.21708C14.3184 4.11958 16.3172 7.58165 15.4147 10.9498L16.8636 11.3381L18.3125 11.7263C19.6438 6.75771 16.6953 1.65063 11.7267 0.319298L11.3384 1.76819ZM12.1443 16.6002L11.6003 15.2024C10.3925 15.6724 9.03186 15.776 7.68196 15.4143L7.29373 16.8632L6.9055 18.3121C8.89247 18.8445 10.9059 18.6918 12.6883 17.9981L12.1443 16.6002ZM19.5808 9.6161L18.5201 8.55544L15.9155 11.16L16.9762 12.2207L18.0369 13.2814L20.6414 10.6768L19.5808 9.6161ZM16.9762 12.2207L18.0368 11.16L15.4323 8.55544L14.3716 9.6161L13.3109 10.6768L15.9155 13.2814L16.9762 12.2207ZM14.3716 9.6161L14.3716 11.1161L19.5808 11.1161L19.5808 9.6161L19.5808 8.1161L14.3716 8.1161L14.3716 9.6161Z\" fill=\"black\"/>\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/kitchen1.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5706, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/K2.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function K2({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/kitchen2.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.k2;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"k2\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n\n  return (\n    <group\n      {...props}\n    // {...spring}\n    // {...bind()}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow={false}\n                  receiveShadow={false}\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"KITCHEN (STORAGE)\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/kitchen2.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6759, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/ST1.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function ST1({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/storage1.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n  \n  const gridPos = OBJECT_GRID_POSITIONS.st1;\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n  \n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n  \n  const state = useThree();\n  const isZoom = isZoomState;\n  \n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"st1\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    console.log(isZoom);\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n\n    // if (currentPosition.z < maxZ) {\n    //   setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n    // }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n    // if (currentPosition.x > minX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n    // }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n\n    // if (currentPosition.x < maxX) {\n    //   setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n    // }\n  };\n  // useEffect(() => {\n  //   console.log('currentPosition', currentPosition)\n  // }, [currentPosition])\n  useEffect(() => {\n    //console.log(\"currentPosition\", meshRef.current.position)\n  }, [state]);\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n\n\n  return (\n    <group\n      {...props}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow\n                  receiveShadow\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"STORAGE 1\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n            {/* <ContactShadows\n              opacity={1}\n              scale={10}\n              blur={1}\n              far={10}\n              resolution={256}\n              color=\"#000000\"\n            /> */}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div\n                  className=\"panel\"\n\n                >\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div\n\n                    className=\"up\"\n                    onClick={UP}\n                  >\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/storage1.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7812, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/ST2.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport { setupGLTFMaterials } from \"../utils/materialSetup\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function ST2({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes, materials } = useGLTF(\"/models/gbl_update/storage2.glb\");\n\n  useEffect(() => {\n    if (materials) {\n      setupGLTFMaterials(materials, true);\n    }\n  }, [materials]);\n\n\n  const lineNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [nodes]);\n\n  const meshNodes = useMemo(() => {\n    if (!nodes) return [];\n    return Object.entries(nodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [nodes]);\n\n  const allNodes = useMemo(() => {\n    const nodeMap = {};\n    if (nodes) {\n      Object.entries(nodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodeMap[key] = node;\n        }\n      });\n    }\n    return nodeMap;\n  }, [nodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n\n  const gridPos = OBJECT_GRID_POSITIONS.st2 || { gridX: 7.5, gridZ: 2 };\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n\n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n\n  const state = useThree();\n  const isZoom = isZoomState;\n\n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0 && gridPos) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0 && gridPos) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 4);\n  };\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"st2\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: isSelected ? 4 : 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n  useEffect(() => {\n    if (materials && Object.keys(materials).length > 0 && show) {\n      Object.values(materials).forEach(material => {\n        if (material && material.isMaterial) {\n          if (!isSelected && selectedObjectId && selectedObjectId !== null && isAxio) {\n            if (material.userData.originalOpacity === undefined) {\n              material.userData.originalOpacity = material.opacity !== undefined ? material.opacity : 1;\n            }\n            material.opacity = 0.4;\n            material.transparent = true;\n          } else {\n            if (material.userData.originalOpacity !== undefined) {\n              material.opacity = material.userData.originalOpacity;\n            } else {\n              material.opacity = 1;\n            }\n            material.transparent = false;\n          }\n        }\n      });\n    }\n  }, [isSelected, selectedObjectId, materials, show, isAxio]);\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n  return (\n    <group\n      {...props}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {meshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (materials && Object.values(materials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow\n                  receiveShadow\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {lineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"STORAGE 2\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div className=\"panel\">\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"up\" onClick={UP}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/storage2.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8880, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitModels/Stairs.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport {\n  useGLTF,\n  SpotLight,\n  PresentationControls,\n  Html,\n  ContactShadows,\n  MeshReflectorMaterial,\n  Grid,\n} from \"@react-three/drei\";\nimport { useStore } from \"usestore-react\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useFrame, useThree, Canvas } from \"@react-three/fiber\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring, a } from \"@react-spring/three\";\nimport { OBJECT_GRID_POSITIONS, gridToWorldPosition, worldToGridPosition } from \"../utils/objectPositions\";\nimport { ObjectControls } from \"../objectControls\";\nimport \"./object-title.scss\";\nimport * as THREE from \"three\";\n\nexport default function Stairs({ isMouseDragging, show, isZoomState, freeView, isAxio, ...props }) {\n  const { nodes: stairsNodes, materials: stairsMaterials } = useGLTF(\"/models/gbl_update/stairs.glb\");\n\n  const stairsLineNodes = useMemo(() => {\n    if (!stairsNodes) return [];\n    return Object.entries(stairsNodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      return node.isLineSegments || node.isLine || node.isLineLoop || (node.isMesh && (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')));\n    });\n  }, [stairsNodes]);\n\n  const stairsMeshNodes = useMemo(() => {\n    if (!stairsNodes) return [];\n    return Object.entries(stairsNodes).filter(([key, node]) => {\n      if (!node || !node.geometry) return false;\n      if (node.isLineSegments || node.isLine || node.isLineLoop) return false;\n      if (key.toLowerCase().includes('line') || key.toLowerCase().includes('edge') || key.toLowerCase().includes('wireframe')) return false;\n      return node.isMesh;\n    });\n  }, [stairsNodes]);\n\n  const allNodes = useMemo(() => {\n    const nodes = {};\n    if (stairsNodes) {\n      Object.entries(stairsNodes).forEach(([key, node]) => {\n        if (node && (node.isMesh || node.isLineSegments)) {\n          nodes[key] = node;\n        }\n      });\n    }\n    return nodes;\n  }, [stairsNodes]);\n\n  const meshRef = useRef();\n  const [cameraState, setCameraState] = useState(\"cameraState\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [gridDimensions] = useStore(\"gridDimensions\", { width: 144, height: 192, cellSize: 12, centerX: 0, centerZ: 0 });\n  const [positionInitialized, setPositionInitialized] = useState(false);\n  const [positionResetTrigger] = useStore(\"objectPositionResetTrigger\", 0);\n\n  const gridPos = OBJECT_GRID_POSITIONS.stairs || { gridX: 6.5, gridZ: 4 };\n  const initialWorldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n\n  const [currentPosition, setCurrentPosition] = useState({\n    x: initialWorldPos.x,\n    y: initialWorldPos.y,\n    z: initialWorldPos.z,\n  });\n\n  const [currentGridPos, setCurrentGridPos] = useState({\n    gridX: gridPos.gridX,\n    gridZ: gridPos.gridZ,\n  });\n\n  const state = useThree();\n  const isZoom = isZoomState;\n\n  useEffect(() => {\n    if (show && gridDimensions && gridDimensions.width > 0 && gridPos) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      if (!positionInitialized) {\n        setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n        setPositionInitialized(true);\n      }\n    }\n  }, [show, gridDimensions, gridPos, positionInitialized]);\n\n  useEffect(() => {\n    if (positionResetTrigger > 0 && gridDimensions && gridDimensions.width > 0 && gridPos) {\n      const worldPos = gridToWorldPosition(gridPos.gridX, gridPos.gridZ, gridDimensions);\n      setCurrentPosition({ x: worldPos.x, y: worldPos.y, z: worldPos.z });\n      setCurrentGridPos({ gridX: gridPos.gridX, gridZ: gridPos.gridZ });\n      setRotationCount(0);\n    }\n  }, [positionResetTrigger, gridDimensions, gridPos]);\n\n  const handleMove = (cameraRelativeX, cameraRelativeZ) => {\n    if (!gridDimensions || gridDimensions.width === 0) return;\n    \n    const camera = state.camera;\n    if (!camera) return;\n    \n    const cameraRight = new THREE.Vector3();\n    const cameraForward = new THREE.Vector3();\n    \n    cameraRight.setFromMatrixColumn(camera.matrixWorld, 0);\n    cameraForward.setFromMatrixColumn(camera.matrixWorld, 2);\n    \n    const rightXZ = new THREE.Vector2(cameraRight.x, cameraRight.z).normalize();\n    const forwardXZ = new THREE.Vector2(-cameraForward.x, -cameraForward.z).normalize();\n    \n    const gridXAxis = new THREE.Vector2(1, 0);\n    const gridZAxis = new THREE.Vector2(0, 1);\n    \n    const rightDotX = rightXZ.dot(gridXAxis);\n    const rightDotZ = rightXZ.dot(gridZAxis);\n    const forwardDotX = forwardXZ.dot(gridXAxis);\n    const forwardDotZ = forwardXZ.dot(gridZAxis);\n    \n    let deltaGridX = 0;\n    let deltaGridZ = 0;\n    \n    if (cameraRelativeX !== 0) {\n      const absRightDotX = Math.abs(rightDotX);\n      const absRightDotZ = Math.abs(rightDotZ);\n      \n      if (absRightDotX > absRightDotZ) {\n        deltaGridX = Math.sign(rightDotX) * Math.sign(cameraRelativeX);\n      } else {\n        deltaGridZ = Math.sign(rightDotZ) * Math.sign(cameraRelativeX);\n      }\n    }\n    \n    if (cameraRelativeZ !== 0) {\n      const absForwardDotX = Math.abs(forwardDotX);\n      const absForwardDotZ = Math.abs(forwardDotZ);\n      \n      if (absForwardDotX > absForwardDotZ) {\n        deltaGridX = Math.sign(forwardDotX) * Math.sign(cameraRelativeZ);\n      } else {\n        deltaGridZ = Math.sign(forwardDotZ) * Math.sign(cameraRelativeZ);\n      }\n    }\n    \n    setCurrentGridPos(prev => {\n      const newGridX = prev.gridX + deltaGridX;\n      const newGridZ = prev.gridZ + deltaGridZ;\n      const newWorldPos = gridToWorldPosition(newGridX, newGridZ, gridDimensions);\n      setCurrentPosition({ x: newWorldPos.x, y: newWorldPos.y, z: newWorldPos.z });\n      return { gridX: newGridX, gridZ: newGridZ };\n    });\n  };\n\n  const handleRotate = () => {\n    setRotationCount(prev => prev + Math.PI / 2);\n  };\n\n  const [selectedObjectId, setSelectedObjectId] = useStore(\"selectedObjectId\", null);\n  const [objectRotationTrigger] = useStore(\"objectRotationTrigger\", 0);\n  const objectId = \"stairs\";\n  const isSelected = selectedObjectId === objectId;\n\n  const lineMaterial = useMemo(() => {\n    return new THREE.LineBasicMaterial({\n      color: isSelected ? 0xe9ff00 : 0x000000,\n      linewidth: 2,\n      depthTest: true\n    });\n  }, [isSelected]);\n\n  useEffect(() => {\n    if (isSelected && objectRotationTrigger > 0) {\n      setRotationCount(prev => prev + Math.PI / 4);\n    }\n  }, [objectRotationTrigger, isSelected]);\n\n  const maxZ = 13;\n  const minZ = -13;\n  const maxX = 16;\n  const minX = -16;\n  const GUI = true;\n  const [showPanel, setShowPanel] = useState();\n\n  const { size, viewport } = useThree();\n  const aspect = size.width / viewport.width;\n\n  const [spring, set] = useSpring(() => ({\n    position: [currentPosition.x, currentPosition.y, currentPosition.z],\n    rotation: [0, 0, 0],\n    config: { friction: 40 },\n  }));\n\n  const [opacitySpring, setOpacity] = useSpring(() => ({\n    opacity: 0,\n    config: { tension: 100, friction: 50 },\n  }));\n\n  useEffect(() => {\n    if (show) {\n      setOpacity({ opacity: 1 });\n    }\n  }, [show, setOpacity]);\n  const bind = useGesture({\n    onDrag: ({ offset: [x, y, z] }) => {\n      if (isMouseDragging) {\n        setCurrentPosition({\n          x: Math.min(\n            Math.max(Math.round(currentPosition.x + x / 99), minX),\n            maxX\n          ),\n          y: 0,\n          z: Math.min(\n            Math.max(Math.round(currentPosition.z + y / 99), minZ),\n            maxZ\n          ),\n        });\n      }\n    }\n  });\n  const UP = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    }\n  };\n  const DOWN = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    }\n  };\n  const LEFT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    }\n  };\n  const RIGHT = () => {\n    if (isZoom === \"Top\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"One\") {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    } else if (isZoom === \"Two\") {\n      if (currentPosition.z < maxZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z + 1 });\n      }\n    } else if (isZoom === \"Three\") {\n      if (currentPosition.x > minX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x - 1 });\n      }\n    } else if (isZoom === \"Four\") {\n      if (currentPosition.z > minZ) {\n        setCurrentPosition({ ...currentPosition, z: currentPosition.z - 1 });\n      }\n    } else {\n      if (currentPosition.x < maxX) {\n        setCurrentPosition({ ...currentPosition, x: currentPosition.x + 1 });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (GUI === true) {\n      if (showPanel) {\n        setCurrentPosition({ ...currentPosition, y: 1 });\n      } else {\n        setCurrentPosition({ ...currentPosition, y: 0 });\n      }\n    }\n  }, [showPanel]);\n\n\n  const actionsPanel = (e) => {\n    if (e) e.stopPropagation();\n    setSelectedObjectId(objectId);\n    if (isAxio === true || isMouseDragging === true) {\n      setShowPanel(true);\n    }\n  };\n\n  const prevShowRef = useRef(false);\n  useEffect(() => {\n    if (show && !prevShowRef.current) {\n      setSelectedObjectId(objectId);\n    }\n    prevShowRef.current = show;\n  }, [show, setSelectedObjectId]);\n\n  return (\n    <group\n      {...props}\n    >\n      {show && (\n        <a.group style={{ opacity: opacitySpring.opacity }}>\n          <a.group\n            rotation={[0, rotationCount, 0]}\n            onClick={actionsPanel}\n            position={[currentPosition.x, currentPosition.y, currentPosition.z]}\n          >\n            {stairsMeshNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              const nodeMaterial = node.material || (stairsMaterials && Object.values(stairsMaterials)[0]);\n              if (!nodeMaterial || !node.geometry.attributes) return null;\n              return (\n                <mesh\n                  key={nodeKey}\n                  castShadow\n                  receiveShadow\n                  geometry={node.geometry}\n                  material={nodeMaterial}\n                />\n              );\n            })}\n            {stairsLineNodes.map(([nodeKey, node]) => {\n              if (!node || !node.geometry) return null;\n              if (!node.geometry.attributes) return null;\n              \n              let geometry = node.geometry;\n              if (node.isMesh) {\n                geometry = new THREE.EdgesGeometry(node.geometry);\n              }\n              \n              if (isSelected) {\n                const offsets = [\n                  [0, 0, 0],\n                  [0.01, 0, 0],\n                  [-0.01, 0, 0],\n                  [0, 0.01, 0],\n                  [0, -0.01, 0],\n                  [0.007, 0.007, 0],\n                  [-0.007, -0.007, 0],\n                  [0.007, -0.007, 0],\n                  [-0.007, 0.007, 0],\n                  [0.005, 0, 0],\n                  [-0.005, 0, 0],\n                  [0, 0.005, 0],\n                  [0, -0.005, 0],\n                ];\n                \n                return (\n                  <group key={nodeKey}>\n                    {offsets.map((offset, idx) => (\n                      <lineSegments\n                        key={`${nodeKey}-${idx}`}\n                        geometry={geometry}\n                        material={lineMaterial}\n                        position={offset}\n                      />\n                    ))}\n                  </group>\n                );\n              }\n              \n              return (\n                <lineSegments\n                  key={nodeKey}\n                  geometry={geometry}\n                  material={lineMaterial}\n                />\n              );\n            })}\n            {isSelected && (\n              <>\n                <ObjectControls\n                  isSelected={isSelected}\n                  title=\"STAIRS\"\n                  onRotate={handleRotate}\n                  onMoveRight={() => handleMove(1, 0)}\n                  onMoveLeft={() => handleMove(-1, 0)}\n                  onMoveTop={() => handleMove(0, 1)}\n                  onMoveBottom={() => handleMove(0, -1)}\n                  onPlace={() => setSelectedObjectId(null)}\n                />\n              </>\n            )}\n\n            {showPanel && (\n              <Html center as=\"div\">\n                <div className=\"panel\">\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount + Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M5 0L0.396453 10.5897L11.8691 9.28161L5 0ZM19.4977 18.5C16.5803 18.5 13.9644 17.8729 11.8418 16.3774C9.72995 14.8894 8.00237 12.4685 6.98516 8.68156L5.05362 9.20039C6.16691 13.345 8.12291 16.2037 10.6898 18.0123C13.246 19.8134 16.304 20.5 19.4977 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"up\" onClick={UP}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(-90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"rotate\"\n                    onClick={() => {\n                      setRotationCount(rotationCount - Math.PI / 4);\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"21\"\n                      viewBox=\"0 0 20 21\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M14.5 0L19.1035 10.5897L7.63087 9.28161L14.5 0ZM0.00231838 18.5C2.91973 18.5 5.53563 17.8729 7.65822 16.3774C9.77005 14.8894 11.4976 12.4685 12.5148 8.68156L14.4464 9.20039C13.3331 13.345 11.3771 16.2037 8.81018 18.0123C6.25402 19.8134 3.19603 20.5 0.00231838 20.5V18.5Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n\n                  <div className=\"left\" onClick={LEFT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(180deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"down\" onClick={DOWN}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      style={{ transform: 'rotate(90deg)' }}\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div className=\"right\" onClick={RIGHT}>\n                    <svg\n                      width=\"46\"\n                      height=\"35\"\n                      viewBox=\"0 0 46 35\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"45\"\n                        height=\"34\"\n                        rx=\"17\"\n                        fill=\"black\"\n                        stroke=\"white\"\n                      />\n                      <path\n                        d=\"M2 7.20918L21.1003 7.20918M16.3253 2L21.5344 7.20918L16.3253 12.4184\"\n                        stroke=\"#EAFF00\"\n                        strokeWidth=\"4\"\n                        strokeLinecap=\"round\"\n                        transform=\"translate(11.5, 10.5)\"\n                      />\n                    </svg>\n                  </div>\n                  <div\n                    className=\"place\"\n                    onClick={() => {\n                      setShowPanel(false);\n                    }}\n                  >\n                    <svg\n                      width=\"154\"\n                      height=\"26\"\n                      viewBox=\"0 0 154 26\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <rect\n                        x=\"0.5\"\n                        y=\"0.5\"\n                        width=\"153\"\n                        height=\"25\"\n                        rx=\"12.5\"\n                        fill=\"white\"\n                        stroke=\"black\"\n                      />\n                      <path\n                        d=\"M62.6738 10.0786C62.6738 10.689 62.5273 11.2334 62.2344 11.7119C61.9463 12.1904 61.5312 12.564 60.9893 12.8325C60.4521 13.1011 59.8296 13.2354 59.1216 13.2354H57.0635V17H55.6646V7.11963H59.0337C60.1958 7.11963 61.0918 7.38086 61.7217 7.90332C62.3564 8.4209 62.6738 9.146 62.6738 10.0786ZM61.2676 10.1006C61.2676 8.86035 60.4668 8.24023 58.8652 8.24023H57.0635V12.1294H58.9238C59.6514 12.1294 60.2227 11.9512 60.6377 11.5947C61.0576 11.2383 61.2676 10.7402 61.2676 10.1006ZM65.2227 17V7.11963H66.6216V15.8574H71.5435V17H65.2227ZM80.0688 17L79.0581 14.2021H74.9346L73.9312 17H72.4956L76.231 7.11963H77.8203L81.4897 17H80.0688ZM77.0073 8.17432L76.9194 8.45996L76.4141 10.0127L75.3081 13.1108H78.6992L77.4321 9.44873L77.0073 8.17432ZM83.8042 12.0122C83.8042 13.3452 84.0117 14.3462 84.4268 15.0151C84.8467 15.6792 85.4863 16.0112 86.3457 16.0112C86.8389 16.0112 87.2856 15.8452 87.686 15.5132C88.0864 15.1763 88.4258 14.6538 88.7041 13.9458L89.8687 14.4219C89.1411 16.2383 87.9619 17.1465 86.3311 17.1465C85.0469 17.1465 84.0581 16.7046 83.3647 15.8208C82.6763 14.937 82.332 13.6675 82.332 12.0122C82.332 8.64795 83.6406 6.96582 86.2578 6.96582C87.9131 6.96582 89.0508 7.78369 89.6709 9.41943L88.4404 9.89551C88.2598 9.34375 87.9766 8.90918 87.5908 8.5918C87.21 8.26953 86.7681 8.1084 86.2651 8.1084C85.4302 8.1084 84.8101 8.42334 84.4048 9.05322C84.0044 9.68311 83.8042 10.6694 83.8042 12.0122ZM91.6997 17V7.11963H98.4307V8.26221H93.0986V11.353H97.9912V12.481H93.0986V15.8574H98.731V17H91.6997Z\"\n                        fill=\"black\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </Html>\n            )}\n          </a.group>\n        </a.group>\n      )}\n    </group>\n  );\n}\n\nuseGLTF.preload(\"/models/gbl_update/stairs.glb\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9905, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/components/kitOfParts/ScreenshotForm.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport CrossButton from '../menu/CrossButton';\nimport { COLOR_WHITE } from '../_setup/colors';\nimport './screenshot-form.scss';\n\nexport default function ScreenshotForm({ \n  isOpen, \n  onClose, \n  screenshotDataUrl \n}) {\n  const [name, setName] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const formRef = useRef(null);\n  \n  useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('menu-open');\n    } else {\n      document.body.classList.remove('menu-open');\n    }\n    return () => {\n      document.body.classList.remove('menu-open');\n    };\n  }, [isOpen]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!screenshotDataUrl) {\n      console.error('No screenshot data available');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(screenshotDataUrl);\n      const blob = await response.blob();\n      \n      const formData = new FormData();\n      formData.append('screenshot', blob, 'screenshot.png');\n      formData.append('name', name || 'Anonymous');\n      formData.append('message', message);\n\n      const apiResponse = await fetch('/api/submit-screenshot', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (apiResponse.ok) {\n        setName('');\n        setMessage('');\n        onClose();\n      } else {\n        const error = await apiResponse.json();\n        console.error('Failed to submit screenshot:', error);\n      }\n    } catch (error) {\n      console.error('Error submitting screenshot:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <>\n      <div className={`screenshot-form-wrapper ${isOpen ? 'open' : ''}`}>\n        <div className=\"screenshot-form-close\">\n          <CrossButton color={COLOR_WHITE} onClick={onClose} />\n        </div>\n\n        <div className=\"screenshot-form-content\">\n          {screenshotDataUrl && (\n            <div className=\"screenshot-preview\">\n              <img src={screenshotDataUrl} alt=\"Screenshot preview\" />\n            </div>\n          )}\n          \n          <form ref={formRef} className=\"screenshot-form\" onSubmit={handleSubmit}>\n            <input \n              type=\"text\"\n              className=\"screenshot-input screenshot-name\"\n              placeholder=\"Name (Optional)\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            \n            <textarea \n              className=\"screenshot-textarea screenshot-message\"\n              placeholder=\"Message (Optional)\"\n              rows={5}\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            \n            <button \n              type=\"submit\" \n              className=\"screenshot-submit-button\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? 'Submitting...' : 'Submit'}\n            </button>\n          </form>\n        </div>\n      </div>\n\n      <div \n        className={`screenshot-form-overlay ${isOpen ? 'open' : ''}`}\n        onClick={onClose}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;;;;;;;AAJA;;;;;AAOe,SAAS,eAAe,KAItC;QAHC,SADqC,MACrC,QACA,UAFqC,MAErC,SACA,oBAHqC,MAGrC;;IAEA,IAAwB,qLAAA,IAAA,yKAAQ,EAAC,SAA1B,OAAiB,cAAX,UAAW;IACxB,IAA8B,sLAAA,IAAA,yKAAQ,EAAC,SAAhC,UAAuB,eAAd,aAAc;IAC9B,IAAwC,sLAAA,IAAA,yKAAQ,EAAC,YAA1C,eAAiC,eAAnB,kBAAmB;IACxC,IAAM,UAAU,IAAA,uKAAM,EAAC;IAEvB,IAAA,0KAAS;oCAAC;YACR,IAAI,QAAQ;gBACV,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAC9B,OAAO;gBACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACjC;YACA;4CAAO;oBACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACjC;;QACF;mCAAG;QAAC;KAAO;IAEX,IAAM,eAAe,SAAO;;gBAWlB,UACA,MAEA,UAKA,aAUE,SAGD;;;;wBA/BT,EAAE,cAAc;wBAEhB,IAAI,CAAC,mBAAmB;4BACtB,QAAQ,KAAK,CAAC;4BACd;;;wBACF;wBAEA,gBAAgB;;;;;;;;;wBAGG;;4BAAM,MAAM;;;wBAAvB,WAAW;wBACJ;;4BAAM,SAAS,IAAI;;;wBAA1B,OAAO;wBAEP,WAAW,IAAI;wBACrB,SAAS,MAAM,CAAC,cAAc,MAAM;wBACpC,SAAS,MAAM,CAAC,QAAQ,QAAQ;wBAChC,SAAS,MAAM,CAAC,WAAW;wBAEP;;4BAAM,MAAM,0BAA0B;gCACxD,QAAQ;gCACR,MAAM;4BACR;;;wBAHM,cAAc;6BAKhB,YAAY,EAAE,EAAd;;;;wBACF,QAAQ;wBACR,WAAW;wBACX;;;;;;wBAEc;;4BAAM,YAAY,IAAI;;;wBAA9B,UAAQ;wBACd,QAAQ,KAAK,CAAC,gCAAgC;;;;;;;;wBAEzC;wBACP,QAAQ,KAAK,CAAC,gCAAgC;;;;;;wBAE9C,gBAAgB;;;;;;;;;;QAEpB;;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAW,AAAC,2BAA+C,OAArB,SAAS,SAAS;;kCAC3D,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,gJAAW;4BAAC,OAAO,gJAAW;4BAAE,SAAS;;;;;;;;;;;kCAG5C,6LAAC;wBAAI,WAAU;;4BACZ,mCACC,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,KAAK;oCAAmB,KAAI;;;;;;;;;;;0CAIrC,6LAAC;gCAAK,KAAK;gCAAS,WAAU;gCAAkB,UAAU;;kDACxD,6LAAC;wCACC,MAAK;wCACL,WAAU;wCACV,aAAY;wCACZ,OAAO;wCACP,UAAU,SAAC;mDAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;kDAGzC,6LAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,MAAM;wCACN,OAAO;wCACP,UAAU,SAAC;mDAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;kDAG5C,6LAAC;wCACC,MAAK;wCACL,WAAU;wCACV,UAAU;kDAET,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;0BAM1C,6LAAC;gBACC,WAAW,AAAC,2BAA+C,OAArB,SAAS,SAAS;gBACxD,SAAS;;;;;;;;AAIjB;GA5GwB;KAAA"}},
    {"offset": {"line": 10162, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/app/kit-of-parts/page.js"],"sourcesContent":["'use client';\n\nimport React, { useCallback, useRef, useState, Suspense, useEffect } from \"react\";\nimport { Canvas, useThree, useFrame } from \"@react-three/fiber\";\nimport PassiveOrbitControls from \"../../components/utils/PassiveOrbitControls\";\nimport { LightingSetupComponent } from \"../../components/utils/lightingConfig\";\nimport ModalCloseOnInteraction from \"../../components/utils/ModalCloseOnInteraction\";\nimport { useStore } from \"usestore-react\";\nimport Floor from \"../../components/kitModels/ground.jsx\";\nimport BoundingBox from \"../../components/kitModels/boundingBox.jsx\";\nimport B1 from \"../../components/kitModels/b1\";\nimport Bb from \"../../components/kitModels/bb\";\nimport FP from \"../../components/kitModels/FP\";\nimport K1 from \"../../components/kitModels/K1\";\nimport K2 from \"../../components/kitModels/K2\";\nimport ST1 from \"../../components/kitModels/ST1\";\nimport ST2 from \"../../components/kitModels/ST2\";\nimport Stairs from \"../../components/kitModels/Stairs\";\nimport { toPng } from \"html-to-image\";\nimport * as THREE from \"three\";\nimport ScreenshotForm from \"../../components/kitOfParts/ScreenshotForm\";\nimport './kit-parts.scss';\n\nfunction KitOfPartsPage() {\n  const [objects, setObjects] = useStore(\"kitOfParts_objectsState\");\n  const [bathroom, setbathroom] = useStore(\"kitOfParts_clickbathroom2\");\n  const [boxbed, setboxbed] = useStore(\"kitOfParts_boxbedState\");\n  const [front, setfront] = useStore(\"kitOfParts_frontState\");\n  const [kitchen, setkitchen] = useStore(\"kitOfParts_kitchenState\");\n  const [k2, setK2] = useStore(\"kitOfParts_k2State\");\n  const [st1, setSt1] = useStore(\"kitOfParts_st1State\");\n  const [st2, setSt2] = useStore(\"kitOfParts_st2State\", false);\n  const [stairs, setStairs] = useStore(\"kitOfParts_stairsState\", false);\n  const ref = useRef(null);\n  const [screenshotDataUrl, setScreenshotDataUrl] = useState(null);\n  const [isScreenshotFormOpen, setIsScreenshotFormOpen] = useState(false);\n  const [captureMode, setCaptureMode] = useStore(\"kitOfParts_captureMode\", false);\n  const [, setCachedImageDataUrl] = useStore(\"kitOfParts_cachedImageDataUrl\", null);\n  const [, setIsCaptureModalOpen] = useStore(\"kitOfParts_captureModalOpen\", false);\n  const [, setSelectedObjectId] = useStore('selectedObjectId', null);\n  const [, setCloseAllPanels] = useStore('kitOfParts_closeAllPanels', false);\n\n  useEffect(() => {\n    if (captureMode) {\n      setSelectedObjectId(null);\n      setObjects(false);\n      setCloseAllPanels(true);\n      \n      setIsCaptureModalOpen(true);\n      \n      if (ref.current) {\n        setTimeout(() => {\n          toPng(ref.current, { cacheBust: true })\n            .then((dataUrl) => {\n              setCachedImageDataUrl(dataUrl);\n            })\n            .catch((err) => {\n              console.error('[ERROR] Failed to generate image:', err);\n            });\n        }, 500);\n      }\n    }\n  }, [captureMode, setCachedImageDataUrl, setIsCaptureModalOpen, setSelectedObjectId, setObjects, setCloseAllPanels]);\n\n  const onButtonClick = useCallback(() => {\n    if (ref.current === null) {\n      return;\n    }\n\n    setCaptureMode(true);\n  }, [setCaptureMode]);\n\n  const handleCloseScreenshotForm = useCallback(() => {\n    setIsScreenshotFormOpen(false);\n    setScreenshotDataUrl(null);\n  }, []);\n\n  const [sceneRotation, setSceneRotation] = useStore(\"kitOfParts_sceneRotation\", false);\n  const [isZoom, setZoom] = useState(\"\");\n  const [disableRotation, setDisableRotation] = useState(false);\n  const [buttonTriggered, setbuttonTriggered] = useState(false);\n  const [draggingMode, setDraggingMode] = useState(false);\n  const [guiMode, setGuiMode] = useState(false);\n\n  useEffect(() => {\n    if (sceneRotation) {\n      setIsCaptureModalOpen(false);\n      setTimeout(() => {\n        setCaptureMode(false);\n        setCachedImageDataUrl(null);\n      }, 300);\n    }\n  }, [sceneRotation, setIsCaptureModalOpen, setCaptureMode, setCachedImageDataUrl]);\n\n  const handleButton = () => {\n    setbuttonTriggered(!buttonTriggered);\n  };\n  \n  useEffect(() => {\n    if (buttonTriggered) {\n      setDisableRotation(false);\n    } else {\n      setDisableRotation(true);\n    }\n  }, [buttonTriggered]);\n\n  const axoModeToggle = useCallback(() => {\n    if(draggingMode){\n        setDraggingMode(!draggingMode);\n    }\n    setGuiMode(!guiMode);\n    setDisableRotation(false);\n    setSceneRotation(false);\n  }, [draggingMode, guiMode]);\n\n  const dragModeToggle = useCallback(() => {\n    if(guiMode){\n        setGuiMode(!guiMode);\n    }\n    setDraggingMode(!draggingMode);\n    setDisableRotation(false);\n    setSceneRotation(false);\n  }, [draggingMode, guiMode]);\n\n  const planModeToggle = useCallback(() => {\n    setDraggingMode(false);\n    setGuiMode(false);\n    setDisableRotation(!disableRotation);\n    setSceneRotation(!sceneRotation);\n  }, [disableRotation, sceneRotation]);\n\n  const SceneSetup = React.memo(() => {\n    return null;\n  });\n  SceneSetup.displayName = 'SceneSetup';\n\n  const StableLighting = React.memo(() => {\n    return <LightingSetupComponent />;\n  });\n  StableLighting.displayName = 'StableLighting';\n\n  const OrthographicCameraSetup = React.memo(() => {\n    const { camera, size } = useThree();\n    const lastSizeRef = useRef({ width: 0, height: 0 });\n    const zoomRef = useRef(null);\n\n    useEffect(() => {\n      if (camera && camera.isOrthographicCamera) {\n        if (zoomRef.current === null) {\n          zoomRef.current = camera.zoom;\n        }\n        \n        const sizeChanged = \n          Math.abs(lastSizeRef.current.width - size.width) > 0.5 || \n          Math.abs(lastSizeRef.current.height - size.height) > 0.5;\n        \n        if (sizeChanged) {\n          const preservedZoom = zoomRef.current;\n          \n          camera.near = 0.1;\n          camera.far = 2000;\n          \n          const aspect = size.width / size.height;\n          const viewSize = 500;\n          \n          camera.left = -viewSize * aspect;\n          camera.right = viewSize * aspect;\n          camera.top = viewSize;\n          camera.bottom = -viewSize;\n          \n          camera.zoom = preservedZoom;\n          camera.updateProjectionMatrix();\n          \n          zoomRef.current = camera.zoom;\n          lastSizeRef.current = { width: size.width, height: size.height };\n        } else {\n          if (zoomRef.current !== null && Math.abs(camera.zoom - zoomRef.current) > 0.001) {\n            camera.zoom = zoomRef.current;\n            camera.updateProjectionMatrix();\n          }\n        }\n      }\n    }, [camera, size]);\n\n    useEffect(() => {\n      if (camera && camera.isOrthographicCamera) {\n        if (zoomRef.current === null) {\n          zoomRef.current = camera.zoom;\n        }\n        \n        const handleResize = () => {\n          const preservedZoom = zoomRef.current || camera.zoom;\n          const aspect = window.innerWidth / window.innerHeight;\n          const viewSize = 500;\n          \n          camera.left = -viewSize * aspect;\n          camera.right = viewSize * aspect;\n          camera.top = viewSize;\n          camera.bottom = -viewSize;\n          \n          camera.zoom = preservedZoom;\n          camera.updateProjectionMatrix();\n          \n          zoomRef.current = camera.zoom;\n        };\n        \n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n      }\n    }, [camera]);\n\n    return null;\n  });\n  OrthographicCameraSetup.displayName = 'OrthographicCameraSetup';\n\n  const CameraZoomLock = React.memo(() => {\n    const { camera } = useThree();\n    const zoomRef = useRef(null);\n    const isLockingRef = useRef(false);\n    const lockTimeoutRef = useRef(null);\n    const frameCountRef = useRef(0);\n    const [objects] = useStore(\"kitOfParts_objectsState\");\n    const [bathroom] = useStore(\"kitOfParts_clickbathroom2\");\n    const [boxbed] = useStore(\"kitOfParts_boxbedState\");\n    const [front] = useStore(\"kitOfParts_frontState\");\n    const [kitchen] = useStore(\"kitOfParts_kitchenState\");\n    const [k2] = useStore(\"kitOfParts_k2State\");\n    const [st1] = useStore(\"kitOfParts_st1State\");\n    const [st2] = useStore(\"kitOfParts_st2State\", false);\n    const [stairs] = useStore(\"kitOfParts_stairsState\", false);\n    const lastObjectsRef = useRef(objects);\n    const lastElementsRef = useRef({ bathroom, boxbed, front, kitchen, k2, st1, st2, stairs });\n    const LOCK_FRAMES = 10;\n\n    useEffect(() => {\n      if (camera && camera.isOrthographicCamera) {\n        if (zoomRef.current === null) {\n          zoomRef.current = camera.zoom;\n        }\n      }\n    }, [camera]);\n\n    useEffect(() => {\n      if (camera && camera.isOrthographicCamera) {\n        const inventoryChanged = lastObjectsRef.current !== objects;\n        const elementsChanged = \n          lastElementsRef.current.bathroom !== bathroom ||\n          lastElementsRef.current.boxbed !== boxbed ||\n          lastElementsRef.current.front !== front ||\n          lastElementsRef.current.kitchen !== kitchen ||\n          lastElementsRef.current.k2 !== k2 ||\n          lastElementsRef.current.st1 !== st1 ||\n          lastElementsRef.current.st2 !== st2 ||\n          lastElementsRef.current.stairs !== stairs;\n\n        if (inventoryChanged || elementsChanged) {\n          if (zoomRef.current !== null) {\n            camera.zoom = zoomRef.current;\n            camera.updateProjectionMatrix();\n          }\n          \n          isLockingRef.current = true;\n          frameCountRef.current = 0;\n        }\n        \n        lastObjectsRef.current = objects;\n        lastElementsRef.current = { bathroom, boxbed, front, kitchen, k2, st1, st2, stairs };\n      }\n    }, [objects, bathroom, boxbed, front, kitchen, k2, st1, st2, stairs, camera]);\n\n    useFrame(() => {\n      if (camera && camera.isOrthographicCamera) {\n        if (isLockingRef.current && zoomRef.current !== null) {\n          if (Math.abs(camera.zoom - zoomRef.current) > 0.001) {\n            camera.zoom = zoomRef.current;\n            camera.updateProjectionMatrix();\n          }\n          \n          frameCountRef.current++;\n          if (frameCountRef.current >= LOCK_FRAMES) {\n            isLockingRef.current = false;\n            zoomRef.current = camera.zoom;\n          }\n        } else {\n          zoomRef.current = camera.zoom;\n        }\n      }\n    });\n\n    return null;\n  });\n  CameraZoomLock.displayName = 'CameraZoomLock';\n\n  const CameraDolly = React.memo(({ isZoom, draggingMode, guiMode, disableRotation, sceneRotation }) => {\n    const state = useThree();\n    const [captureMode] = useStore(\"kitOfParts_captureMode\", false);\n\n    useEffect(() => {\n      if (state.camera && state.camera.isOrthographicCamera) {\n        if (captureMode === true) {\n          state.camera.position.set(0, 50, 0);\n          state.camera.zoom = 20;\n          state.camera.lookAt(0, 0, 0);\n        } else if (draggingMode === true) {\n          state.camera.position.set(0, 27, 0);\n          state.camera.zoom = 17;\n        } else if (guiMode === true) {\n          state.camera.position.set(-5.16, 19.9, 8.7);\n          state.camera.zoom = 17;\n        }\n        state.camera.updateProjectionMatrix();\n      }\n    }, [captureMode, draggingMode, guiMode, state.camera]);\n\n    return null;\n  });\n\n  return (\n      <>\n        <ScreenshotForm \n          isOpen={isScreenshotFormOpen}\n          onClose={handleCloseScreenshotForm}\n          screenshotDataUrl={screenshotDataUrl}\n        />\n        <div ref={ref} style={{ overscrollBehavior: 'none', touchAction: 'none' }}>\n        <Canvas\n            dpr={1.5}\n            orthographic \n            camera={{ position: [-14, 11, 15], zoom: 13 }}\n            frameloop={sceneRotation === true ? \"always\" : \"demand\"}\n            gl={{\n              antialias: true,\n              powerPreference: 'high-performance',\n              stencil: false,\n              depth: true,\n              preserveDrawingBuffer: false,\n              failIfMajorPerformanceCaveat: false,\n            }}\n            onCreated={({ gl, scene, camera, size }) => {\n              gl.toneMapping = THREE.ACESFilmicToneMapping;\n              gl.toneMappingExposure = 1.0;\n              gl.outputColorSpace = THREE.SRGBColorSpace;\n              gl.shadowMap.enabled = true;\n              gl.shadowMap.type = THREE.PCFSoftShadowMap;\n              \n              if (camera && camera.isOrthographicCamera) {\n                camera.near = 0.1;\n                camera.far = 2000;\n              }\n            }}\n            style={{\n              background: \"#1C1C1C\",\n              height: \"100vh\",\n              overscrollBehavior: 'none',\n              touchAction: 'none',\n            }}\n        >\n          <OrthographicCameraSetup />\n          <SceneSetup />\n          <StableLighting />\n          <Suspense fallback={null}>\n            <group rotation={[0, 0, 0]} position={[0, -10, 0]}>\n            <B1 show={bathroom} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <Bb show={boxbed} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n\n            <FP show={front} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <K1 show={kitchen} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <K2 show={k2} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <ST1 show={st1} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <ST2 show={st2} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n            <Stairs show={stairs} isZoomState={isZoom}  isMouseDragging={guiMode} isAxio={draggingMode} freeView={sceneRotation}/>\n\n            <Floor />\n            <BoundingBox />\n\n            </group>\n            <PassiveOrbitControls \n              autoRotate={sceneRotation === true} \n              enableRotate={true}\n              enableZoom={true}\n              autoRotateSpeed={0.2}\n              enableDamping={true}\n              dampingFactor={0.05}\n              makeDefault={false}\n              minDistance={500}\n              maxDistance={Infinity}\n              minZoom={0.1}\n              maxZoom={100}\n              enablePan={true}\n            />\n            <CameraZoomLock />\n            <CameraDolly isZoom={isZoom} draggingMode={draggingMode} guiMode={guiMode} disableRotation={disableRotation} sceneRotation={sceneRotation}/>\n            <ModalCloseOnInteraction />\n          </Suspense>\n        </Canvas>\n      </div>\n      </>\n  );\n}\n\nexport default KitOfPartsPage;\n"],"names":[],"mappings":"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"}}]
}