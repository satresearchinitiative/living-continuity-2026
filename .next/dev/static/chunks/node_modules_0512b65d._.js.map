{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/types/helpers.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/types/helpers.ts"],"sourcesContent":["export const getWithKey = <T, K extends keyof T>(obj: T, key: K): T[K] => obj[key]\n"],"names":[],"mappings":";;;;AAAO,IAAM,aAAa,SAAuB,KAAQ;WAAiB,GAAA,CAAI,GAAG,CAAA"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/utils/BufferGeometryUtils.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/utils/BufferGeometryUtils.ts"],"sourcesContent":["import {\n  BufferAttribute,\n  BufferGeometry,\n  Float32BufferAttribute,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  TrianglesDrawMode,\n  Vector3,\n  Mesh,\n  Line,\n  Points,\n  Material,\n  SkinnedMesh,\n} from 'three'\n\nimport { getWithKey } from '../types/helpers'\nimport type { TypedArrayConstructors, TypedArray } from '../types/shared'\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nexport const mergeBufferGeometries = (geometries: BufferGeometry[], useGroups?: boolean): BufferGeometry | null => {\n  const isIndexed = geometries[0].index !== null\n\n  const attributesUsed = new Set(Object.keys(geometries[0].attributes))\n  const morphAttributesUsed = new Set(Object.keys(geometries[0].morphAttributes))\n\n  const attributes: { [key: string]: Array<InterleavedBufferAttribute | BufferAttribute> } = {}\n  const morphAttributes: { [key: string]: Array<BufferAttribute | InterleavedBufferAttribute>[] } = {}\n\n  const morphTargetsRelative = geometries[0].morphTargetsRelative\n\n  const mergedGeometry = new BufferGeometry()\n\n  let offset = 0\n\n  geometries.forEach((geom, i) => {\n    let attributesCount = 0\n\n    // ensure that all geometries are indexed, or none\n\n    if (isIndexed !== (geom.index !== null)) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.',\n      )\n      return null\n    }\n\n    // gather attributes, exit early if they're different\n\n    for (let name in geom.attributes) {\n      if (!attributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. All geometries must have compatible attributes; make sure \"' +\n            name +\n            '\" attribute exists among all geometries, or in none of them.',\n        )\n        return null\n      }\n\n      if (attributes[name] === undefined) {\n        attributes[name] = []\n      }\n\n      attributes[name].push(geom.attributes[name])\n\n      attributesCount++\n    }\n\n    // ensure geometries have the same number of attributes\n\n    if (attributesCount !== attributesUsed.size) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. Make sure all geometries have the same number of attributes.',\n      )\n      return null\n    }\n\n    // gather morph attributes, exit early if they're different\n\n    if (morphTargetsRelative !== geom.morphTargetsRelative) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. .morphTargetsRelative must be consistent throughout all geometries.',\n      )\n      return null\n    }\n\n    for (let name in geom.morphAttributes) {\n      if (!morphAttributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '.  .morphAttributes must be consistent throughout all geometries.',\n        )\n        return null\n      }\n\n      if (morphAttributes[name] === undefined) morphAttributes[name] = []\n\n      morphAttributes[name].push(geom.morphAttributes[name])\n    }\n\n    // gather .userData\n\n    mergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || []\n    mergedGeometry.userData.mergedUserData.push(geom.userData)\n\n    if (useGroups) {\n      let count\n\n      if (geom.index) {\n        count = geom.index.count\n      } else if (geom.attributes.position !== undefined) {\n        count = geom.attributes.position.count\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. The geometry must have either an index or a position attribute',\n        )\n        return null\n      }\n\n      mergedGeometry.addGroup(offset, count, i)\n\n      offset += count\n    }\n  })\n\n  // merge indices\n\n  if (isIndexed) {\n    let indexOffset = 0\n    const mergedIndex: number[] = []\n\n    geometries.forEach((geom) => {\n      const index = geom.index as BufferAttribute\n\n      for (let j = 0; j < index.count; ++j) {\n        mergedIndex.push(index.getX(j) + indexOffset)\n      }\n\n      indexOffset += geom.attributes.position.count\n    })\n\n    mergedGeometry.setIndex(mergedIndex)\n  }\n\n  // merge attributes\n\n  for (let name in attributes) {\n    const mergedAttribute = mergeBufferAttributes(attributes[name] as BufferAttribute[])\n\n    if (!mergedAttribute) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.',\n      )\n      return null\n    }\n\n    mergedGeometry.setAttribute(name, mergedAttribute)\n  }\n\n  // merge morph attributes\n\n  for (let name in morphAttributes) {\n    const numMorphTargets = morphAttributes[name][0].length\n\n    if (numMorphTargets === 0) break\n\n    mergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {}\n    mergedGeometry.morphAttributes[name] = []\n\n    for (let i = 0; i < numMorphTargets; ++i) {\n      const morphAttributesToMerge = []\n\n      for (let j = 0; j < morphAttributes[name].length; ++j) {\n        morphAttributesToMerge.push(morphAttributes[name][j][i])\n      }\n\n      const mergedMorphAttribute = mergeBufferAttributes(morphAttributesToMerge as BufferAttribute[])\n\n      if (!mergedMorphAttribute) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' +\n            name +\n            ' morphAttribute.',\n        )\n        return null\n      }\n\n      mergedGeometry.morphAttributes[name].push(mergedMorphAttribute)\n    }\n  }\n\n  return mergedGeometry\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nexport const mergeBufferAttributes = (attributes: BufferAttribute[]): BufferAttribute | null | undefined => {\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let itemSize: number | undefined = undefined\n  let normalized: boolean | undefined = undefined\n  let arrayLength = 0\n\n  attributes.forEach((attr) => {\n    if (TypedArray === undefined) {\n      TypedArray = attr.array.constructor\n    }\n    if (TypedArray !== attr.array.constructor) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.',\n      )\n      return null\n    }\n\n    if (itemSize === undefined) itemSize = attr.itemSize\n    if (itemSize !== attr.itemSize) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    if (normalized === undefined) normalized = attr.normalized\n    if (normalized !== attr.normalized) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    arrayLength += attr.array.length\n  })\n\n  if (TypedArray && itemSize) {\n    // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n    const array = new TypedArray(arrayLength)\n    let offset = 0\n\n    attributes.forEach((attr) => {\n      array.set(attr.array, offset)\n      offset += attr.array.length\n    })\n\n    return new BufferAttribute(array, itemSize, normalized)\n  }\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nexport const interleaveAttributes = (attributes: BufferAttribute[]): InterleavedBufferAttribute[] | null => {\n  // Interleaves the provided attributes into an InterleavedBuffer and returns\n  // a set of InterleavedBufferAttributes for each attribute\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let arrayLength = 0\n  let stride = 0\n\n  // calculate the the length and type of the interleavedBuffer\n  for (let i = 0, l = attributes.length; i < l; ++i) {\n    const attribute = attributes[i]\n\n    if (TypedArray === undefined) TypedArray = attribute.array.constructor\n    if (TypedArray !== attribute.array.constructor) {\n      console.error('AttributeBuffers of different types cannot be interleaved')\n      return null\n    }\n\n    arrayLength += attribute.array.length\n    stride += attribute.itemSize\n  }\n\n  // Create the set of buffer attributes\n  // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n  const interleavedBuffer = new InterleavedBuffer(new TypedArray(arrayLength), stride)\n  let offset = 0\n  const res = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n  const setters = ['setX', 'setY', 'setZ', 'setW']\n\n  for (let j = 0, l = attributes.length; j < l; j++) {\n    const attribute = attributes[j]\n    const itemSize = attribute.itemSize\n    const count = attribute.count\n    const iba = new InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, attribute.normalized)\n    res.push(iba)\n\n    offset += itemSize\n\n    // Move the data for each attribute into the new interleavedBuffer\n    // at the appropriate offset\n    for (let c = 0; c < count; c++) {\n      for (let k = 0; k < itemSize; k++) {\n        const set = getWithKey(iba, setters[k] as keyof InterleavedBufferAttribute) as InterleavedBufferAttribute[\n          | 'setX'\n          | 'setY'\n          | 'setZ'\n          | 'setW']\n        const get = getWithKey(attribute, getters[k] as keyof BufferAttribute) as BufferAttribute[\n          | 'getX'\n          | 'getY'\n          | 'getZ'\n          | 'getW']\n        set(c, get(c))\n      }\n    }\n  }\n\n  return res\n}\n\n/**\n * @param {Array<BufferGeometry>} geometry\n * @return {number}\n */\nexport function estimateBytesUsed(geometry: BufferGeometry): number {\n  // Return the estimated memory used by this geometry in bytes\n  // Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n  // for InterleavedBufferAttributes.\n  let mem = 0\n  for (let name in geometry.attributes) {\n    const attr = geometry.getAttribute(name)\n    mem += attr.count * attr.itemSize * (attr.array as TypedArray).BYTES_PER_ELEMENT\n  }\n\n  const indices = geometry.getIndex()\n  mem += indices ? indices.count * indices.itemSize * (indices.array as TypedArray).BYTES_PER_ELEMENT : 0\n  return mem\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry>}\n */\nexport function mergeVertices(geometry: BufferGeometry, tolerance = 1e-4): BufferGeometry {\n  tolerance = Math.max(tolerance, Number.EPSILON)\n\n  // Generate an index buffer if the geometry doesn't have one, or optimize it\n  // if it's already available.\n  const hashToIndex: {\n    [key: string]: number\n  } = {}\n  const indices = geometry.getIndex()\n  const positions = geometry.getAttribute('position')\n  const vertexCount = indices ? indices.count : positions.count\n\n  // next value for triangle indices\n  let nextIndex = 0\n\n  // attributes and new attribute arrays\n  const attributeNames = Object.keys(geometry.attributes)\n  const attrArrays: {\n    [key: string]: []\n  } = {}\n  const morphAttrsArrays: {\n    [key: string]: Array<Array<BufferAttribute | InterleavedBufferAttribute>>\n  } = {}\n  const newIndices = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n\n  // initialize the arrays\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n\n    attrArrays[name] = []\n\n    const morphAttr = geometry.morphAttributes[name]\n    if (morphAttr) {\n      morphAttrsArrays[name] = new Array(morphAttr.length).fill(0).map(() => [])\n    }\n  }\n\n  // convert the error tolerance to an amount of decimal places to truncate to\n  const decimalShift = Math.log10(1 / tolerance)\n  const shiftMultiplier = Math.pow(10, decimalShift)\n  for (let i = 0; i < vertexCount; i++) {\n    const index = indices ? indices.getX(i) : i\n\n    // Generate a hash for the vertex attributes at the current index 'i'\n    let hash = ''\n    for (let j = 0, l = attributeNames.length; j < l; j++) {\n      const name = attributeNames[j]\n      const attribute = geometry.getAttribute(name)\n      const itemSize = attribute.itemSize\n\n      for (let k = 0; k < itemSize; k++) {\n        // double tilde truncates the decimal value\n        // @ts-ignore no\n        hash += `${~~(attribute[getters[k]](index) * shiftMultiplier)},`\n      }\n    }\n\n    // Add another reference to the vertex if it's already\n    // used by another index\n    if (hash in hashToIndex) {\n      newIndices.push(hashToIndex[hash])\n    } else {\n      // copy data to the new index in the attribute arrays\n      for (let j = 0, l = attributeNames.length; j < l; j++) {\n        const name = attributeNames[j]\n        const attribute = geometry.getAttribute(name)\n        const morphAttr = geometry.morphAttributes[name]\n        const itemSize = attribute.itemSize\n        const newarray = attrArrays[name]\n        const newMorphArrays = morphAttrsArrays[name]\n\n        for (let k = 0; k < itemSize; k++) {\n          const getterFunc = getters[k]\n          // @ts-ignore\n          newarray.push(attribute[getterFunc](index))\n\n          if (morphAttr) {\n            for (let m = 0, ml = morphAttr.length; m < ml; m++) {\n              // @ts-ignore\n              newMorphArrays[m].push(morphAttr[m][getterFunc](index))\n            }\n          }\n        }\n      }\n\n      hashToIndex[hash] = nextIndex\n      newIndices.push(nextIndex)\n      nextIndex++\n    }\n  }\n\n  // Generate typed arrays from new attribute arrays and update\n  // the attributeBuffers\n  const result = geometry.clone()\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n    const oldAttribute = geometry.getAttribute(name)\n    //@ts-expect-error  something to do with functions and constructors and new\n    const buffer = new (oldAttribute.array as TypedArray).constructor(attrArrays[name])\n    const attribute = new BufferAttribute(buffer, oldAttribute.itemSize, oldAttribute.normalized)\n\n    result.setAttribute(name, attribute)\n\n    // Update the attribute arrays\n    if (name in morphAttrsArrays) {\n      for (let j = 0; j < morphAttrsArrays[name].length; j++) {\n        const oldMorphAttribute = geometry.morphAttributes[name][j]\n        //@ts-expect-error something to do with functions and constructors and new\n        const buffer = new (oldMorphAttribute.array as TypedArray).constructor(morphAttrsArrays[name][j])\n        const morphAttribute = new BufferAttribute(buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized)\n        result.morphAttributes[name][j] = morphAttribute\n      }\n    }\n  }\n\n  // indices\n\n  result.setIndex(newIndices)\n\n  return result\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nexport function toTrianglesDrawMode(geometry: BufferGeometry, drawMode: number): BufferGeometry {\n  if (drawMode === TrianglesDrawMode) {\n    console.warn('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.')\n    return geometry\n  }\n\n  if (drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode) {\n    let index = geometry.getIndex()\n\n    // generate index if not present\n\n    if (index === null) {\n      const indices = []\n\n      const position = geometry.getAttribute('position')\n\n      if (position !== undefined) {\n        for (let i = 0; i < position.count; i++) {\n          indices.push(i)\n        }\n\n        geometry.setIndex(indices)\n        index = geometry.getIndex()\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.',\n        )\n        return geometry\n      }\n    }\n\n    //\n\n    const numberOfTriangles = (index as BufferAttribute).count - 2\n    const newIndices = []\n\n    if (index) {\n      if (drawMode === TriangleFanDrawMode) {\n        // gl.TRIANGLE_FAN\n\n        for (let i = 1; i <= numberOfTriangles; i++) {\n          newIndices.push(index.getX(0))\n          newIndices.push(index.getX(i))\n          newIndices.push(index.getX(i + 1))\n        }\n      } else {\n        // gl.TRIANGLE_STRIP\n\n        for (let i = 0; i < numberOfTriangles; i++) {\n          if (i % 2 === 0) {\n            newIndices.push(index.getX(i))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i + 2))\n          } else {\n            newIndices.push(index.getX(i + 2))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i))\n          }\n        }\n      }\n    }\n\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.')\n    }\n\n    // build final geometry\n\n    const newGeometry = geometry.clone()\n    newGeometry.setIndex(newIndices)\n    newGeometry.clearGroups()\n\n    return newGeometry\n  } else {\n    console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode)\n    return geometry\n  }\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nexport type ComputedMorphedAttribute = {\n  positionAttribute: BufferAttribute | InterleavedBufferAttribute\n  normalAttribute: BufferAttribute | InterleavedBufferAttribute\n  morphedPositionAttribute: Float32BufferAttribute\n  morphedNormalAttribute: Float32BufferAttribute\n}\n\nexport function computeMorphedAttributes(object: Mesh | Line | Points): ComputedMorphedAttribute | null {\n  if (object.geometry.isBufferGeometry !== true) {\n    console.error('THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.')\n    return null\n  }\n\n  const _vA = new Vector3()\n  const _vB = new Vector3()\n  const _vC = new Vector3()\n\n  const _tempA = new Vector3()\n  const _tempB = new Vector3()\n  const _tempC = new Vector3()\n\n  const _morphA = new Vector3()\n  const _morphB = new Vector3()\n  const _morphC = new Vector3()\n\n  function _calculateMorphedAttributeData(\n    object: Mesh | Line | Points,\n    material: Material,\n    attribute: BufferAttribute | InterleavedBufferAttribute,\n    morphAttribute: (BufferAttribute | InterleavedBufferAttribute)[],\n    morphTargetsRelative: boolean,\n    a: number,\n    b: number,\n    c: number,\n    modifiedAttributeArray: Float32Array,\n  ): void {\n    _vA.fromBufferAttribute(attribute, a)\n    _vB.fromBufferAttribute(attribute, b)\n    _vC.fromBufferAttribute(attribute, c)\n\n    const morphInfluences = object.morphTargetInfluences\n\n    if (\n      // @ts-ignore\n      material.morphTargets &&\n      morphAttribute &&\n      morphInfluences\n    ) {\n      _morphA.set(0, 0, 0)\n      _morphB.set(0, 0, 0)\n      _morphC.set(0, 0, 0)\n\n      for (let i = 0, il = morphAttribute.length; i < il; i++) {\n        const influence = morphInfluences[i]\n        const morph = morphAttribute[i]\n\n        if (influence === 0) continue\n\n        _tempA.fromBufferAttribute(morph, a)\n        _tempB.fromBufferAttribute(morph, b)\n        _tempC.fromBufferAttribute(morph, c)\n\n        if (morphTargetsRelative) {\n          _morphA.addScaledVector(_tempA, influence)\n          _morphB.addScaledVector(_tempB, influence)\n          _morphC.addScaledVector(_tempC, influence)\n        } else {\n          _morphA.addScaledVector(_tempA.sub(_vA), influence)\n          _morphB.addScaledVector(_tempB.sub(_vB), influence)\n          _morphC.addScaledVector(_tempC.sub(_vC), influence)\n        }\n      }\n\n      _vA.add(_morphA)\n      _vB.add(_morphB)\n      _vC.add(_morphC)\n    }\n\n    if ((object as SkinnedMesh).isSkinnedMesh) {\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(a, _vA)\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(b, _vB)\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(c, _vC)\n    }\n\n    modifiedAttributeArray[a * 3 + 0] = _vA.x\n    modifiedAttributeArray[a * 3 + 1] = _vA.y\n    modifiedAttributeArray[a * 3 + 2] = _vA.z\n    modifiedAttributeArray[b * 3 + 0] = _vB.x\n    modifiedAttributeArray[b * 3 + 1] = _vB.y\n    modifiedAttributeArray[b * 3 + 2] = _vB.z\n    modifiedAttributeArray[c * 3 + 0] = _vC.x\n    modifiedAttributeArray[c * 3 + 1] = _vC.y\n    modifiedAttributeArray[c * 3 + 2] = _vC.z\n  }\n\n  const geometry = object.geometry\n  const material = object.material\n\n  let a, b, c\n  const index = geometry.index\n  const positionAttribute = geometry.attributes.position\n  const morphPosition = geometry.morphAttributes.position\n  const morphTargetsRelative = geometry.morphTargetsRelative\n  const normalAttribute = geometry.attributes.normal\n  const morphNormal = geometry.morphAttributes.position\n\n  const groups = geometry.groups\n  const drawRange = geometry.drawRange\n  let i, j, il, jl\n  let group, groupMaterial\n  let start, end\n\n  const modifiedPosition = new Float32Array(positionAttribute.count * positionAttribute.itemSize)\n  const modifiedNormal = new Float32Array(normalAttribute.count * normalAttribute.itemSize)\n\n  if (index !== null) {\n    // indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = index.getX(j)\n          b = index.getX(j + 1)\n          c = index.getX(j + 2)\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(index.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = index.getX(i)\n        b = index.getX(i + 1)\n        c = index.getX(i + 2)\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  } else if (positionAttribute !== undefined) {\n    // non-indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = j\n          b = j + 1\n          c = j + 2\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(positionAttribute.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = i\n        b = i + 1\n        c = i + 2\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  }\n\n  const morphedPositionAttribute = new Float32BufferAttribute(modifiedPosition, 3)\n  const morphedNormalAttribute = new Float32BufferAttribute(modifiedNormal, 3)\n\n  return {\n    positionAttribute: positionAttribute,\n    normalAttribute: normalAttribute,\n    morphedPositionAttribute: morphedPositionAttribute,\n    morphedNormalAttribute: morphedNormalAttribute,\n  }\n}\n\n/**\n * Modifies the supplied geometry if it is non-indexed, otherwise creates a new,\n * non-indexed geometry. Returns the geometry with smooth normals everywhere except\n * faces that meet at an angle greater than the crease angle.\n *\n * Backwards compatible with code such as @react-three/drei's `<RoundedBox>`\n * which uses this method to operate on the original geometry.\n *\n * As of this writing, BufferGeometry.toNonIndexed() warns if the geometry is\n * non-indexed and returns `this`, i.e. the same geometry on which it was called:\n * `BufferGeometry is already non-indexed.`\n *\n * @param geometry\n * @param creaseAngle\n */\nexport function toCreasedNormals(geometry: BufferGeometry, creaseAngle = Math.PI / 3 /* 60 degrees */): BufferGeometry {\n  const creaseDot = Math.cos(creaseAngle)\n  const hashMultiplier = (1 + 1e-10) * 1e2\n\n  // reusable vectors\n  const verts = [new Vector3(), new Vector3(), new Vector3()]\n  const tempVec1 = new Vector3()\n  const tempVec2 = new Vector3()\n  const tempNorm = new Vector3()\n  const tempNorm2 = new Vector3()\n\n  // hashes a vector\n  function hashVertex(v: Vector3): string {\n    const x = ~~(v.x * hashMultiplier)\n    const y = ~~(v.y * hashMultiplier)\n    const z = ~~(v.z * hashMultiplier)\n    return `${x},${y},${z}`\n  }\n\n  const resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry\n  const posAttr = resultGeometry.attributes.position\n  const vertexMap: { [key: string]: Vector3[] } = {}\n\n  // find all the normals shared by commonly located vertices\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    // add the normal to the map for all vertices\n    const normal = new Vector3().crossVectors(tempVec1, tempVec2).normalize()\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      if (!(hash in vertexMap)) {\n        vertexMap[hash] = []\n      }\n\n      vertexMap[hash].push(normal)\n    }\n  }\n\n  // average normals from all vertices that share a common location if they are within the\n  // provided crease threshold\n  const normalArray = new Float32Array(posAttr.count * 3)\n  const normAttr = new BufferAttribute(normalArray, 3, false)\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    // get the face normal for this vertex\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    tempNorm.crossVectors(tempVec1, tempVec2).normalize()\n\n    // average all normals that meet the threshold and set the normal value\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      const otherNormals = vertexMap[hash]\n      tempNorm2.set(0, 0, 0)\n\n      for (let k = 0, lk = otherNormals.length; k < lk; k++) {\n        const otherNorm = otherNormals[k]\n        if (tempNorm.dot(otherNorm) > creaseDot) {\n          tempNorm2.add(otherNorm)\n        }\n      }\n\n      tempNorm2.normalize()\n      normAttr.setXYZ(i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z)\n    }\n  }\n\n  resultGeometry.setAttribute('normal', normAttr)\n  return resultGeometry\n}\n"],"names":["buffer","object","material","morphTargetsRelative","a","b","c","i","il"],"mappings":"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"}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/_polyfill/constants.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/_polyfill/constants.ts"],"sourcesContent":["import { REVISION } from 'three'\n\nexport const version = /* @__PURE__ */ (() => parseInt(REVISION.replace(/\\D+/g, '')))()\n"],"names":[],"mappings":";;;;;;AAEa,IAAA,UAAA,aAAA,GAAA;WAAiC,SAAS,8JAAA,CAAS,OAAA,CAAQ,QAAQ,EAAE,CAAC,GAAG"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/_polyfill/LoaderUtils.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/_polyfill/LoaderUtils.js"],"sourcesContent":["export function decodeText(array) {\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder().decode(array)\n  }\n\n  // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n  // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n  let s = ''\n\n  for (let i = 0, il = array.length; i < il; i++) {\n    // Implicitly assumes little-endian.\n    s += String.fromCharCode(array[i])\n  }\n\n  try {\n    // merges multi-byte utf-8 characters.\n\n    return decodeURIComponent(escape(s))\n  } catch (e) {\n    // see https://github.com/mrdoob/three.js/issues/16358\n\n    return s\n  }\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,WAAW,KAAA,EAAO;IAChC,IAAI,OAAO,gBAAgB,aAAa;QACtC,OAAO,IAAI,YAAW,EAAG,MAAA,CAAO,KAAK;IACtC;IAKD,IAAI,IAAI;IAER,IAAA,IAAS,IAAI,GAAG,KAAK,MAAM,MAAA,EAAQ,IAAI,IAAI,IAAK;QAE9C,KAAK,OAAO,YAAA,CAAa,KAAA,CAAM,CAAC,CAAC;IAClC;IAED,IAAI;QAGF,OAAO,mBAAmB,OAAO,CAAC,CAAC;IACpC,EAAA,OAAQ,GAAP;QAGA,OAAO;IACR;AACH"}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/loaders/GLTFLoader.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/loaders/GLTFLoader.js"],"sourcesContent":["import {\n  AnimationClip,\n  Bone,\n  Box3,\n  BufferAttribute,\n  BufferGeometry,\n  ClampToEdgeWrapping,\n  Color,\n  DirectionalLight,\n  DoubleSide,\n  FileLoader,\n  FrontSide,\n  Group,\n  ImageBitmapLoader,\n  InstancedMesh,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  Interpolant,\n  InterpolateDiscrete,\n  InterpolateLinear,\n  Line,\n  LineBasicMaterial,\n  LineLoop,\n  LineSegments,\n  LinearFilter,\n  LinearMipmapLinearFilter,\n  LinearMipmapNearestFilter,\n  Loader,\n  LoaderUtils,\n  Material,\n  MathUtils,\n  Matrix4,\n  Mesh,\n  MeshBasicMaterial,\n  MeshPhysicalMaterial,\n  MeshStandardMaterial,\n  MirroredRepeatWrapping,\n  NearestFilter,\n  NearestMipmapLinearFilter,\n  NearestMipmapNearestFilter,\n  NumberKeyframeTrack,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  Points,\n  PointsMaterial,\n  PropertyBinding,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  RepeatWrapping,\n  Skeleton,\n  SkinnedMesh,\n  Sphere,\n  SpotLight,\n  Texture,\n  TextureLoader,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  Vector2,\n  Vector3,\n  VectorKeyframeTrack,\n  InstancedBufferAttribute,\n} from 'three'\nimport { toTrianglesDrawMode } from '../utils/BufferGeometryUtils'\nimport { version } from '../_polyfill/constants'\nimport { decodeText } from '../_polyfill/LoaderUtils'\n\nconst SRGBColorSpace = 'srgb'\nconst LinearSRGBColorSpace = 'srgb-linear'\nconst sRGBEncoding = 3001\nconst LinearEncoding = 3000\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.dracoLoader = null\n    this.ktx2Loader = null\n    this.meshoptDecoder = null\n\n    this.pluginCallbacks = []\n\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsDispersionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureAVIFExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsEmissiveStrengthExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIridescenceExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsAnisotropyExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsBumpExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshGpuInstancing(parser)\n    })\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this\n\n    let resourcePath\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath\n    } else if (this.path !== '') {\n      // If a base path is set, resources will be relative paths from that plus the relative path of the gltf file\n      // Example  path = 'https://my-cnd-server.com/', url = 'assets/models/model.gltf'\n      // resourcePath = 'https://my-cnd-server.com/assets/models/'\n      // referenced resource 'model.bin' will be loaded from 'https://my-cnd-server.com/assets/models/model.bin'\n      // referenced resource '../textures/texture.png' will be loaded from 'https://my-cnd-server.com/assets/textures/texture.png'\n      const relativeUrl = LoaderUtils.extractUrlBase(url)\n      resourcePath = LoaderUtils.resolveURL(relativeUrl, this.path)\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url)\n    }\n\n    // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n    this.manager.itemStart(url)\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e)\n      } else {\n        console.error(e)\n      }\n\n      scope.manager.itemError(url)\n      scope.manager.itemEnd(url)\n    }\n\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      function (data) {\n        try {\n          scope.parse(\n            data,\n            resourcePath,\n            function (gltf) {\n              onLoad(gltf)\n\n              scope.manager.itemEnd(url)\n            },\n            _onError,\n          )\n        } catch (e) {\n          _onError(e)\n        }\n      },\n      onProgress,\n      _onError,\n    )\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader\n    return this\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".')\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader\n    return this\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder\n    return this\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback)\n    }\n\n    return this\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1)\n    }\n\n    return this\n  }\n\n  parse(data, path, onLoad, onError) {\n    let json\n    const extensions = {}\n    const plugins = {}\n\n    if (typeof data === 'string') {\n      json = JSON.parse(data)\n    } else if (data instanceof ArrayBuffer) {\n      const magic = decodeText(new Uint8Array(data.slice(0, 4)))\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data)\n        } catch (error) {\n          if (onError) onError(error)\n          return\n        }\n\n        json = JSON.parse(extensions[EXTENSIONS.KHR_BINARY_GLTF].content)\n      } else {\n        json = JSON.parse(decodeText(new Uint8Array(data)))\n      }\n    } else {\n      json = data\n    }\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'))\n      return\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder,\n    })\n\n    parser.fileLoader.setRequestHeader(this.requestHeader)\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser)\n\n      if (!plugin.name) console.error('THREE.GLTFLoader: Invalid plugin found: missing name')\n\n      plugins[plugin.name] = plugin\n\n      // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n      extensions[plugin.name] = true\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i]\n        const extensionsRequired = json.extensionsRequired || []\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension()\n            break\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader)\n            break\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension()\n            break\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension()\n            break\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".')\n            }\n        }\n      }\n    }\n\n    parser.setExtensions(extensions)\n    parser.setPlugins(plugins)\n    parser.parse(onLoad, onError)\n  }\n\n  parseAsync(data, path) {\n    const scope = this\n\n    return new Promise(function (resolve, reject) {\n      scope.parse(data, path, resolve, reject)\n    })\n  }\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n  let objects = {}\n\n  return {\n    get: function (key) {\n      return objects[key]\n    },\n\n    add: function (key, object) {\n      objects[key] = object\n    },\n\n    remove: function (key) {\n      delete objects[key]\n    },\n\n    removeAll: function () {\n      objects = {}\n    },\n  }\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_DISPERSION: 'KHR_materials_dispersion',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n  KHR_MATERIALS_ANISOTROPY: 'KHR_materials_anisotropy',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  KHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n  EXT_MATERIALS_BUMP: 'EXT_materials_bump',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_TEXTURE_AVIF: 'EXT_texture_avif',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n  EXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing',\n}\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL\n\n    // Object3D instance caches\n    this.cache = { refs: {}, uses: {} }\n  }\n\n  _markDefs() {\n    const parser = this.parser\n    const nodeDefs = this.parser.json.nodes || []\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light)\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser\n    const cacheKey = 'light:' + lightIndex\n    let dependency = parser.cache.get(cacheKey)\n\n    if (dependency) return dependency\n\n    const json = parser.json\n    const extensions = (json.extensions && json.extensions[this.name]) || {}\n    const lightDefs = extensions.lights || []\n    const lightDef = lightDefs[lightIndex]\n    let lightNode\n\n    const color = new Color(0xffffff)\n\n    if (lightDef.color !== undefined)\n      color.setRGB(lightDef.color[0], lightDef.color[1], lightDef.color[2], LinearSRGBColorSpace)\n\n    const range = lightDef.range !== undefined ? lightDef.range : 0\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color)\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      case 'point':\n        lightNode = new PointLight(color)\n        lightNode.distance = range\n        break\n\n      case 'spot':\n        lightNode = new SpotLight(color)\n        lightNode.distance = range\n        // Handle spotlight properties.\n        lightDef.spot = lightDef.spot || {}\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0\n        lightDef.spot.outerConeAngle =\n          lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0\n        lightNode.angle = lightDef.spot.outerConeAngle\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type)\n    }\n\n    // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n    lightNode.position.set(0, 0, 0)\n\n    lightNode.decay = 2\n\n    assignExtrasToUserData(lightNode, lightDef)\n\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity\n\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex)\n\n    dependency = Promise.resolve(lightNode)\n\n    parser.cache.add(cacheKey, dependency)\n\n    return dependency\n  }\n\n  getDependency(type, index) {\n    if (type !== 'light') return\n\n    return this._loadLight(index)\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this\n    const parser = this.parser\n    const json = parser.json\n    const nodeDef = json.nodes[nodeIndex]\n    const lightDef = (nodeDef.extensions && nodeDef.extensions[this.name]) || {}\n    const lightIndex = lightDef.light\n\n    if (lightIndex === undefined) return null\n\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light)\n    })\n  }\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = []\n\n    materialParams.color = new Color(1.0, 1.0, 1.0)\n    materialParams.opacity = 1.0\n\n    const metallicRoughness = materialDef.pbrMetallicRoughness\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const emissiveStrength = materialDef.extensions[this.name].emissiveStrength\n\n    if (emissiveStrength !== undefined) {\n      materialParams.emissiveIntensity = emissiveStrength\n    }\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture))\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture))\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture))\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale\n\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials dispersion Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_dispersion\n */\nclass GLTFMaterialsDispersionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_DISPERSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.dispersion = extension.dispersion !== undefined ? extension.dispersion : 0\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.iridescenceFactor !== undefined) {\n      materialParams.iridescence = extension.iridescenceFactor\n    }\n\n    if (extension.iridescenceTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'iridescenceMap', extension.iridescenceTexture))\n    }\n\n    if (extension.iridescenceIor !== undefined) {\n      materialParams.iridescenceIOR = extension.iridescenceIor\n    }\n\n    if (materialParams.iridescenceThicknessRange === undefined) {\n      materialParams.iridescenceThicknessRange = [100, 400]\n    }\n\n    if (extension.iridescenceThicknessMinimum !== undefined) {\n      materialParams.iridescenceThicknessRange[0] = extension.iridescenceThicknessMinimum\n    }\n\n    if (extension.iridescenceThicknessMaximum !== undefined) {\n      materialParams.iridescenceThicknessRange[1] = extension.iridescenceThicknessMaximum\n    }\n\n    if (extension.iridescenceThicknessTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    materialParams.sheenColor = new Color(0, 0, 0)\n    materialParams.sheenRoughness = 0\n    materialParams.sheen = 1\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.sheenColorFactor !== undefined) {\n      const colorFactor = extension.sheenColorFactor\n      materialParams.sheenColor.setRGB(colorFactor[0], colorFactor[1], colorFactor[2], LinearSRGBColorSpace)\n    }\n\n    if (extension.sheenRoughnessFactor !== undefined) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor\n    }\n\n    if (extension.sheenColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture, SRGBColorSpace))\n    }\n\n    if (extension.sheenRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture))\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || Infinity\n\n    const colorArray = extension.attenuationColor || [1, 1, 1]\n    materialParams.attenuationColor = new Color().setRGB(\n      colorArray[0],\n      colorArray[1],\n      colorArray[2],\n      LinearSRGBColorSpace,\n    )\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture))\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1]\n    materialParams.specularColor = new Color().setRGB(colorArray[0], colorArray[1], colorArray[2], LinearSRGBColorSpace)\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture, SRGBColorSpace),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials bump Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/EXT_materials_bump\n */\nclass GLTFMaterialsBumpExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_MATERIALS_BUMP\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.bumpScale = extension.bumpFactor !== undefined ? extension.bumpFactor : 1.0\n\n    if (extension.bumpTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'bumpMap', extension.bumpTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials anisotropy Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_anisotropy\n */\nclass GLTFMaterialsAnisotropyExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_ANISOTROPY\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.anisotropyStrength !== undefined) {\n      materialParams.anisotropy = extension.anisotropyStrength\n    }\n\n    if (extension.anisotropyRotation !== undefined) {\n      materialParams.anisotropyRotation = extension.anisotropyRotation\n    }\n\n    if (extension.anisotropyTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'anisotropyMap', extension.anisotropyTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[this.name]\n    const loader = parser.options.ktx2Loader\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures')\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, extension.source, loader)\n  }\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA'\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * AVIF Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_avif\n */\nclass GLTFTextureAVIFExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_AVIF\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: AVIF required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image.\n        image.src =\n          'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI='\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION\n    this.parser = parser\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json\n    const bufferView = json.bufferViews[index]\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name]\n\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer)\n      const decoder = this.parser.options.meshoptDecoder\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files')\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null\n        }\n      }\n\n      return buffer.then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0\n        const byteLength = extensionDef.byteLength || 0\n\n        const count = extensionDef.count\n        const stride = extensionDef.byteStride\n\n        const source = new Uint8Array(res, byteOffset, byteLength)\n\n        if (decoder.decodeGltfBufferAsync) {\n          return decoder\n            .decodeGltfBufferAsync(count, stride, source, extensionDef.mode, extensionDef.filter)\n            .then(function (res) {\n              return res.buffer\n            })\n        } else {\n          // Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n          return decoder.ready.then(function () {\n            const result = new ArrayBuffer(count * stride)\n            decoder.decodeGltfBuffer(\n              new Uint8Array(result),\n              count,\n              stride,\n              source,\n              extensionDef.mode,\n              extensionDef.filter,\n            )\n            return result\n          })\n        }\n      })\n    } else {\n      return null\n    }\n  }\n}\n\n/**\n * GPU Instancing Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing\n *\n */\nclass GLTFMeshGpuInstancing {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING\n    this.parser = parser\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.parser.json\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (!nodeDef.extensions || !nodeDef.extensions[this.name] || nodeDef.mesh === undefined) {\n      return null\n    }\n\n    const meshDef = json.meshes[nodeDef.mesh]\n\n    // No Points or Lines + Instancing support yet\n\n    for (const primitive of meshDef.primitives) {\n      if (\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLES &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN &&\n        primitive.mode !== undefined\n      ) {\n        return null\n      }\n    }\n\n    const extensionDef = nodeDef.extensions[this.name]\n    const attributesDef = extensionDef.attributes\n\n    // @TODO: Can we support InstancedMesh + SkinnedMesh?\n\n    const pending = []\n    const attributes = {}\n\n    for (const key in attributesDef) {\n      pending.push(\n        this.parser.getDependency('accessor', attributesDef[key]).then((accessor) => {\n          attributes[key] = accessor\n          return attributes[key]\n        }),\n      )\n    }\n\n    if (pending.length < 1) {\n      return null\n    }\n\n    pending.push(this.parser.createNodeMesh(nodeIndex))\n\n    return Promise.all(pending).then((results) => {\n      const nodeObject = results.pop()\n      const meshes = nodeObject.isGroup ? nodeObject.children : [nodeObject]\n      const count = results[0].count // All attribute counts should be same\n      const instancedMeshes = []\n\n      for (const mesh of meshes) {\n        // Temporal variables\n        const m = new Matrix4()\n        const p = new Vector3()\n        const q = new Quaternion()\n        const s = new Vector3(1, 1, 1)\n\n        const instancedMesh = new InstancedMesh(mesh.geometry, mesh.material, count)\n\n        for (let i = 0; i < count; i++) {\n          if (attributes.TRANSLATION) {\n            p.fromBufferAttribute(attributes.TRANSLATION, i)\n          }\n\n          if (attributes.ROTATION) {\n            q.fromBufferAttribute(attributes.ROTATION, i)\n          }\n\n          if (attributes.SCALE) {\n            s.fromBufferAttribute(attributes.SCALE, i)\n          }\n\n          instancedMesh.setMatrixAt(i, m.compose(p, q, s))\n        }\n\n        // Add instance attributes to the geometry, excluding TRS.\n        for (const attributeName in attributes) {\n          if (attributeName === '_COLOR_0') {\n            const attr = attributes[attributeName]\n            instancedMesh.instanceColor = new InstancedBufferAttribute(attr.array, attr.itemSize, attr.normalized)\n          } else if (attributeName !== 'TRANSLATION' && attributeName !== 'ROTATION' && attributeName !== 'SCALE') {\n            mesh.geometry.setAttribute(attributeName, attributes[attributeName])\n          }\n        }\n\n        // Just in case\n        Object3D.prototype.copy.call(instancedMesh, mesh)\n\n        this.parser.assignFinalMaterial(instancedMesh)\n\n        instancedMeshes.push(instancedMesh)\n      }\n\n      if (nodeObject.isGroup) {\n        nodeObject.clear()\n\n        nodeObject.add(...instancedMeshes)\n\n        return nodeObject\n      }\n\n      return instancedMeshes[0]\n    })\n  }\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF'\nconst BINARY_EXTENSION_HEADER_LENGTH = 12\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4e4f534a, BIN: 0x004e4942 }\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF\n    this.content = null\n    this.body = null\n\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH)\n\n    this.header = {\n      magic: decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true),\n    }\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.')\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.')\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH)\n    let chunkIndex = 0\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      const chunkType = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength)\n        this.content = decodeText(contentArray)\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex\n        this.body = data.slice(byteOffset, byteOffset + chunkLength)\n      }\n\n      // Clients must ignore chunks with unknown types.\n\n      chunkIndex += chunkLength\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.')\n    }\n  }\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.')\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION\n    this.json = json\n    this.dracoLoader = dracoLoader\n    this.dracoLoader.preload()\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json\n    const dracoLoader = this.dracoLoader\n    const bufferViewIndex = primitive.extensions[this.name].bufferView\n    const gltfAttributeMap = primitive.extensions[this.name].attributes\n    const threeAttributeMap = {}\n    const attributeNormalizedMap = {}\n    const attributeTypeMap = {}\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName]\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]]\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n        attributeTypeMap[threeAttributeName] = componentType.name\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve, reject) {\n        dracoLoader.decodeDracoFile(\n          bufferView,\n          function (geometry) {\n            for (const attributeName in geometry.attributes) {\n              const attribute = geometry.attributes[attributeName]\n              const normalized = attributeNormalizedMap[attributeName]\n\n              if (normalized !== undefined) attribute.normalized = normalized\n            }\n\n            resolve(geometry)\n          },\n          threeAttributeMap,\n          attributeTypeMap,\n          LinearSRGBColorSpace,\n          reject,\n        )\n      })\n    })\n  }\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM\n  }\n\n  extendTexture(texture, transform) {\n    if (\n      (transform.texCoord === undefined || transform.texCoord === texture.channel) &&\n      transform.offset === undefined &&\n      transform.rotation === undefined &&\n      transform.scale === undefined\n    ) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture\n    }\n\n    texture = texture.clone()\n\n    if (transform.texCoord !== undefined) {\n      texture.channel = transform.texCoord\n    }\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset)\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale)\n    }\n\n    texture.needsUpdate = true\n\n    return texture\n  }\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION\n  }\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer)\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n\n    const result = this.resultBuffer,\n      values = this.sampleValues,\n      valueSize = this.valueSize,\n      offset = index * valueSize * 3 + valueSize\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i]\n    }\n\n    return result\n  }\n\n  interpolate_(i1, t0, t, t1) {\n    const result = this.resultBuffer\n    const values = this.sampleValues\n    const stride = this.valueSize\n\n    const stride2 = stride * 2\n    const stride3 = stride * 3\n\n    const td = t1 - t0\n\n    const p = (t - t0) / td\n    const pp = p * p\n    const ppp = pp * p\n\n    const offset1 = i1 * stride3\n    const offset0 = offset1 - stride3\n\n    const s2 = -2 * ppp + 3 * pp\n    const s3 = ppp - pp\n    const s0 = 1 - s2\n    const s1 = s3 - pp + p\n\n    // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n    for (let i = 0; i !== stride; i++) {\n      const p0 = values[offset0 + i + stride] // splineVertex_k\n      const m0 = values[offset0 + i + stride2] * td // outTangent_k * (t_k+1 - t_k)\n      const p1 = values[offset1 + i + stride] // splineVertex_k+1\n      const m1 = values[offset1 + i] * td // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1\n    }\n\n    return result\n  }\n}\n\nconst _q = /* @__PURE__ */ new Quaternion()\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1)\n\n    _q.fromArray(result).normalize().toArray(result)\n\n    return result\n  }\n}\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123,\n}\n\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array,\n}\n\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter,\n}\n\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping,\n}\n\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16,\n}\n\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  // uv => uv1, 4 uv channels\n  // https://github.com/mrdoob/three.js/pull/25943\n  // https://github.com/mrdoob/three.js/pull/25788\n  ...(version >= 152\n    ? {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv1',\n        TEXCOORD_2: 'uv2',\n        TEXCOORD_3: 'uv3',\n      }\n    : {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv2',\n      }),\n\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex',\n}\n\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences',\n}\n\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete,\n}\n\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND',\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide,\n    })\n  }\n\n  return cache['DefaultMaterial']\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {}\n      object.userData.gltfExtensions[name] = objectDef.extensions[name]\n    }\n  }\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras)\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras)\n    }\n  }\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false\n  let hasMorphNormal = false\n  let hasMorphColor = false\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (target.POSITION !== undefined) hasMorphPosition = true\n    if (target.NORMAL !== undefined) hasMorphNormal = true\n    if (target.COLOR_0 !== undefined) hasMorphColor = true\n\n    if (hasMorphPosition && hasMorphNormal && hasMorphColor) break\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal && !hasMorphColor) return Promise.resolve(geometry)\n\n  const pendingPositionAccessors = []\n  const pendingNormalAccessors = []\n  const pendingColorAccessors = []\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (hasMorphPosition) {\n      const pendingAccessor =\n        target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position\n\n      pendingPositionAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor =\n        target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal\n\n      pendingNormalAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphColor) {\n      const pendingAccessor =\n        target.COLOR_0 !== undefined ? parser.getDependency('accessor', target.COLOR_0) : geometry.attributes.color\n\n      pendingColorAccessors.push(pendingAccessor)\n    }\n  }\n\n  return Promise.all([\n    Promise.all(pendingPositionAccessors),\n    Promise.all(pendingNormalAccessors),\n    Promise.all(pendingColorAccessors),\n  ]).then(function (accessors) {\n    const morphPositions = accessors[0]\n    const morphNormals = accessors[1]\n    const morphColors = accessors[2]\n\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals\n    if (hasMorphColor) geometry.morphAttributes.color = morphColors\n    geometry.morphTargetsRelative = true\n\n    return geometry\n  })\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets()\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i]\n    }\n  }\n\n  // .extras has user-defined data, so check that .extras.targetNames is an array.\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {}\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.')\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  let geometryKey\n\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n\n  if (dracoExtension) {\n    geometryKey =\n      'draco:' +\n      dracoExtension.bufferView +\n      ':' +\n      dracoExtension.indices +\n      ':' +\n      createAttributesKey(dracoExtension.attributes)\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode\n  }\n\n  if (primitiveDef.targets !== undefined) {\n    for (let i = 0, il = primitiveDef.targets.length; i < il; i++) {\n      geometryKey += ':' + createAttributesKey(primitiveDef.targets[i])\n    }\n  }\n\n  return geometryKey\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = ''\n\n  const keys = Object.keys(attributes).sort()\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';'\n  }\n\n  return attributesKey\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127\n\n    case Uint8Array:\n      return 1 / 255\n\n    case Int16Array:\n      return 1 / 32767\n\n    case Uint16Array:\n      return 1 / 65535\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.')\n  }\n}\n\nfunction getImageURIMimeType(uri) {\n  if (uri.search(/\\.jpe?g($|\\?)/i) > 0 || uri.search(/^data\\:image\\/jpeg/) === 0) return 'image/jpeg'\n  if (uri.search(/\\.webp($|\\?)/i) > 0 || uri.search(/^data\\:image\\/webp/) === 0) return 'image/webp'\n\n  return 'image/png'\n}\n\nconst _identityMatrix = /* @__PURE__ */ new Matrix4()\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json\n    this.extensions = {}\n    this.plugins = {}\n    this.options = options\n\n    // loader object cache\n    this.cache = new GLTFRegistry()\n\n    // associations between Three.js objects and glTF elements\n    this.associations = new Map()\n\n    // BufferGeometry caching\n    this.primitiveCache = {}\n\n    // Node cache\n    this.nodeCache = {}\n\n    // Object3D instance caches\n    this.meshCache = { refs: {}, uses: {} }\n    this.cameraCache = { refs: {}, uses: {} }\n    this.lightCache = { refs: {}, uses: {} }\n\n    this.sourceCache = {}\n    this.textureCache = {}\n\n    // Track node names, to ensure no duplicates\n    this.nodeNamesUsed = {}\n\n    // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    let isSafari = false\n    let isFirefox = false\n    let firefoxVersion = -1\n\n    if (typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined') {\n      isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true\n      isFirefox = navigator.userAgent.indexOf('Firefox') > -1\n      firefoxVersion = isFirefox ? navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1] : -1\n    }\n\n    if (typeof createImageBitmap === 'undefined' || isSafari || (isFirefox && firefoxVersion < 98)) {\n      this.textureLoader = new TextureLoader(this.options.manager)\n    } else {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager)\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin)\n    this.textureLoader.setRequestHeader(this.options.requestHeader)\n\n    this.fileLoader = new FileLoader(this.options.manager)\n    this.fileLoader.setResponseType('arraybuffer')\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true)\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins\n  }\n\n  parse(onLoad, onError) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    // Clear the loader cache\n    this.cache.removeAll()\n    this.nodeCache = {}\n\n    // Mark the special nodes/meshes in json for efficient parse\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs()\n    })\n\n    Promise.all(\n      this._invokeAll(function (ext) {\n        return ext.beforeRoot && ext.beforeRoot()\n      }),\n    )\n      .then(function () {\n        return Promise.all([\n          parser.getDependencies('scene'),\n          parser.getDependencies('animation'),\n          parser.getDependencies('camera'),\n        ])\n      })\n      .then(function (dependencies) {\n        const result = {\n          scene: dependencies[0][json.scene || 0],\n          scenes: dependencies[0],\n          animations: dependencies[1],\n          cameras: dependencies[2],\n          asset: json.asset,\n          parser: parser,\n          userData: {},\n        }\n\n        addUnknownExtensionsToUserData(extensions, result, json)\n\n        assignExtrasToUserData(result, json)\n\n        return Promise.all(\n          parser._invokeAll(function (ext) {\n            return ext.afterRoot && ext.afterRoot(result)\n          }),\n        ).then(function () {\n          for (const scene of result.scenes) {\n            scene.updateMatrixWorld()\n          }\n\n          onLoad(result)\n        })\n      })\n      .catch(onError)\n  }\n\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n  _markDefs() {\n    const nodeDefs = this.json.nodes || []\n    const skinDefs = this.json.skins || []\n    const meshDefs = this.json.meshes || []\n\n    // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true\n      }\n    }\n\n    // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh)\n\n        // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera)\n      }\n    }\n  }\n\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n  _addNodeRef(cache, index) {\n    if (index === undefined) return\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0\n    }\n\n    cache.refs[index]++\n  }\n\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object\n\n    const ref = object.clone()\n\n    // Propagates mappings to the cloned object, prevents mappings on the\n    // original object from being lost.\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original)\n      if (mappings != null) {\n        this.associations.set(clone, mappings)\n      }\n\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i])\n      }\n    }\n\n    updateMappings(object, ref)\n\n    ref.name += '_instance_' + cache.uses[index]++\n\n    return ref\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.push(this)\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) return result\n    }\n\n    return null\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.unshift(this)\n\n    const pending = []\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) pending.push(result)\n    }\n\n    return pending\n  }\n\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index\n    let dependency = this.cache.get(cacheKey)\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index)\n          break\n\n        case 'node':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadNode && ext.loadNode(index)\n          })\n          break\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index)\n          })\n          break\n\n        case 'accessor':\n          dependency = this.loadAccessor(index)\n          break\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index)\n          })\n          break\n\n        case 'buffer':\n          dependency = this.loadBuffer(index)\n          break\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index)\n          })\n          break\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index)\n          })\n          break\n\n        case 'skin':\n          dependency = this.loadSkin(index)\n          break\n\n        case 'animation':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadAnimation && ext.loadAnimation(index)\n          })\n          break\n\n        case 'camera':\n          dependency = this.loadCamera(index)\n          break\n\n        default:\n          dependency = this._invokeOne(function (ext) {\n            return ext != this && ext.getDependency && ext.getDependency(type, index)\n          })\n\n          if (!dependency) {\n            throw new Error('Unknown type: ' + type)\n          }\n\n          break\n      }\n\n      this.cache.add(cacheKey, dependency)\n    }\n\n    return dependency\n  }\n\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n  getDependencies(type) {\n    let dependencies = this.cache.get(type)\n\n    if (!dependencies) {\n      const parser = this\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || []\n\n      dependencies = Promise.all(\n        defs.map(function (def, index) {\n          return parser.getDependency(type, index)\n        }),\n      )\n\n      this.cache.add(type, dependencies)\n    }\n\n    return dependencies\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex]\n    const loader = this.fileLoader\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.')\n    }\n\n    // If present, GLB container is required to be the first buffer.\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body)\n    }\n\n    const options = this.options\n\n    return new Promise(function (resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'))\n      })\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex]\n\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0\n      const byteOffset = bufferViewDef.byteOffset || 0\n      return buffer.slice(byteOffset, byteOffset + byteLength)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n  loadAccessor(accessorIndex) {\n    const parser = this\n    const json = this.json\n\n    const accessorDef = this.json.accessors[accessorIndex]\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n      const normalized = accessorDef.normalized === true\n\n      const array = new TypedArray(accessorDef.count * itemSize)\n      return Promise.resolve(new BufferAttribute(array, itemSize, normalized))\n    }\n\n    const pendingBufferViews = []\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView))\n    } else {\n      pendingBufferViews.push(null)\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView))\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView))\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0]\n\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n      // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT\n      const itemBytes = elementBytes * itemSize\n      const byteOffset = accessorDef.byteOffset || 0\n      const byteStride =\n        accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined\n      const normalized = accessorDef.normalized === true\n      let array, bufferAttribute\n\n      // The buffer is not interleaved if the stride is the item size in bytes.\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride)\n        const ibCacheKey =\n          'InterleavedBuffer:' +\n          accessorDef.bufferView +\n          ':' +\n          accessorDef.componentType +\n          ':' +\n          ibSlice +\n          ':' +\n          accessorDef.count\n        let ib = parser.cache.get(ibCacheKey)\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, (accessorDef.count * byteStride) / elementBytes)\n\n          // Integer parameters to IB/IBA are in array elements, not bytes.\n          ib = new InterleavedBuffer(array, byteStride / elementBytes)\n\n          parser.cache.add(ibCacheKey, ib)\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(\n          ib,\n          itemSize,\n          (byteOffset % byteStride) / elementBytes,\n          normalized,\n        )\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize)\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize)\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized)\n      }\n\n      // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType]\n\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0\n\n        const sparseIndices = new TypedArrayIndices(\n          bufferViews[1],\n          byteOffsetIndices,\n          accessorDef.sparse.count * itemSizeIndices,\n        )\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize)\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(\n            bufferAttribute.array.slice(),\n            bufferAttribute.itemSize,\n            bufferAttribute.normalized,\n          )\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i]\n\n          bufferAttribute.setX(index, sparseValues[i * itemSize])\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1])\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2])\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3])\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.')\n        }\n      }\n\n      return bufferAttribute\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture|null>}\n   */\n  loadTexture(textureIndex) {\n    const json = this.json\n    const options = this.options\n    const textureDef = json.textures[textureIndex]\n    const sourceIndex = textureDef.source\n    const sourceDef = json.images[sourceIndex]\n\n    let loader = this.textureLoader\n\n    if (sourceDef.uri) {\n      const handler = options.manager.getHandler(sourceDef.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.loadTextureImage(textureIndex, sourceIndex, loader)\n  }\n\n  loadTextureImage(textureIndex, sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n\n    const textureDef = json.textures[textureIndex]\n    const sourceDef = json.images[sourceIndex]\n\n    const cacheKey = (sourceDef.uri || sourceDef.bufferView) + ':' + textureDef.sampler\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey]\n    }\n\n    const promise = this.loadImageSource(sourceIndex, loader)\n      .then(function (texture) {\n        texture.flipY = false\n\n        texture.name = textureDef.name || sourceDef.name || ''\n\n        if (\n          texture.name === '' &&\n          typeof sourceDef.uri === 'string' &&\n          sourceDef.uri.startsWith('data:image/') === false\n        ) {\n          texture.name = sourceDef.uri\n        }\n\n        const samplers = json.samplers || {}\n        const sampler = samplers[textureDef.sampler] || {}\n\n        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter\n        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter\n        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping\n        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping\n\n        parser.associations.set(texture, { textures: textureIndex })\n\n        return texture\n      })\n      .catch(function () {\n        return null\n      })\n\n    this.textureCache[cacheKey] = promise\n\n    return promise\n  }\n\n  loadImageSource(sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n    const options = this.options\n\n    if (this.sourceCache[sourceIndex] !== undefined) {\n      return this.sourceCache[sourceIndex].then((texture) => texture.clone())\n    }\n\n    const sourceDef = json.images[sourceIndex]\n\n    const URL = self.URL || self.webkitURL\n\n    let sourceURI = sourceDef.uri || ''\n    let isObjectURL = false\n\n    if (sourceDef.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n\n      sourceURI = parser.getDependency('bufferView', sourceDef.bufferView).then(function (bufferView) {\n        isObjectURL = true\n        const blob = new Blob([bufferView], { type: sourceDef.mimeType })\n        sourceURI = URL.createObjectURL(blob)\n        return sourceURI\n      })\n    } else if (sourceDef.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView')\n    }\n\n    const promise = Promise.resolve(sourceURI)\n      .then(function (sourceURI) {\n        return new Promise(function (resolve, reject) {\n          let onLoad = resolve\n\n          if (loader.isImageBitmapLoader === true) {\n            onLoad = function (imageBitmap) {\n              const texture = new Texture(imageBitmap)\n              texture.needsUpdate = true\n\n              resolve(texture)\n            }\n          }\n\n          loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject)\n        })\n      })\n      .then(function (texture) {\n        // Clean up resources and configure Texture.\n\n        if (isObjectURL === true) {\n          URL.revokeObjectURL(sourceURI)\n        }\n\n        assignExtrasToUserData(texture, sourceDef)\n\n        texture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType(sourceDef.uri)\n\n        return texture\n      })\n      .catch(function (error) {\n        console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI)\n        throw error\n      })\n\n    this.sourceCache[sourceIndex] = promise\n    return promise\n  }\n\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n  assignTexture(materialParams, mapName, mapDef, colorSpace) {\n    const parser = this\n\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      if (!texture) return null\n\n      if (mapDef.texCoord !== undefined && mapDef.texCoord > 0) {\n        texture = texture.clone()\n        texture.channel = mapDef.texCoord\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform =\n          mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture)\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform)\n          parser.associations.set(texture, gltfReference)\n        }\n      }\n\n      if (colorSpace !== undefined) {\n        // Convert from legacy encoding to colorSpace\n        if (typeof colorSpace === 'number')\n          colorSpace = colorSpace === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace\n\n        // Set colorSpace if able, fallback to legacy encoding\n        if ('colorSpace' in texture) texture.colorSpace = colorSpace\n        else texture.encoding = colorSpace === SRGBColorSpace ? sRGBEncoding : LinearEncoding\n      }\n\n      materialParams[mapName] = texture\n\n      return texture\n    })\n  }\n\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry\n    let material = mesh.material\n\n    const useDerivativeTangents = geometry.attributes.tangent === undefined\n    const useVertexColors = geometry.attributes.color !== undefined\n    const useFlatShading = geometry.attributes.normal === undefined\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid\n\n      let pointsMaterial = this.cache.get(cacheKey)\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial()\n        Material.prototype.copy.call(pointsMaterial, material)\n        pointsMaterial.color.copy(material.color)\n        pointsMaterial.map = material.map\n        pointsMaterial.sizeAttenuation = false // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial)\n      }\n\n      material = pointsMaterial\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid\n\n      let lineMaterial = this.cache.get(cacheKey)\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial()\n        Material.prototype.copy.call(lineMaterial, material)\n        lineMaterial.color.copy(material.color)\n        lineMaterial.map = material.map\n\n        this.cache.add(cacheKey, lineMaterial)\n      }\n\n      material = lineMaterial\n    }\n\n    // Clone the material if it will be modified\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':'\n\n      if (useDerivativeTangents) cacheKey += 'derivative-tangents:'\n      if (useVertexColors) cacheKey += 'vertex-colors:'\n      if (useFlatShading) cacheKey += 'flat-shading:'\n\n      let cachedMaterial = this.cache.get(cacheKey)\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone()\n\n        if (useVertexColors) cachedMaterial.vertexColors = true\n        if (useFlatShading) cachedMaterial.flatShading = true\n\n        if (useDerivativeTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1\n        }\n\n        this.cache.add(cacheKey, cachedMaterial)\n\n        this.associations.set(cachedMaterial, this.associations.get(material))\n      }\n\n      material = cachedMaterial\n    }\n\n    mesh.material = material\n  }\n\n  getMaterialType(/* materialIndex */) {\n    return MeshStandardMaterial\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n  loadMaterial(materialIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n    const materialDef = json.materials[materialIndex]\n\n    let materialType\n    const materialParams = {}\n    const materialExtensions = materialDef.extensions || {}\n\n    const pending = []\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT]\n      materialType = kmuExtension.getMaterialType()\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser))\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {}\n\n      materialParams.color = new Color(1.0, 1.0, 1.0)\n      materialParams.opacity = 1.0\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0\n      materialParams.roughness =\n        metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture))\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture))\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex)\n      })\n\n      pending.push(\n        Promise.all(\n          this._invokeAll(function (ext) {\n            return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams)\n          }),\n        ),\n      )\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true\n\n      // See: https://github.com/mrdoob/three.js/issues/17706\n      materialParams.depthWrite = false\n    } else {\n      materialParams.transparent = false\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture))\n\n      materialParams.normalScale = new Vector2(1, 1)\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        const scale = materialDef.normalTexture.scale\n\n        materialParams.normalScale.set(scale, scale)\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture))\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      const emissiveFactor = materialDef.emissiveFactor\n      materialParams.emissive = new Color().setRGB(\n        emissiveFactor[0],\n        emissiveFactor[1],\n        emissiveFactor[2],\n        LinearSRGBColorSpace,\n      )\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture, SRGBColorSpace))\n    }\n\n    return Promise.all(pending).then(function () {\n      const material = new materialType(materialParams)\n\n      if (materialDef.name) material.name = materialDef.name\n\n      assignExtrasToUserData(material, materialDef)\n\n      parser.associations.set(material, { materials: materialIndex })\n\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef)\n\n      return material\n    })\n  }\n\n  /** When Object3D instances are targeted by animation, they need unique names. */\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '')\n\n    if (sanitizedName in this.nodeNamesUsed) {\n      return sanitizedName + '_' + ++this.nodeNamesUsed[sanitizedName]\n    } else {\n      this.nodeNamesUsed[sanitizedName] = 0\n\n      return sanitizedName\n    }\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n  loadGeometries(primitives) {\n    const parser = this\n    const extensions = this.extensions\n    const cache = this.primitiveCache\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n        .decodePrimitive(primitive, parser)\n        .then(function (geometry) {\n          return addPrimitiveAttributes(geometry, primitive, parser)\n        })\n    }\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i]\n      const cacheKey = createPrimitiveKey(primitive)\n\n      // See if we've already created this geometry\n      const cached = cache[cacheKey]\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise)\n      } else {\n        let geometryPromise\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive)\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser)\n        }\n\n        // Cache this geometry\n        cache[cacheKey] = { primitive: primitive, promise: geometryPromise }\n\n        pending.push(geometryPromise)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n  loadMesh(meshIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    const meshDef = json.meshes[meshIndex]\n    const primitives = meshDef.primitives\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material =\n        primitives[i].material === undefined\n          ? createDefaultMaterial(this.cache)\n          : this.getDependency('material', primitives[i].material)\n\n      pending.push(material)\n    }\n\n    pending.push(parser.loadGeometries(primitives))\n\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1)\n      const geometries = results[results.length - 1]\n\n      const meshes = []\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i]\n        const primitive = primitives[i]\n\n        // 1. create Mesh\n\n        let mesh\n\n        const material = materials[i]\n\n        if (\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n          primitive.mode === undefined\n        ) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material)\n\n          if (mesh.isSkinnedMesh === true) {\n            // normalize skin weights to fix malformed assets (see #15319)\n            mesh.normalizeSkinWeights()\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode)\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode)\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material)\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode)\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef)\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex)\n\n        assignExtrasToUserData(mesh, meshDef)\n\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive)\n\n        parser.assignFinalMaterial(mesh)\n\n        meshes.push(mesh)\n      }\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i,\n        })\n      }\n\n      if (meshes.length === 1) {\n        if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, meshes[0], meshDef)\n\n        return meshes[0]\n      }\n\n      const group = new Group()\n\n      if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, group, meshDef)\n\n      parser.associations.set(group, { meshes: meshIndex })\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i])\n      }\n\n      return group\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n  loadCamera(cameraIndex) {\n    let camera\n    const cameraDef = this.json.cameras[cameraIndex]\n    const params = cameraDef[cameraDef.type]\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.')\n      return\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(\n        MathUtils.radToDeg(params.yfov),\n        params.aspectRatio || 1,\n        params.znear || 1,\n        params.zfar || 2e6,\n      )\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar)\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name)\n\n    assignExtrasToUserData(camera, cameraDef)\n\n    return Promise.resolve(camera)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Skeleton>}\n   */\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex]\n\n    const pending = []\n\n    for (let i = 0, il = skinDef.joints.length; i < il; i++) {\n      pending.push(this._loadNodeShallow(skinDef.joints[i]))\n    }\n\n    if (skinDef.inverseBindMatrices !== undefined) {\n      pending.push(this.getDependency('accessor', skinDef.inverseBindMatrices))\n    } else {\n      pending.push(null)\n    }\n\n    return Promise.all(pending).then(function (results) {\n      const inverseBindMatrices = results.pop()\n      const jointNodes = results\n\n      // Note that bones (joint nodes) may or may not be in the\n      // scene graph at this time.\n\n      const bones = []\n      const boneInverses = []\n\n      for (let i = 0, il = jointNodes.length; i < il; i++) {\n        const jointNode = jointNodes[i]\n\n        if (jointNode) {\n          bones.push(jointNode)\n\n          const mat = new Matrix4()\n\n          if (inverseBindMatrices !== null) {\n            mat.fromArray(inverseBindMatrices.array, i * 16)\n          }\n\n          boneInverses.push(mat)\n        } else {\n          console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[i])\n        }\n      }\n\n      return new Skeleton(bones, boneInverses)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n  loadAnimation(animationIndex) {\n    const json = this.json\n    const parser = this\n\n    const animationDef = json.animations[animationIndex]\n    const animationName = animationDef.name ? animationDef.name : 'animation_' + animationIndex\n\n    const pendingNodes = []\n    const pendingInputAccessors = []\n    const pendingOutputAccessors = []\n    const pendingSamplers = []\n    const pendingTargets = []\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i]\n      const sampler = animationDef.samplers[channel.sampler]\n      const target = channel.target\n      const name = target.node\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output\n\n      if (target.node === undefined) continue\n\n      pendingNodes.push(this.getDependency('node', name))\n      pendingInputAccessors.push(this.getDependency('accessor', input))\n      pendingOutputAccessors.push(this.getDependency('accessor', output))\n      pendingSamplers.push(sampler)\n      pendingTargets.push(target)\n    }\n\n    return Promise.all([\n      Promise.all(pendingNodes),\n      Promise.all(pendingInputAccessors),\n      Promise.all(pendingOutputAccessors),\n      Promise.all(pendingSamplers),\n      Promise.all(pendingTargets),\n    ]).then(function (dependencies) {\n      const nodes = dependencies[0]\n      const inputAccessors = dependencies[1]\n      const outputAccessors = dependencies[2]\n      const samplers = dependencies[3]\n      const targets = dependencies[4]\n\n      const tracks = []\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i]\n        const inputAccessor = inputAccessors[i]\n        const outputAccessor = outputAccessors[i]\n        const sampler = samplers[i]\n        const target = targets[i]\n\n        if (node === undefined) continue\n\n        if (node.updateMatrix) {\n          node.updateMatrix()\n        }\n\n        const createdTracks = parser._createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target)\n\n        if (createdTracks) {\n          for (let k = 0; k < createdTracks.length; k++) {\n            tracks.push(createdTracks[k])\n          }\n        }\n      }\n\n      return new AnimationClip(animationName, undefined, tracks)\n    })\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json\n    const parser = this\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (nodeDef.mesh === undefined) return null\n\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh)\n\n      // if weights are provided on the node, override weights on the mesh.\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i]\n          }\n        })\n      }\n\n      return node\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n  loadNode(nodeIndex) {\n    const json = this.json\n    const parser = this\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    const nodePending = parser._loadNodeShallow(nodeIndex)\n\n    const childPending = []\n    const childrenDef = nodeDef.children || []\n\n    for (let i = 0, il = childrenDef.length; i < il; i++) {\n      childPending.push(parser.getDependency('node', childrenDef[i]))\n    }\n\n    const skeletonPending =\n      nodeDef.skin === undefined ? Promise.resolve(null) : parser.getDependency('skin', nodeDef.skin)\n\n    return Promise.all([nodePending, Promise.all(childPending), skeletonPending]).then(function (results) {\n      const node = results[0]\n      const children = results[1]\n      const skeleton = results[2]\n\n      if (skeleton !== null) {\n        // This full traverse should be fine because\n        // child glTF nodes have not been added to this node yet.\n        node.traverse(function (mesh) {\n          if (!mesh.isSkinnedMesh) return\n\n          mesh.bind(skeleton, _identityMatrix)\n        })\n      }\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        node.add(children[i])\n      }\n\n      return node\n    })\n  }\n\n  // ._loadNodeShallow() parses a single node.\n  // skin and child nodes are created and added in .loadNode() (no '_' prefix).\n  _loadNodeShallow(nodeIndex) {\n    const json = this.json\n    const extensions = this.extensions\n    const parser = this\n\n    // This method is called from .loadNode() and .loadSkin().\n    // Cache a node to avoid duplication.\n\n    if (this.nodeCache[nodeIndex] !== undefined) {\n      return this.nodeCache[nodeIndex]\n    }\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    // reserve node's name before its dependencies, so the root has the intended name.\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : ''\n\n    const pending = []\n\n    const meshPromise = parser._invokeOne(function (ext) {\n      return ext.createNodeMesh && ext.createNodeMesh(nodeIndex)\n    })\n\n    if (meshPromise) {\n      pending.push(meshPromise)\n    }\n\n    if (nodeDef.camera !== undefined) {\n      pending.push(\n        parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera)\n        }),\n      )\n    }\n\n    parser\n      ._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex)\n      })\n      .forEach(function (promise) {\n        pending.push(promise)\n      })\n\n    this.nodeCache[nodeIndex] = Promise.all(pending).then(function (objects) {\n      let node\n\n      // .isBone isn't in glTF spec. See ._markDefs\n      if (nodeDef.isBone === true) {\n        node = new Bone()\n      } else if (objects.length > 1) {\n        node = new Group()\n      } else if (objects.length === 1) {\n        node = objects[0]\n      } else {\n        node = new Object3D()\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i])\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name\n        node.name = nodeName\n      }\n\n      assignExtrasToUserData(node, nodeDef)\n\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef)\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4()\n        matrix.fromArray(nodeDef.matrix)\n        node.applyMatrix4(matrix)\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation)\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation)\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale)\n        }\n      }\n\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {})\n      }\n\n      parser.associations.get(node).nodes = nodeIndex\n\n      return node\n    })\n\n    return this.nodeCache[nodeIndex]\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n  loadScene(sceneIndex) {\n    const extensions = this.extensions\n    const sceneDef = this.json.scenes[sceneIndex]\n    const parser = this\n\n    // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n    const scene = new Group()\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name)\n\n    assignExtrasToUserData(scene, sceneDef)\n\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef)\n\n    const nodeIds = sceneDef.nodes || []\n\n    const pending = []\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(parser.getDependency('node', nodeIds[i]))\n    }\n\n    return Promise.all(pending).then(function (nodes) {\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        scene.add(nodes[i])\n      }\n\n      // Removes dangling associations, associations that reference a node that\n      // didn't make it into the scene.\n      const reduceAssociations = (node) => {\n        const reducedAssociations = new Map()\n\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value)\n          }\n        }\n\n        node.traverse((node) => {\n          const mappings = parser.associations.get(node)\n\n          if (mappings != null) {\n            reducedAssociations.set(node, mappings)\n          }\n        })\n\n        return reducedAssociations\n      }\n\n      parser.associations = reduceAssociations(scene)\n\n      return scene\n    })\n  }\n\n  _createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target) {\n    const tracks = []\n\n    const targetName = node.name ? node.name : node.uuid\n    const targetNames = []\n\n    if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n      node.traverse(function (object) {\n        if (object.morphTargetInfluences) {\n          targetNames.push(object.name ? object.name : object.uuid)\n        }\n      })\n    } else {\n      targetNames.push(targetName)\n    }\n\n    let TypedKeyframeTrack\n\n    switch (PATH_PROPERTIES[target.path]) {\n      case PATH_PROPERTIES.weights:\n        TypedKeyframeTrack = NumberKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.rotation:\n        TypedKeyframeTrack = QuaternionKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.position:\n      case PATH_PROPERTIES.scale:\n        TypedKeyframeTrack = VectorKeyframeTrack\n        break\n\n      default:\n        switch (outputAccessor.itemSize) {\n          case 1:\n            TypedKeyframeTrack = NumberKeyframeTrack\n            break\n          case 2:\n          case 3:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack\n            break\n        }\n\n        break\n    }\n\n    const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear\n\n    const outputArray = this._getArrayFromAccessor(outputAccessor)\n\n    for (let j = 0, jl = targetNames.length; j < jl; j++) {\n      const track = new TypedKeyframeTrack(\n        targetNames[j] + '.' + PATH_PROPERTIES[target.path],\n        inputAccessor.array,\n        outputArray,\n        interpolation,\n      )\n\n      // Override interpolation with custom factory method.\n      if (sampler.interpolation === 'CUBICSPLINE') {\n        this._createCubicSplineTrackInterpolant(track)\n      }\n\n      tracks.push(track)\n    }\n\n    return tracks\n  }\n\n  _getArrayFromAccessor(accessor) {\n    let outputArray = accessor.array\n\n    if (accessor.normalized) {\n      const scale = getNormalizedComponentScale(outputArray.constructor)\n      const scaled = new Float32Array(outputArray.length)\n\n      for (let j = 0, jl = outputArray.length; j < jl; j++) {\n        scaled[j] = outputArray[j] * scale\n      }\n\n      outputArray = scaled\n    }\n\n    return outputArray\n  }\n\n  _createCubicSplineTrackInterpolant(track) {\n    track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n      // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n      // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n      // must be divided by three to get the interpolant's sampleSize argument.\n\n      const interpolantType =\n        this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant\n\n      return new interpolantType(this.times, this.values, this.getValueSize() / 3, result)\n    }\n\n    // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n    track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true\n  }\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const box = new Box3()\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION]\n\n    const min = accessor.min\n    const max = accessor.max\n\n    // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]))\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n        box.min.multiplyScalar(boxScale)\n        box.max.multiplyScalar(boxScale)\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n\n      return\n    }\n  } else {\n    return\n  }\n\n  const targets = primitiveDef.targets\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3()\n    const vector = new Vector3()\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i]\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION]\n        const min = accessor.min\n        const max = accessor.max\n\n        // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])))\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])))\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])))\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n            vector.multiplyScalar(boxScale)\n          }\n\n          // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n          maxDisplacement.max(vector)\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n        }\n      }\n    }\n\n    // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n    box.expandByVector(maxDisplacement)\n  }\n\n  geometry.boundingBox = box\n\n  const sphere = new Sphere()\n\n  box.getCenter(sphere.center)\n  sphere.radius = box.min.distanceTo(box.max) / 2\n\n  geometry.boundingSphere = sphere\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const pending = []\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor)\n    })\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase()\n\n    // Skip attributes already provided by e.g. Draco extension.\n    if (threeAttributeName in geometry.attributes) continue\n\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName))\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor)\n    })\n\n    pending.push(accessor)\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef)\n\n  computeBounds(geometry, primitiveDef, parser)\n\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry\n  })\n}\n\nexport { GLTFLoader }\n"],"names":["self","res","sourceURI","node","accessor"],"mappings":"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"}},
    {"offset": {"line": 3627, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/loaders/DRACOLoader.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/loaders/DRACOLoader.js"],"sourcesContent":["import { BufferAttribute, BufferGeometry, FileLoader, Loader } from 'three'\n\nconst _taskCache = new WeakMap()\n\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.decoderPath = ''\n    this.decoderConfig = {}\n    this.decoderBinary = null\n    this.decoderPending = null\n\n    this.workerLimit = 4\n    this.workerPool = []\n    this.workerNextTaskID = 1\n    this.workerSourceURL = ''\n\n    this.defaultAttributeIDs = {\n      position: 'POSITION',\n      normal: 'NORMAL',\n      color: 'COLOR',\n      uv: 'TEX_COORD',\n    }\n    this.defaultAttributeTypes = {\n      position: 'Float32Array',\n      normal: 'Float32Array',\n      color: 'Float32Array',\n      uv: 'Float32Array',\n    }\n  }\n\n  setDecoderPath(path) {\n    this.decoderPath = path\n\n    return this\n  }\n\n  setDecoderConfig(config) {\n    this.decoderConfig = config\n\n    return this\n  }\n\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit\n\n    return this\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      (buffer) => {\n        const taskConfig = {\n          attributeIDs: this.defaultAttributeIDs,\n          attributeTypes: this.defaultAttributeTypes,\n          useUniqueIDs: false,\n        }\n\n        this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError)\n      },\n      onProgress,\n      onError,\n    )\n  }\n\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs,\n    }\n\n    this.decodeGeometry(buffer, taskConfig).then(callback)\n  }\n\n  decodeGeometry(buffer, taskConfig) {\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute]\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name\n      }\n    }\n\n    //\n\n    const taskKey = JSON.stringify(taskConfig)\n\n    // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer)\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error(\n          'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n            'settings. Buffer has already been transferred.',\n        )\n      }\n    }\n\n    //\n\n    let worker\n    const taskID = this.workerNextTaskID++\n    const taskCost = buffer.byteLength\n\n    // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n    const geometryPending = this._getWorker(taskID, taskCost)\n      .then((_worker) => {\n        worker = _worker\n\n        return new Promise((resolve, reject) => {\n          worker._callbacks[taskID] = { resolve, reject }\n\n          worker.postMessage({ type: 'decode', id: taskID, taskConfig, buffer }, [buffer])\n\n          // this.debug();\n        })\n      })\n      .then((message) => this._createGeometry(message.geometry))\n\n    // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n    geometryPending\n      .catch(() => true)\n      .then(() => {\n        if (worker && taskID) {\n          this._releaseTask(worker, taskID)\n\n          // this.debug();\n        }\n      })\n\n    // Cache the task result.\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending,\n    })\n\n    return geometryPending\n  }\n\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry()\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1))\n    }\n\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i]\n      const name = attribute.name\n      const array = attribute.array\n      const itemSize = attribute.itemSize\n\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize))\n    }\n\n    return geometry\n  }\n\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager)\n    loader.setPath(this.decoderPath)\n    loader.setResponseType(responseType)\n    loader.setWithCredentials(this.withCredentials)\n\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, undefined, reject)\n    })\n  }\n\n  preload() {\n    this._initDecoder()\n\n    return this\n  }\n\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending\n\n    const useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js'\n    const librariesPending = []\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'))\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'))\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'))\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then((libraries) => {\n      const jsContent = libraries[0]\n\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1]\n      }\n\n      const fn = DRACOWorker.toString()\n\n      const body = [\n        '/* draco decoder */',\n        jsContent,\n        '',\n        '/* worker */',\n        fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}')),\n      ].join('\\n')\n\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]))\n    })\n\n    return this.decoderPending\n  }\n\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker = new Worker(this.workerSourceURL)\n\n        worker._callbacks = {}\n        worker._taskCosts = {}\n        worker._taskLoad = 0\n\n        worker.postMessage({ type: 'init', decoderConfig: this.decoderConfig })\n\n        worker.onmessage = function (e) {\n          const message = e.data\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message)\n              break\n\n            case 'error':\n              worker._callbacks[message.id].reject(message)\n              break\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"')\n          }\n        }\n\n        this.workerPool.push(worker)\n      } else {\n        this.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1\n        })\n      }\n\n      const worker = this.workerPool[this.workerPool.length - 1]\n      worker._taskCosts[taskID] = taskCost\n      worker._taskLoad += taskCost\n      return worker\n    })\n  }\n\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID]\n    delete worker._callbacks[taskID]\n    delete worker._taskCosts[taskID]\n  }\n\n  debug() {\n    console.log(\n      'Task load: ',\n      this.workerPool.map((worker) => worker._taskLoad),\n    )\n  }\n\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate()\n    }\n\n    this.workerPool.length = 0\n\n    return this\n  }\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n  let decoderConfig\n  let decoderPending\n\n  onmessage = function (e) {\n    const message = e.data\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig\n        decoderPending = new Promise(function (resolve /*, reject*/) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({ draco: draco })\n          }\n\n          DracoDecoderModule(decoderConfig)\n        })\n        break\n\n      case 'decode':\n        const buffer = message.buffer\n        const taskConfig = message.taskConfig\n        decoderPending.then((module) => {\n          const draco = module.draco\n          const decoder = new draco.Decoder()\n          const decoderBuffer = new draco.DecoderBuffer()\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength)\n\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig)\n\n            const buffers = geometry.attributes.map((attr) => attr.array.buffer)\n\n            if (geometry.index) buffers.push(geometry.index.array.buffer)\n\n            self.postMessage({ type: 'decode', id: message.id, geometry }, buffers)\n          } catch (error) {\n            console.error(error)\n\n            self.postMessage({ type: 'error', id: message.id, error: error.message })\n          } finally {\n            draco.destroy(decoderBuffer)\n            draco.destroy(decoder)\n          }\n        })\n        break\n    }\n  }\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs\n    const attributeTypes = taskConfig.attributeTypes\n\n    let dracoGeometry\n    let decodingStatus\n\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer)\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh()\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry)\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud()\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry)\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.')\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg())\n    }\n\n    const geometry = { index: null, attributes: [] }\n\n    // Gather all vertex attributes.\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]]\n\n      let attribute\n      let attributeID\n\n      // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName]\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID)\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]])\n\n        if (attributeID === -1) continue\n\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID)\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute))\n    }\n\n    // Add index.\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry)\n    }\n\n    draco.destroy(dracoGeometry)\n\n    return geometry\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces()\n    const numIndices = numFaces * 3\n    const byteLength = numIndices * 4\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr)\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice()\n    draco._free(ptr)\n\n    return { array: index, itemSize: 1 }\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components()\n    const numPoints = dracoGeometry.num_points()\n    const numValues = numPoints * numComponents\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT\n    const dataType = getDracoDataType(draco, attributeType)\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr)\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice()\n    draco._free(ptr)\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents,\n    }\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32\n      case Int8Array:\n        return draco.DT_INT8\n      case Int16Array:\n        return draco.DT_INT16\n      case Int32Array:\n        return draco.DT_INT32\n      case Uint8Array:\n        return draco.DT_UINT8\n      case Uint16Array:\n        return draco.DT_UINT16\n      case Uint32Array:\n        return draco.DT_UINT32\n    }\n  }\n}\n\nexport { DRACOLoader }\n"],"names":["worker"],"mappings":"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"}},
    {"offset": {"line": 4067, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/libs/MeshoptDecoder.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/libs/MeshoptDecoder.ts"],"sourcesContent":["// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2020, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\n\ntype API = {\n  ready: Promise<void>\n  supported: boolean\n  decodeVertexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array, filter?: string) => void\n  decodeIndexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeIndexSequence: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeGltfBuffer: (\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    mode: string,\n    filter?: string,\n  ) => void\n}\n\nlet generated: API\n\nconst MeshoptDecoder = () => {\n  if (generated) return generated\n\n  // Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n  // Built from meshoptimizer 0.14\n  const wasm_base =\n    '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'\n  const wasm_simd =\n    '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'\n\n  // Uses bulk-memory and simd extensions\n  const detector = new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    4,\n    1,\n    96,\n    0,\n    0,\n    3,\n    3,\n    2,\n    0,\n    0,\n    5,\n    3,\n    1,\n    0,\n    1,\n    12,\n    1,\n    0,\n    10,\n    22,\n    2,\n    12,\n    0,\n    65,\n    0,\n    65,\n    0,\n    65,\n    0,\n    252,\n    10,\n    0,\n    0,\n    11,\n    7,\n    0,\n    65,\n    0,\n    253,\n    15,\n    26,\n    11,\n  ])\n\n  // Used to unpack wasm\n  const wasmpack = new Uint8Array([\n    32,\n    0,\n    65,\n    253,\n    3,\n    1,\n    2,\n    34,\n    4,\n    106,\n    6,\n    5,\n    11,\n    8,\n    7,\n    20,\n    13,\n    33,\n    12,\n    16,\n    128,\n    9,\n    116,\n    64,\n    19,\n    113,\n    127,\n    15,\n    10,\n    21,\n    22,\n    14,\n    255,\n    66,\n    24,\n    54,\n    136,\n    107,\n    18,\n    23,\n    192,\n    26,\n    114,\n    118,\n    132,\n    17,\n    77,\n    101,\n    130,\n    144,\n    27,\n    87,\n    131,\n    44,\n    45,\n    74,\n    156,\n    154,\n    70,\n    167,\n  ])\n\n  if (typeof WebAssembly !== 'object') {\n    // This module requires WebAssembly to function\n    return {\n      supported: false,\n    }\n  }\n\n  let wasm = wasm_base\n\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd\n  }\n\n  let instance: any // WebAssembly.Instance\n\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then((result) => {\n    instance = result.instance\n    instance.exports.__wasm_call_ctors()\n  })\n\n  function unpack(data: string) {\n    const result = new Uint8Array(data.length)\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i)\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62\n    }\n    let write = 0\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i]\n    }\n    return result.buffer.slice(0, write)\n  }\n\n  function decode(\n    fun: Function,\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    filter?: Function,\n  ) {\n    const sbrk = instance.exports.sbrk\n    const count4 = (count + 3) & ~3 // pad for SIMD filter\n    const tp = sbrk(count4 * size)\n    const sp = sbrk(source.length)\n    const heap = new Uint8Array(instance.exports.memory.buffer)\n    heap.set(source, sp)\n    const res = fun(tp, count, size, sp, source.length)\n    if (res === 0 && filter) {\n      filter(tp, count4, size)\n    }\n    target.set(heap.subarray(tp, tp + count * size))\n    sbrk(tp - sbrk(0))\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`)\n    }\n  }\n\n  const filters = {\n    // legacy index-based enums for glTF\n    0: '',\n    1: 'meshopt_decodeFilterOct',\n    2: 'meshopt_decodeFilterQuat',\n    3: 'meshopt_decodeFilterExp',\n    // string-based enums for glTF\n    NONE: '',\n    OCTAHEDRAL: 'meshopt_decodeFilterOct',\n    QUATERNION: 'meshopt_decodeFilterQuat',\n    EXPONENTIAL: 'meshopt_decodeFilterExp',\n  }\n\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: 'meshopt_decodeVertexBuffer',\n    1: 'meshopt_decodeIndexBuffer',\n    2: 'meshopt_decodeIndexSequence',\n    // string-based enums for glTF\n    ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n    TRIANGLES: 'meshopt_decodeIndexBuffer',\n    INDICES: 'meshopt_decodeIndexSequence',\n  }\n\n  generated = {\n    ready: promise,\n    supported: true,\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(\n        instance.exports.meshopt_decodeVertexBuffer,\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source)\n    },\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source)\n    },\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(\n        instance.exports[decoders[mode as keyof typeof decoders]],\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n  }\n\n  return generated\n}\n\nexport { MeshoptDecoder }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4291, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/utils/SkeletonUtils.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/utils/SkeletonUtils.js"],"sourcesContent":["import {\n  AnimationClip,\n  AnimationMixer,\n  Matrix4,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  SkeletonHelper,\n  Vector3,\n  VectorKeyframeTrack,\n} from 'three'\n\nfunction retarget(target, source, options = {}) {\n  const pos = new Vector3(),\n    quat = new Quaternion(),\n    scale = new Vector3(),\n    bindBoneMatrix = new Matrix4(),\n    relativeMatrix = new Matrix4(),\n    globalMatrix = new Matrix4()\n\n  options.preserveMatrix = options.preserveMatrix !== undefined ? options.preserveMatrix : true\n  options.preservePosition = options.preservePosition !== undefined ? options.preservePosition : true\n  options.preserveHipPosition = options.preserveHipPosition !== undefined ? options.preserveHipPosition : false\n  options.useTargetMatrix = options.useTargetMatrix !== undefined ? options.useTargetMatrix : false\n  options.hip = options.hip !== undefined ? options.hip : 'hip'\n  options.names = options.names || {}\n\n  const sourceBones = source.isObject3D ? source.skeleton.bones : getBones(source),\n    bones = target.isObject3D ? target.skeleton.bones : getBones(target)\n\n  let bindBones, bone, name, boneTo, bonesPosition\n\n  // reset bones\n\n  if (target.isObject3D) {\n    target.skeleton.pose()\n  } else {\n    options.useTargetMatrix = true\n    options.preserveMatrix = false\n  }\n\n  if (options.preservePosition) {\n    bonesPosition = []\n\n    for (let i = 0; i < bones.length; i++) {\n      bonesPosition.push(bones[i].position.clone())\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // reset matrix\n\n    target.updateMatrixWorld()\n\n    target.matrixWorld.identity()\n\n    // reset children matrix\n\n    for (let i = 0; i < target.children.length; ++i) {\n      target.children[i].updateMatrixWorld(true)\n    }\n  }\n\n  if (options.offsets) {\n    bindBones = []\n\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (options.offsets[name]) {\n        bone.matrix.multiply(options.offsets[name])\n\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n        bone.updateMatrixWorld()\n      }\n\n      bindBones.push(bone.matrixWorld.clone())\n    }\n  }\n\n  for (let i = 0; i < bones.length; ++i) {\n    bone = bones[i]\n    name = options.names[bone.name] || bone.name\n\n    boneTo = getBoneByName(name, sourceBones)\n\n    globalMatrix.copy(bone.matrixWorld)\n\n    if (boneTo) {\n      boneTo.updateMatrixWorld()\n\n      if (options.useTargetMatrix) {\n        relativeMatrix.copy(boneTo.matrixWorld)\n      } else {\n        relativeMatrix.copy(target.matrixWorld).invert()\n        relativeMatrix.multiply(boneTo.matrixWorld)\n      }\n\n      // ignore scale to extract rotation\n\n      scale.setFromMatrixScale(relativeMatrix)\n      relativeMatrix.scale(scale.set(1 / scale.x, 1 / scale.y, 1 / scale.z))\n\n      // apply to global matrix\n\n      globalMatrix.makeRotationFromQuaternion(quat.setFromRotationMatrix(relativeMatrix))\n\n      if (target.isObject3D) {\n        const boneIndex = bones.indexOf(bone),\n          wBindMatrix = bindBones\n            ? bindBones[boneIndex]\n            : bindBoneMatrix.copy(target.skeleton.boneInverses[boneIndex]).invert()\n\n        globalMatrix.multiply(wBindMatrix)\n      }\n\n      globalMatrix.copyPosition(relativeMatrix)\n    }\n\n    if (bone.parent && bone.parent.isBone) {\n      bone.matrix.copy(bone.parent.matrixWorld).invert()\n      bone.matrix.multiply(globalMatrix)\n    } else {\n      bone.matrix.copy(globalMatrix)\n    }\n\n    if (options.preserveHipPosition && name === options.hip) {\n      bone.matrix.setPosition(pos.set(0, bone.position.y, 0))\n    }\n\n    bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n    bone.updateMatrixWorld()\n  }\n\n  if (options.preservePosition) {\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (name !== options.hip) {\n        bone.position.copy(bonesPosition[i])\n      }\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // restore matrix\n\n    target.updateMatrixWorld(true)\n  }\n}\n\nfunction retargetClip(target, source, clip, options = {}) {\n  options.useFirstFramePosition = options.useFirstFramePosition !== undefined ? options.useFirstFramePosition : false\n  options.fps = options.fps !== undefined ? options.fps : 30\n  options.names = options.names || []\n\n  if (!source.isObject3D) {\n    source = getHelperFromSkeleton(source)\n  }\n\n  const numFrames = Math.round(clip.duration * (options.fps / 1000) * 1000),\n    delta = 1 / options.fps,\n    convertedTracks = [],\n    mixer = new AnimationMixer(source),\n    bones = getBones(target.skeleton),\n    boneDatas = []\n  let positionOffset, bone, boneTo, boneData, name\n\n  mixer.clipAction(clip).play()\n  mixer.update(0)\n\n  source.updateMatrixWorld()\n\n  for (let i = 0; i < numFrames; ++i) {\n    const time = i * delta\n\n    retarget(target, source, options)\n\n    for (let j = 0; j < bones.length; ++j) {\n      name = options.names[bones[j].name] || bones[j].name\n\n      boneTo = getBoneByName(name, source.skeleton)\n\n      if (boneTo) {\n        bone = bones[j]\n        boneData = boneDatas[j] = boneDatas[j] || { bone: bone }\n\n        if (options.hip === name) {\n          if (!boneData.pos) {\n            boneData.pos = {\n              times: new Float32Array(numFrames),\n              values: new Float32Array(numFrames * 3),\n            }\n          }\n\n          if (options.useFirstFramePosition) {\n            if (i === 0) {\n              positionOffset = bone.position.clone()\n            }\n\n            bone.position.sub(positionOffset)\n          }\n\n          boneData.pos.times[i] = time\n\n          bone.position.toArray(boneData.pos.values, i * 3)\n        }\n\n        if (!boneData.quat) {\n          boneData.quat = {\n            times: new Float32Array(numFrames),\n            values: new Float32Array(numFrames * 4),\n          }\n        }\n\n        boneData.quat.times[i] = time\n\n        bone.quaternion.toArray(boneData.quat.values, i * 4)\n      }\n    }\n\n    mixer.update(delta)\n\n    source.updateMatrixWorld()\n  }\n\n  for (let i = 0; i < boneDatas.length; ++i) {\n    boneData = boneDatas[i]\n\n    if (boneData) {\n      if (boneData.pos) {\n        convertedTracks.push(\n          new VectorKeyframeTrack(\n            '.bones[' + boneData.bone.name + '].position',\n            boneData.pos.times,\n            boneData.pos.values,\n          ),\n        )\n      }\n\n      convertedTracks.push(\n        new QuaternionKeyframeTrack(\n          '.bones[' + boneData.bone.name + '].quaternion',\n          boneData.quat.times,\n          boneData.quat.values,\n        ),\n      )\n    }\n  }\n\n  mixer.uncacheAction(clip)\n\n  return new AnimationClip(clip.name, -1, convertedTracks)\n}\n\nfunction clone(source) {\n  const sourceLookup = new Map()\n  const cloneLookup = new Map()\n\n  const clone = source.clone()\n\n  parallelTraverse(source, clone, function (sourceNode, clonedNode) {\n    sourceLookup.set(clonedNode, sourceNode)\n    cloneLookup.set(sourceNode, clonedNode)\n  })\n\n  clone.traverse(function (node) {\n    if (!node.isSkinnedMesh) return\n\n    const clonedMesh = node\n    const sourceMesh = sourceLookup.get(node)\n    const sourceBones = sourceMesh.skeleton.bones\n\n    clonedMesh.skeleton = sourceMesh.skeleton.clone()\n    clonedMesh.bindMatrix.copy(sourceMesh.bindMatrix)\n\n    clonedMesh.skeleton.bones = sourceBones.map(function (bone) {\n      return cloneLookup.get(bone)\n    })\n\n    clonedMesh.bind(clonedMesh.skeleton, clonedMesh.bindMatrix)\n  })\n\n  return clone\n}\n\n// internal helper\n\nfunction getBoneByName(name, skeleton) {\n  for (let i = 0, bones = getBones(skeleton); i < bones.length; i++) {\n    if (name === bones[i].name) return bones[i]\n  }\n}\n\nfunction getBones(skeleton) {\n  return Array.isArray(skeleton) ? skeleton : skeleton.bones\n}\n\nfunction getHelperFromSkeleton(skeleton) {\n  const source = new SkeletonHelper(skeleton.bones[0])\n  source.skeleton = skeleton\n\n  return source\n}\n\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b)\n\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback)\n  }\n}\n\nexport const SkeletonUtils = { retarget, retargetClip, clone }\n"],"names":["clone"],"mappings":"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"}},
    {"offset": {"line": 4504, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-three/drei/core/Clone.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { SkeletonUtils } from 'three-stdlib';\n\nfunction createSpread(child, {\n  keys = ['near', 'far', 'color', 'distance', 'decay', 'penumbra', 'angle', 'intensity', 'skeleton', 'visible', 'castShadow', 'receiveShadow', 'morphTargetDictionary', 'morphTargetInfluences', 'name', 'geometry', 'material', 'position', 'rotation', 'scale', 'up', 'userData', 'bindMode', 'bindMatrix', 'bindMatrixInverse', 'skeleton'],\n  deep,\n  inject,\n  castShadow,\n  receiveShadow\n}) {\n  let spread = {};\n  for (const key of keys) {\n    spread[key] = child[key];\n  }\n  if (deep) {\n    if (spread.geometry && deep !== 'materialsOnly') spread.geometry = spread.geometry.clone();\n    if (spread.material && deep !== 'geometriesOnly') spread.material = spread.material.clone();\n  }\n  if (inject) {\n    if (typeof inject === 'function') spread = {\n      ...spread,\n      children: inject(child)\n    };else if (/*#__PURE__*/React.isValidElement(inject)) spread = {\n      ...spread,\n      children: inject\n    };else spread = {\n      ...spread,\n      ...inject\n    };\n  }\n  if (child instanceof THREE.Mesh) {\n    if (castShadow) spread.castShadow = true;\n    if (receiveShadow) spread.receiveShadow = true;\n  }\n  return spread;\n}\nconst Clone = /* @__PURE__ */React.forwardRef(({\n  isChild = false,\n  object,\n  children,\n  deep,\n  castShadow,\n  receiveShadow,\n  inject,\n  keys,\n  ...props\n}, forwardRef) => {\n  const config = {\n    keys,\n    deep,\n    inject,\n    castShadow,\n    receiveShadow\n  };\n  object = React.useMemo(() => {\n    if (isChild === false && !Array.isArray(object)) {\n      let isSkinned = false;\n      object.traverse(object => {\n        if (object.isSkinnedMesh) isSkinned = true;\n      });\n      if (isSkinned) return SkeletonUtils.clone(object);\n    }\n    return object;\n  }, [object, isChild]);\n\n  // Deal with arrayed clones\n  if (Array.isArray(object)) {\n    return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n      ref: forwardRef\n    }), object.map(o => /*#__PURE__*/React.createElement(Clone, _extends({\n      key: o.uuid,\n      object: o\n    }, config))), children);\n  }\n\n  // Singleton clones\n  const {\n    children: injectChildren,\n    ...spread\n  } = createSpread(object, config);\n  const Element = object.type[0].toLowerCase() + object.type.slice(1);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, spread, props, {\n    ref: forwardRef\n  }), object.children.map(child => {\n    if (child.type === 'Bone') return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n      key: child.uuid,\n      object: child\n    }, config));\n    return /*#__PURE__*/React.createElement(Clone, _extends({\n      key: child.uuid,\n      object: child\n    }, config, {\n      isChild: true\n    }));\n  }), children, injectChildren);\n});\n\nexport { Clone };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4664, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-three/drei/core/Gltf.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { GLTFLoader, DRACOLoader, MeshoptDecoder } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\nimport { Clone } from './Clone.js';\n\nlet dracoLoader = null;\nlet decoderPath = 'https://www.gstatic.com/draco/versioned/decoders/1.5.5/';\nfunction extensions(useDraco = true, useMeshopt = true, extendLoader) {\n  return loader => {\n    if (extendLoader) {\n      extendLoader(loader);\n    }\n    if (useDraco) {\n      if (!dracoLoader) {\n        dracoLoader = new DRACOLoader();\n      }\n      dracoLoader.setDecoderPath(typeof useDraco === 'string' ? useDraco : decoderPath);\n      loader.setDRACOLoader(dracoLoader);\n    }\n    if (useMeshopt) {\n      loader.setMeshoptDecoder(typeof MeshoptDecoder === 'function' ? MeshoptDecoder() : MeshoptDecoder);\n    }\n  };\n}\nconst useGLTF = (path, useDraco, useMeshopt, extendLoader) => useLoader(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.preload = (path, useDraco, useMeshopt, extendLoader) => useLoader.preload(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.clear = path => useLoader.clear(GLTFLoader, path);\nuseGLTF.setDecoderPath = path => {\n  decoderPath = path;\n};\n\n//\n\nconst Gltf = /* @__PURE__ */React.forwardRef(({\n  src,\n  useDraco,\n  useMeshOpt,\n  extendLoader,\n  ...props\n}, ref) => {\n  const {\n    scene\n  } = useGLTF(src, useDraco, useMeshOpt, extendLoader);\n  return /*#__PURE__*/React.createElement(Clone, _extends({\n    ref: ref\n  }, props, {\n    object: scene\n  }));\n});\n\nexport { Gltf, useGLTF };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AAEA,IAAI,cAAc;AAClB,IAAI,cAAc;AAClB,SAAS;QAAW,WAAA,iEAAW,MAAM,aAAA,iEAAa,MAAM;IACtD,OAAO,SAAA;QACL,IAAI,cAAc;YAChB,aAAa;QACf;QACA,IAAI,UAAU;YACZ,IAAI,CAAC,aAAa;gBAChB,cAAc,IAAI,2KAAW;YAC/B;YACA,YAAY,cAAc,CAAC,OAAO,aAAa,WAAW,WAAW;YACrE,OAAO,cAAc,CAAC;QACxB;QACA,IAAI,YAAY;YACd,OAAO,iBAAiB,CAAC,OAAO,8KAAc,KAAK,aAAa,IAAA,8KAAc,MAAK,8KAAc;QACnG;IACF;AACF;AACA,IAAM,UAAU,SAAC,MAAM,UAAU,YAAY;WAAiB,IAAA,gOAAS,EAAC,yKAAU,EAAE,MAAM,WAAW,UAAU,YAAY;;AAC3H,QAAQ,OAAO,GAAG,SAAC,MAAM,UAAU,YAAY;WAAiB,gOAAS,CAAC,OAAO,CAAC,yKAAU,EAAE,MAAM,WAAW,UAAU,YAAY;;AACrI,QAAQ,KAAK,GAAG,SAAA;WAAQ,gOAAS,CAAC,KAAK,CAAC,yKAAU,EAAE;;AACpD,QAAQ,cAAc,GAAG,SAAA;IACvB,cAAc;AAChB;AAEA,EAAE;AAEF,IAAM,OAAO,aAAa,GAAE,2KAAgB,CAAC,iBAM1C;QALD,aAAA,KACA,kBAAA,UACA,oBAAA,YACA,sBAAA,cACG;QAJH;QACA;QACA;QACA;;IAGA,IAAM,AACJ,QACE,QAAQ,KAAK,UAAU,YAAY,cADrC;IAEF,OAAO,WAAW,GAAE,8KAAmB,CAAC,qKAAK,EAAE,IAAA,6KAAQ,EAAC;QACtD,KAAK;IACP,GAAG,OAAO;QACR,QAAQ;IACV;AACF","ignoreList":[0]}},
    {"offset": {"line": 4736, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-three/drei/web/Html.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { Vector3, DoubleSide, OrthographicCamera, PerspectiveCamera, Vector2 } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = /* @__PURE__ */new Vector3();\nconst v2 = /* @__PURE__ */new Vector3();\nconst v3 = /* @__PURE__ */new Vector3();\nconst v4 = /* @__PURE__ */new Vector2();\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  v4.set(screenPos.x, screenPos.y);\n  raycaster.setFromCamera(v4, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n  return true;\n}\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n  return undefined;\n}\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n  return prepend + matrix3d;\n}\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\nfunction isRefObject(ref) {\n  return ref && typeof ref === 'object' && 'current' in ref;\n}\nconst Html = /* @__PURE__ */React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  castShadow,\n  receiveShadow,\n  material,\n  geometry,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  wrapperClass,\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  const {\n    gl,\n    camera,\n    scene,\n    size,\n    raycaster,\n    events,\n    viewport\n  } = useThree();\n  const [el] = React.useState(() => document.createElement(as));\n  const root = React.useRef(null);\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  // Append to the connected element, which makes HTML work with views\n  const target = (portal == null ? void 0 : portal.current) || events.connected || gl.domElement.parentNode;\n  const occlusionMeshRef = React.useRef(null);\n  const isMeshSizeSet = React.useRef(false);\n  const isRayCastOcclusion = React.useMemo(() => {\n    return occlude && occlude !== 'blending' || Array.isArray(occlude) && occlude.length && isRefObject(occlude[0]);\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    const el = gl.domElement;\n    if (occlude && occlude === 'blending') {\n      el.style.zIndex = `${Math.floor(zIndexRange[0] / 2)}`;\n      el.style.position = 'absolute';\n      el.style.pointerEvents = 'none';\n    } else {\n      el.style.zIndex = null;\n      el.style.position = null;\n      el.style.pointerEvents = null;\n    }\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    if (group.current) {\n      const currentRoot = root.current = ReactDOM.createRoot(el);\n      scene.updateMatrixWorld();\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n      return () => {\n        if (target) target.removeChild(el);\n        currentRoot.unmount();\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(() => {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    isMeshSizeSet.current = false;\n    if (transform) {\n      var _root$current;\n      (_root$current = root.current) == null || _root$current.render(/*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))));\n    } else {\n      var _root$current2;\n      (_root$current2 = root.current) == null || _root$current2.render(/*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }));\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(gl => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n        if (isRayCastOcclusion) {\n          if (Array.isArray(occlude)) {\n            raytraceTarget = occlude.map(item => item.current);\n          } else if (occlude !== 'blending') {\n            raytraceTarget = [scene];\n          }\n        }\n        const previouslyVisible = visible.current;\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n        const halfRange = Math.floor(zIndexRange[0] / 2);\n        const zRange = occlude ? isRayCastOcclusion //\n        ? [zIndexRange[0], halfRange] : [halfRange - 1, 0] : zIndexRange;\n        el.style.zIndex = `${objectZIndex(group.current, camera, zRange)}`;\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n    if (!isRayCastOcclusion && occlusionMeshRef.current && !isMeshSizeSet.current) {\n      if (transform) {\n        if (transformOuterRef.current) {\n          const el = transformOuterRef.current.children[0];\n          if (el != null && el.clientWidth && el != null && el.clientHeight) {\n            const {\n              isOrthographicCamera\n            } = camera;\n            if (isOrthographicCamera || geometry) {\n              if (props.scale) {\n                if (!Array.isArray(props.scale)) {\n                  occlusionMeshRef.current.scale.setScalar(1 / props.scale);\n                } else if (props.scale instanceof Vector3) {\n                  occlusionMeshRef.current.scale.copy(props.scale.clone().divideScalar(1));\n                } else {\n                  occlusionMeshRef.current.scale.set(1 / props.scale[0], 1 / props.scale[1], 1 / props.scale[2]);\n                }\n              }\n            } else {\n              const ratio = (distanceFactor || 10) / 400;\n              const w = el.clientWidth * ratio;\n              const h = el.clientHeight * ratio;\n              occlusionMeshRef.current.scale.set(w, h, 1);\n            }\n            isMeshSizeSet.current = true;\n          }\n        }\n      } else {\n        const ele = el.children[0];\n        if (ele != null && ele.clientWidth && ele != null && ele.clientHeight) {\n          const ratio = 1 / viewport.factor;\n          const w = ele.clientWidth * ratio;\n          const h = ele.clientHeight * ratio;\n          occlusionMeshRef.current.scale.set(w, h, 1);\n          isMeshSizeSet.current = true;\n        }\n        occlusionMeshRef.current.lookAt(gl.camera.position);\n      }\n    }\n  });\n  const shaders = React.useMemo(() => ({\n    vertexShader: !transform ? /* glsl */`\n          /*\n            This shader is from the THREE's SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if \"transfrom\"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ` : undefined,\n    fragmentShader: /* glsl */`\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      `\n  }), [transform]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }), occlude && !isRayCastOcclusion && /*#__PURE__*/React.createElement(\"mesh\", {\n    castShadow: castShadow,\n    receiveShadow: receiveShadow,\n    ref: occlusionMeshRef\n  }, geometry || /*#__PURE__*/React.createElement(\"planeGeometry\", null), material || /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    side: DoubleSide,\n    vertexShader: shaders.vertexShader,\n    fragmentShader: shaders.fragmentShader\n  })));\n});\n\nexport { Html };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5194, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/three-stdlib/controls/TransformControls.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/src/controls/TransformControls.ts"],"sourcesContent":["import {\n  BoxGeometry,\n  BufferGeometry,\n  Color,\n  CylinderGeometry,\n  DoubleSide,\n  Euler,\n  Float32BufferAttribute,\n  Line,\n  LineBasicMaterial,\n  Material,\n  Matrix4,\n  Mesh,\n  MeshBasicMaterial,\n  Object3D,\n  OctahedronGeometry,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PlaneGeometry,\n  Quaternion,\n  Raycaster,\n  SphereGeometry,\n  Intersection,\n  TorusGeometry,\n  Vector3,\n  Camera,\n  Vector2,\n} from 'three'\n\nexport interface TransformControlsPointerObject {\n  x: number\n  y: number\n  button: number\n}\n\nclass TransformControls<TCamera extends Camera = Camera> extends Object3D {\n  public readonly isTransformControls = true\n\n  public visible = false\n\n  private domElement: HTMLElement | undefined\n\n  private raycaster = new Raycaster()\n\n  private gizmo: TransformControlsGizmo\n  private plane: TransformControlsPlane\n\n  private tempVector = new Vector3()\n  private tempVector2 = new Vector3()\n  private tempQuaternion = new Quaternion()\n  private unit = {\n    X: new Vector3(1, 0, 0),\n    Y: new Vector3(0, 1, 0),\n    Z: new Vector3(0, 0, 1),\n  }\n\n  private pointStart = new Vector3()\n  private pointEnd = new Vector3()\n  private offset = new Vector3()\n  private rotationAxis = new Vector3()\n  private startNorm = new Vector3()\n  private endNorm = new Vector3()\n  private rotationAngle = 0\n\n  private cameraPosition = new Vector3()\n  private cameraQuaternion = new Quaternion()\n  private cameraScale = new Vector3()\n\n  private parentPosition = new Vector3()\n  private parentQuaternion = new Quaternion()\n  private parentQuaternionInv = new Quaternion()\n  private parentScale = new Vector3()\n\n  private worldPositionStart = new Vector3()\n  private worldQuaternionStart = new Quaternion()\n  private worldScaleStart = new Vector3()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n  private worldQuaternionInv = new Quaternion()\n  private worldScale = new Vector3()\n\n  private eye = new Vector3()\n\n  private positionStart = new Vector3()\n  private quaternionStart = new Quaternion()\n  private scaleStart = new Vector3()\n\n  private camera: TCamera\n  private object: Object3D | undefined\n  private enabled = true\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private translationSnap: number | null = null\n  private rotationSnap: number | null = null\n  private scaleSnap: number | null = null\n  private space = 'world'\n  private size = 1\n  private dragging = false\n  private showX = true\n  private showY = true\n  private showZ = true\n\n  // events\n  private changeEvent = { type: 'change' }\n  private mouseDownEvent = { type: 'mouseDown', mode: this.mode }\n  private mouseUpEvent = { type: 'mouseUp', mode: this.mode }\n  private objectChangeEvent = { type: 'objectChange' }\n\n  constructor(camera: TCamera, domElement: HTMLElement | undefined) {\n    super()\n\n    this.domElement = domElement\n    this.camera = camera\n\n    this.gizmo = new TransformControlsGizmo()\n    this.add(this.gizmo)\n\n    this.plane = new TransformControlsPlane()\n    this.add(this.plane)\n\n    // Defined getter, setter and store for a property\n    const defineProperty = <TValue>(propName: string, defaultValue: TValue): void => {\n      let propValue = defaultValue\n\n      Object.defineProperty(this, propName, {\n        get: function () {\n          return propValue !== undefined ? propValue : defaultValue\n        },\n\n        set: function (value) {\n          if (propValue !== value) {\n            propValue = value\n            this.plane[propName] = value\n            this.gizmo[propName] = value\n\n            this.dispatchEvent({ type: propName + '-changed', value: value })\n            this.dispatchEvent(this.changeEvent)\n          }\n        },\n      })\n\n      //@ts-ignore\n      this[propName] = defaultValue\n      // @ts-ignore\n      this.plane[propName] = defaultValue\n      // @ts-ignore\n      this.gizmo[propName] = defaultValue\n    }\n\n    defineProperty('camera', this.camera)\n    defineProperty('object', this.object)\n    defineProperty('enabled', this.enabled)\n    defineProperty('axis', this.axis)\n    defineProperty('mode', this.mode)\n    defineProperty('translationSnap', this.translationSnap)\n    defineProperty('rotationSnap', this.rotationSnap)\n    defineProperty('scaleSnap', this.scaleSnap)\n    defineProperty('space', this.space)\n    defineProperty('size', this.size)\n    defineProperty('dragging', this.dragging)\n    defineProperty('showX', this.showX)\n    defineProperty('showY', this.showY)\n    defineProperty('showZ', this.showZ)\n    defineProperty('worldPosition', this.worldPosition)\n    defineProperty('worldPositionStart', this.worldPositionStart)\n    defineProperty('worldQuaternion', this.worldQuaternion)\n    defineProperty('worldQuaternionStart', this.worldQuaternionStart)\n    defineProperty('cameraPosition', this.cameraPosition)\n    defineProperty('cameraQuaternion', this.cameraQuaternion)\n    defineProperty('pointStart', this.pointStart)\n    defineProperty('pointEnd', this.pointEnd)\n    defineProperty('rotationAxis', this.rotationAxis)\n    defineProperty('rotationAngle', this.rotationAngle)\n    defineProperty('eye', this.eye)\n\n    // connect events\n    if (domElement !== undefined) this.connect(domElement)\n  }\n\n  private intersectObjectWithRay = (\n    object: Object3D,\n    raycaster: Raycaster,\n    includeInvisible?: boolean,\n  ): false | Intersection => {\n    const allIntersections = raycaster.intersectObject(object, true)\n\n    for (let i = 0; i < allIntersections.length; i++) {\n      if (allIntersections[i].object.visible || includeInvisible) {\n        return allIntersections[i]\n      }\n    }\n\n    return false\n  }\n\n  // Set current object\n  public attach = (object: Object3D): this => {\n    this.object = object\n    this.visible = true\n\n    return this\n  }\n\n  // Detatch from object\n  public detach = (): this => {\n    this.object = undefined\n    this.visible = false\n    this.axis = null\n\n    return this\n  }\n\n  // Reset\n  public reset = (): this => {\n    if (!this.enabled) return this\n\n    if (this.dragging) {\n      if (this.object !== undefined) {\n        this.object.position.copy(this.positionStart)\n        this.object.quaternion.copy(this.quaternionStart)\n        this.object.scale.copy(this.scaleStart)\n        // @ts-ignore\n        this.dispatchEvent(this.changeEvent)\n        // @ts-ignore\n        this.dispatchEvent(this.objectChangeEvent)\n        this.pointStart.copy(this.pointEnd)\n      }\n    }\n\n    return this\n  }\n\n  public updateMatrixWorld = (): void => {\n    if (this.object !== undefined) {\n      this.object.updateMatrixWorld()\n\n      if (this.object.parent === null) {\n        console.error('TransformControls: The attached 3D object must be a part of the scene graph.')\n      } else {\n        this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale)\n      }\n\n      this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale)\n\n      this.parentQuaternionInv.copy(this.parentQuaternion).invert()\n      this.worldQuaternionInv.copy(this.worldQuaternion).invert()\n    }\n\n    this.camera.updateMatrixWorld()\n    this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale)\n\n    this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize()\n\n    super.updateMatrixWorld()\n  }\n\n  private pointerHover = (pointer: TransformControlsPointerObject): void => {\n    if (this.object === undefined || this.dragging === true) return\n\n    this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n    const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster)\n\n    if (intersect) {\n      this.axis = intersect.object.name\n    } else {\n      this.axis = null\n    }\n  }\n\n  private pointerDown = (pointer: TransformControlsPointerObject): void => {\n    if (this.object === undefined || this.dragging === true || pointer.button !== 0) return\n\n    if (this.axis !== null) {\n      this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true)\n\n      if (planeIntersect) {\n        let space = this.space\n\n        if (this.mode === 'scale') {\n          space = 'local'\n        } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n          space = 'world'\n        }\n\n        if (space === 'local' && this.mode === 'rotate') {\n          const snap = this.rotationSnap\n\n          if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap\n          if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap\n          if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap\n        }\n\n        this.object.updateMatrixWorld()\n\n        if (this.object.parent) {\n          this.object.parent.updateMatrixWorld()\n        }\n\n        this.positionStart.copy(this.object.position)\n        this.quaternionStart.copy(this.object.quaternion)\n        this.scaleStart.copy(this.object.scale)\n\n        this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart)\n\n        this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart)\n      }\n\n      this.dragging = true\n      this.mouseDownEvent.mode = this.mode\n      // @ts-ignore\n      this.dispatchEvent(this.mouseDownEvent)\n    }\n  }\n\n  private pointerMove = (pointer: TransformControlsPointerObject): void => {\n    const axis = this.axis\n    const mode = this.mode\n    const object = this.object\n    let space = this.space\n\n    if (mode === 'scale') {\n      space = 'local'\n    } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n      space = 'world'\n    }\n\n    if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return\n\n    this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n    const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true)\n\n    if (!planeIntersect) return\n\n    this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart)\n\n    if (mode === 'translate') {\n      // Apply translate\n\n      this.offset.copy(this.pointEnd).sub(this.pointStart)\n\n      if (space === 'local' && axis !== 'XYZ') {\n        this.offset.applyQuaternion(this.worldQuaternionInv)\n      }\n\n      if (axis.indexOf('X') === -1) this.offset.x = 0\n      if (axis.indexOf('Y') === -1) this.offset.y = 0\n      if (axis.indexOf('Z') === -1) this.offset.z = 0\n\n      if (space === 'local' && axis !== 'XYZ') {\n        this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale)\n      } else {\n        this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale)\n      }\n\n      object.position.copy(this.offset).add(this.positionStart)\n\n      // Apply translation snap\n\n      if (this.translationSnap) {\n        if (space === 'local') {\n          object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert())\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap\n          }\n\n          object.position.applyQuaternion(this.quaternionStart)\n        }\n\n        if (space === 'world') {\n          if (object.parent) {\n            object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld))\n          }\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap\n          }\n\n          if (object.parent) {\n            object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld))\n          }\n        }\n      }\n    } else if (mode === 'scale') {\n      if (axis.search('XYZ') !== -1) {\n        let d = this.pointEnd.length() / this.pointStart.length()\n\n        if (this.pointEnd.dot(this.pointStart) < 0) d *= -1\n\n        this.tempVector2.set(d, d, d)\n      } else {\n        this.tempVector.copy(this.pointStart)\n        this.tempVector2.copy(this.pointEnd)\n\n        this.tempVector.applyQuaternion(this.worldQuaternionInv)\n        this.tempVector2.applyQuaternion(this.worldQuaternionInv)\n\n        this.tempVector2.divide(this.tempVector)\n\n        if (axis.search('X') === -1) {\n          this.tempVector2.x = 1\n        }\n\n        if (axis.search('Y') === -1) {\n          this.tempVector2.y = 1\n        }\n\n        if (axis.search('Z') === -1) {\n          this.tempVector2.z = 1\n        }\n      }\n\n      // Apply scale\n\n      object.scale.copy(this.scaleStart).multiply(this.tempVector2)\n\n      if (this.scaleSnap && this.object) {\n        if (axis.search('X') !== -1) {\n          this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n\n        if (axis.search('Y') !== -1) {\n          object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n\n        if (axis.search('Z') !== -1) {\n          object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n      }\n    } else if (mode === 'rotate') {\n      this.offset.copy(this.pointEnd).sub(this.pointStart)\n\n      const ROTATION_SPEED =\n        20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld))\n\n      if (axis === 'E') {\n        this.rotationAxis.copy(this.eye)\n        this.rotationAngle = this.pointEnd.angleTo(this.pointStart)\n\n        this.startNorm.copy(this.pointStart).normalize()\n        this.endNorm.copy(this.pointEnd).normalize()\n\n        this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1\n      } else if (axis === 'XYZE') {\n        this.rotationAxis.copy(this.offset).cross(this.eye).normalize()\n        this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED\n      } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n        this.rotationAxis.copy(this.unit[axis])\n\n        this.tempVector.copy(this.unit[axis])\n\n        if (space === 'local') {\n          this.tempVector.applyQuaternion(this.worldQuaternion)\n        }\n\n        this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED\n      }\n\n      // Apply rotation snap\n\n      if (this.rotationSnap) {\n        this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap\n      }\n\n      // Apply rotate\n      if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n        object.quaternion.copy(this.quaternionStart)\n        object.quaternion\n          .multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle))\n          .normalize()\n      } else {\n        this.rotationAxis.applyQuaternion(this.parentQuaternionInv)\n        object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle))\n        object.quaternion.multiply(this.quaternionStart).normalize()\n      }\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(this.changeEvent)\n    // @ts-ignore\n    this.dispatchEvent(this.objectChangeEvent)\n  }\n\n  private pointerUp = (pointer: TransformControlsPointerObject): void => {\n    if (pointer.button !== 0) return\n\n    if (this.dragging && this.axis !== null) {\n      this.mouseUpEvent.mode = this.mode\n      // @ts-ignore\n      this.dispatchEvent(this.mouseUpEvent)\n    }\n\n    this.dragging = false\n    this.axis = null\n  }\n\n  private getPointer = (event: Event): TransformControlsPointerObject => {\n    if (this.domElement && this.domElement.ownerDocument?.pointerLockElement) {\n      return {\n        x: 0,\n        y: 0,\n        button: (event as MouseEvent).button,\n      }\n    } else {\n      const pointer = (event as TouchEvent).changedTouches\n        ? (event as TouchEvent).changedTouches[0]\n        : (event as MouseEvent)\n\n      const rect = this.domElement!.getBoundingClientRect()\n\n      return {\n        x: ((pointer.clientX - rect.left) / rect.width) * 2 - 1,\n        y: (-(pointer.clientY - rect.top) / rect.height) * 2 + 1,\n        button: (event as MouseEvent).button,\n      }\n    }\n  }\n\n  private onPointerHover = (event: Event): void => {\n    if (!this.enabled) return\n\n    switch ((event as PointerEvent).pointerType) {\n      case 'mouse':\n      case 'pen':\n        this.pointerHover(this.getPointer(event))\n        break\n    }\n  }\n\n  private onPointerDown = (event: Event): void => {\n    if (!this.enabled || !this.domElement) return\n\n    this.domElement.style.touchAction = 'none' // disable touch scroll\n    this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove)\n    this.pointerHover(this.getPointer(event))\n    this.pointerDown(this.getPointer(event))\n  }\n\n  private onPointerMove = (event: Event): void => {\n    if (!this.enabled) return\n\n    this.pointerMove(this.getPointer(event))\n  }\n\n  private onPointerUp = (event: Event): void => {\n    if (!this.enabled || !this.domElement) return\n\n    this.domElement.style.touchAction! = ''\n    this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove)\n\n    this.pointerUp(this.getPointer(event))\n  }\n\n  public getMode = (): TransformControls['mode'] => this.mode\n\n  public setMode = (mode: TransformControls['mode']): void => {\n    this.mode = mode\n  }\n\n  public setTranslationSnap = (translationSnap: number): void => {\n    this.translationSnap = translationSnap\n  }\n\n  public setRotationSnap = (rotationSnap: number): void => {\n    this.rotationSnap = rotationSnap\n  }\n\n  public setScaleSnap = (scaleSnap: number): void => {\n    this.scaleSnap = scaleSnap\n  }\n\n  public setSize = (size: number): void => {\n    this.size = size\n  }\n\n  public setSpace = (space: string): void => {\n    this.space = space\n  }\n\n  public update = (): void => {\n    console.warn(\n      'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.',\n    )\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    if ((domElement as any) === document) {\n      console.error(\n        'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.',\n      )\n    }\n    this.domElement = domElement\n\n    this.domElement.addEventListener('pointerdown', this.onPointerDown)\n    this.domElement.addEventListener('pointermove', this.onPointerHover)\n    this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp)\n  }\n\n  public dispose = (): void => {\n    this.domElement?.removeEventListener('pointerdown', this.onPointerDown)\n    this.domElement?.removeEventListener('pointermove', this.onPointerHover)\n    this.domElement?.ownerDocument?.removeEventListener('pointermove', this.onPointerMove)\n    this.domElement?.ownerDocument?.removeEventListener('pointerup', this.onPointerUp)\n\n    this.traverse((child) => {\n      const mesh = child as Mesh<BufferGeometry, Material>\n      if (mesh.geometry) {\n        mesh.geometry.dispose()\n      }\n      if (mesh.material) {\n        mesh.material.dispose()\n      }\n    })\n  }\n}\n\ntype TransformControlsGizmoPrivateGizmos = {\n  ['translate']: Object3D\n  ['scale']: Object3D\n  ['rotate']: Object3D\n  ['visible']: boolean\n}\n\nclass TransformControlsGizmo extends Object3D {\n  private isTransformControlsGizmo = true\n  public type = 'TransformControlsGizmo'\n\n  private tempVector = new Vector3(0, 0, 0)\n  private tempEuler = new Euler()\n  private alignVector = new Vector3(0, 1, 0)\n  private zeroVector = new Vector3(0, 0, 0)\n  private lookAtMatrix = new Matrix4()\n  private tempQuaternion = new Quaternion()\n  private tempQuaternion2 = new Quaternion()\n  private identityQuaternion = new Quaternion()\n\n  private unitX = new Vector3(1, 0, 0)\n  private unitY = new Vector3(0, 1, 0)\n  private unitZ = new Vector3(0, 0, 1)\n\n  private gizmo: TransformControlsGizmoPrivateGizmos\n  public picker: TransformControlsGizmoPrivateGizmos\n  private helper: TransformControlsGizmoPrivateGizmos\n\n  // these are set from parent class TransformControls\n  private rotationAxis = new Vector3()\n\n  private cameraPosition = new Vector3()\n\n  private worldPositionStart = new Vector3()\n  private worldQuaternionStart = new Quaternion()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n\n  private eye = new Vector3()\n\n  private camera: PerspectiveCamera | OrthographicCamera = null!\n  private enabled = true\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private space = 'world'\n  private size = 1\n  private dragging = false\n  private showX = true\n  private showY = true\n  private showZ = true\n\n  constructor() {\n    super()\n\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false,\n    })\n\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false,\n    })\n\n    // Make unique material for each axis/color\n\n    const matInvisible = gizmoMaterial.clone()\n    matInvisible.opacity = 0.15\n\n    const matHelper = gizmoMaterial.clone()\n    matHelper.opacity = 0.33\n\n    const matRed = gizmoMaterial.clone() as MeshBasicMaterial\n    matRed.color.set(0xff0000)\n\n    const matGreen = gizmoMaterial.clone() as MeshBasicMaterial\n    matGreen.color.set(0x00ff00)\n\n    const matBlue = gizmoMaterial.clone() as MeshBasicMaterial\n    matBlue.color.set(0x0000ff)\n\n    const matWhiteTransparent = gizmoMaterial.clone() as MeshBasicMaterial\n    matWhiteTransparent.opacity = 0.25\n\n    const matYellowTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matYellowTransparent.color.set(0xffff00)\n\n    const matCyanTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matCyanTransparent.color.set(0x00ffff)\n\n    const matMagentaTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matMagentaTransparent.color.set(0xff00ff)\n\n    const matYellow = gizmoMaterial.clone() as MeshBasicMaterial\n    matYellow.color.set(0xffff00)\n\n    const matLineRed = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineRed.color.set(0xff0000)\n\n    const matLineGreen = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineGreen.color.set(0x00ff00)\n\n    const matLineBlue = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineBlue.color.set(0x0000ff)\n\n    const matLineCyan = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineCyan.color.set(0x00ffff)\n\n    const matLineMagenta = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineMagenta.color.set(0xff00ff)\n\n    const matLineYellow = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineYellow.color.set(0xffff00)\n\n    const matLineGray = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineGray.color.set(0x787878)\n\n    const matLineYellowTransparent = matLineYellow.clone() as LineBasicMaterial\n    matLineYellowTransparent.opacity = 0.25\n\n    // reusable geometry\n\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false)\n\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125)\n\n    const lineGeometry = new BufferGeometry()\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3))\n\n    const CircleGeometry = (radius: number, arc: number): BufferGeometry => {\n      const geometry = new BufferGeometry()\n      const vertices = []\n\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos((i / 32) * Math.PI) * radius, Math.sin((i / 32) * Math.PI) * radius)\n      }\n\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3))\n\n      return geometry\n    }\n\n    // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n    const TranslateHelperGeometry = (): BufferGeometry => {\n      const geometry = new BufferGeometry()\n\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3))\n\n      return geometry\n    }\n\n    // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n    const gizmoTranslate = {\n      X: [\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'],\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'],\n        [new Line(lineGeometry, matLineRed)],\n      ],\n      Y: [\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'],\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]],\n      ],\n      Z: [\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'],\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]],\n      ],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]],\n        [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n      ],\n      YZ: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XZ: [\n        [\n          new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()),\n          [0.15, 0, 0.15],\n          [-Math.PI / 2, 0, 0],\n        ],\n        [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n    }\n\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]],\n    }\n\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']],\n    }\n\n    const gizmoRotate = {\n      X: [\n        [new Line(CircleGeometry(1, 0.5), matLineRed)],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]],\n      ],\n      Y: [\n        [new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]],\n      ],\n      Z: [\n        [new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]],\n      ],\n      E: [\n        [new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [1.17, 0, 0],\n          [0, 0, -Math.PI / 2],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [-1.17, 0, 0],\n          [0, 0, Math.PI / 2],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, -1.17, 0],\n          [Math.PI, 0, 0],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, 1.17, 0],\n          [0, 0, 0],\n          [1, 1, 0.001],\n        ],\n      ],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]],\n    }\n\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n    }\n\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]],\n    }\n\n    const gizmoScale = {\n      X: [\n        [new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]],\n        [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]],\n      ],\n      Y: [\n        [new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]],\n      ],\n      Z: [\n        [new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]],\n      ],\n      XY: [\n        [new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]],\n        [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n      ],\n      YZ: [\n        [new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XZ: [\n        [new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]],\n        [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]],\n    }\n\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]],\n    }\n\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']],\n    }\n\n    // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n    const setupGizmo = (gizmoMap: any): Object3D => {\n      const gizmo = new Object3D()\n\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--; ) {\n          const object = gizmoMap[name][i][0].clone() as Mesh\n          const position = gizmoMap[name][i][1]\n          const rotation = gizmoMap[name][i][2]\n          const scale = gizmoMap[name][i][3]\n          const tag = gizmoMap[name][i][4]\n\n          // name and tag properties are essential for picking and updating logic.\n          object.name = name\n          // @ts-ignore\n          object.tag = tag\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2])\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2])\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2])\n          }\n\n          object.updateMatrix()\n\n          const tempGeometry = object.geometry.clone()\n          tempGeometry.applyMatrix4(object.matrix)\n          object.geometry = tempGeometry\n          object.renderOrder = Infinity\n\n          object.position.set(0, 0, 0)\n          object.rotation.set(0, 0, 0)\n          object.scale.set(1, 1, 1)\n\n          gizmo.add(object)\n        }\n      }\n\n      return gizmo\n    }\n\n    this.gizmo = {} as TransformControlsGizmoPrivateGizmos\n    this.picker = {} as TransformControlsGizmoPrivateGizmos\n    this.helper = {} as TransformControlsGizmoPrivateGizmos\n\n    this.add((this.gizmo['translate'] = setupGizmo(gizmoTranslate)))\n    this.add((this.gizmo['rotate'] = setupGizmo(gizmoRotate)))\n    this.add((this.gizmo['scale'] = setupGizmo(gizmoScale)))\n    this.add((this.picker['translate'] = setupGizmo(pickerTranslate)))\n    this.add((this.picker['rotate'] = setupGizmo(pickerRotate)))\n    this.add((this.picker['scale'] = setupGizmo(pickerScale)))\n    this.add((this.helper['translate'] = setupGizmo(helperTranslate)))\n    this.add((this.helper['rotate'] = setupGizmo(helperRotate)))\n    this.add((this.helper['scale'] = setupGizmo(helperScale)))\n\n    // Pickers should be hidden always\n\n    this.picker['translate'].visible = false\n    this.picker['rotate'].visible = false\n    this.picker['scale'].visible = false\n  }\n\n  // updateMatrixWorld will update transformations and appearance of individual handles\n  public updateMatrixWorld = (): void => {\n    let space = this.space\n\n    if (this.mode === 'scale') {\n      space = 'local' // scale always oriented to local rotation\n    }\n\n    const quaternion = space === 'local' ? this.worldQuaternion : this.identityQuaternion\n\n    // Show only gizmos for current transform mode\n\n    this.gizmo['translate'].visible = this.mode === 'translate'\n    this.gizmo['rotate'].visible = this.mode === 'rotate'\n    this.gizmo['scale'].visible = this.mode === 'scale'\n\n    this.helper['translate'].visible = this.mode === 'translate'\n    this.helper['rotate'].visible = this.mode === 'rotate'\n    this.helper['scale'].visible = this.mode === 'scale'\n\n    let handles: Array<Object3D & { tag?: string }> = []\n    handles = handles.concat(this.picker[this.mode].children)\n    handles = handles.concat(this.gizmo[this.mode].children)\n    handles = handles.concat(this.helper[this.mode].children)\n\n    for (let i = 0; i < handles.length; i++) {\n      const handle = handles[i]\n\n      // hide aligned to camera\n\n      handle.visible = true\n      handle.rotation.set(0, 0, 0)\n      handle.position.copy(this.worldPosition)\n\n      let factor\n\n      if ((this.camera as OrthographicCamera).isOrthographicCamera) {\n        factor =\n          ((this.camera as OrthographicCamera).top - (this.camera as OrthographicCamera).bottom) /\n          (this.camera as OrthographicCamera).zoom\n      } else {\n        factor =\n          this.worldPosition.distanceTo(this.cameraPosition) *\n          Math.min((1.9 * Math.tan((Math.PI * (this.camera as PerspectiveCamera).fov) / 360)) / this.camera.zoom, 7)\n      }\n\n      handle.scale.set(1, 1, 1).multiplyScalar((factor * this.size) / 7)\n\n      // TODO: simplify helpers and consider decoupling from gizmo\n\n      if (handle.tag === 'helper') {\n        handle.visible = false\n\n        if (handle.name === 'AXIS') {\n          handle.position.copy(this.worldPositionStart)\n          handle.visible = !!this.axis\n\n          if (this.axis === 'X') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'Y') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'Z') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'XYZE') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0))\n            this.alignVector.copy(this.rotationAxis)\n            handle.quaternion.setFromRotationMatrix(\n              this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY),\n            )\n            handle.quaternion.multiply(this.tempQuaternion)\n            handle.visible = this.dragging\n          }\n\n          if (this.axis === 'E') {\n            handle.visible = false\n          }\n        } else if (handle.name === 'START') {\n          handle.position.copy(this.worldPositionStart)\n          handle.visible = this.dragging\n        } else if (handle.name === 'END') {\n          handle.position.copy(this.worldPosition)\n          handle.visible = this.dragging\n        } else if (handle.name === 'DELTA') {\n          handle.position.copy(this.worldPositionStart)\n          handle.quaternion.copy(this.worldQuaternionStart)\n          this.tempVector\n            .set(1e-10, 1e-10, 1e-10)\n            .add(this.worldPositionStart)\n            .sub(this.worldPosition)\n            .multiplyScalar(-1)\n          this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert())\n          handle.scale.copy(this.tempVector)\n          handle.visible = this.dragging\n        } else {\n          handle.quaternion.copy(quaternion)\n\n          if (this.dragging) {\n            handle.position.copy(this.worldPositionStart)\n          } else {\n            handle.position.copy(this.worldPosition)\n          }\n\n          if (this.axis) {\n            handle.visible = this.axis.search(handle.name) !== -1\n          }\n        }\n\n        // If updating helper, skip rest of the loop\n        continue\n      }\n\n      // Align handles to current local or world rotation\n\n      handle.quaternion.copy(quaternion)\n\n      if (this.mode === 'translate' || this.mode === 'scale') {\n        // Hide translate and scale axis facing the camera\n\n        const AXIS_HIDE_TRESHOLD = 0.99\n        const PLANE_HIDE_TRESHOLD = 0.2\n        const AXIS_FLIP_TRESHOLD = 0.0\n\n        if (handle.name === 'X' || handle.name === 'XYZX') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'Y' || handle.name === 'XYZY') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'Z' || handle.name === 'XYZZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'XY') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'YZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'XZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        // Flip translate and scale axis ocluded behind another axis\n\n        if (handle.name.search('X') !== -1) {\n          if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.x *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n\n        if (handle.name.search('Y') !== -1) {\n          if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.y *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n\n        if (handle.name.search('Z') !== -1) {\n          if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.z *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n      } else if (this.mode === 'rotate') {\n        // Align handles to current local or world rotation\n\n        this.tempQuaternion2.copy(quaternion)\n        this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert())\n\n        if (handle.name.search('E') !== -1) {\n          handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY))\n        }\n\n        if (handle.name === 'X') {\n          this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n\n        if (handle.name === 'Y') {\n          this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n\n        if (handle.name === 'Z') {\n          this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n      }\n\n      // Hide disabled axes\n      handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || this.showX)\n      handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || this.showY)\n      handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || this.showZ)\n      handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || (this.showX && this.showY && this.showZ))\n\n      // highlight selected axis\n\n      //@ts-ignore\n      handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity\n      //@ts-ignore\n      handle.material.tempColor = handle.material.tempColor || handle.material.color.clone()\n      //@ts-ignore\n      handle.material.color.copy(handle.material.tempColor)\n      //@ts-ignore\n      handle.material.opacity = handle.material.tempOpacity\n\n      if (!this.enabled) {\n        //@ts-ignore\n        handle.material.opacity *= 0.5\n        //@ts-ignore\n        handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n      } else if (this.axis) {\n        if (handle.name === this.axis) {\n          //@ts-ignore\n          handle.material.opacity = 1.0\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        } else if (\n          this.axis.split('').some(function (a) {\n            return handle.name === a\n          })\n        ) {\n          //@ts-ignore\n          handle.material.opacity = 1.0\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        } else {\n          //@ts-ignore\n          handle.material.opacity *= 0.25\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        }\n      }\n    }\n\n    super.updateMatrixWorld()\n  }\n}\n\nclass TransformControlsPlane extends Mesh<PlaneGeometry, MeshBasicMaterial> {\n  private isTransformControlsPlane = true\n  public type = 'TransformControlsPlane'\n\n  constructor() {\n    super(\n      new PlaneGeometry(100000, 100000, 2, 2),\n      new MeshBasicMaterial({\n        visible: false,\n        wireframe: true,\n        side: DoubleSide,\n        transparent: true,\n        opacity: 0.1,\n        toneMapped: false,\n      }),\n    )\n  }\n\n  private unitX = new Vector3(1, 0, 0)\n  private unitY = new Vector3(0, 1, 0)\n  private unitZ = new Vector3(0, 0, 1)\n\n  private tempVector = new Vector3()\n  private dirVector = new Vector3()\n  private alignVector = new Vector3()\n  private tempMatrix = new Matrix4()\n  private identityQuaternion = new Quaternion()\n\n  // these are set from parent class TransformControls\n  private cameraQuaternion = new Quaternion()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n\n  private eye = new Vector3()\n\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private space = 'world'\n\n  public updateMatrixWorld = (): void => {\n    let space = this.space\n\n    this.position.copy(this.worldPosition)\n\n    if (this.mode === 'scale') space = 'local' // scale always oriented to local rotation\n\n    this.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n    this.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n    this.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n\n    // Align the plane for current transform mode, axis and space.\n\n    this.alignVector.copy(this.unitY)\n\n    switch (this.mode) {\n      case 'translate':\n      case 'scale':\n        switch (this.axis) {\n          case 'X':\n            this.alignVector.copy(this.eye).cross(this.unitX)\n            this.dirVector.copy(this.unitX).cross(this.alignVector)\n            break\n          case 'Y':\n            this.alignVector.copy(this.eye).cross(this.unitY)\n            this.dirVector.copy(this.unitY).cross(this.alignVector)\n            break\n          case 'Z':\n            this.alignVector.copy(this.eye).cross(this.unitZ)\n            this.dirVector.copy(this.unitZ).cross(this.alignVector)\n            break\n          case 'XY':\n            this.dirVector.copy(this.unitZ)\n            break\n          case 'YZ':\n            this.dirVector.copy(this.unitX)\n            break\n          case 'XZ':\n            this.alignVector.copy(this.unitZ)\n            this.dirVector.copy(this.unitY)\n            break\n          case 'XYZ':\n          case 'E':\n            this.dirVector.set(0, 0, 0)\n            break\n        }\n\n        break\n      case 'rotate':\n      default:\n        // special case for rotate\n        this.dirVector.set(0, 0, 0)\n    }\n\n    if (this.dirVector.length() === 0) {\n      // If in rotate mode, make the plane parallel to camera\n      this.quaternion.copy(this.cameraQuaternion)\n    } else {\n      this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector)\n\n      this.quaternion.setFromRotationMatrix(this.tempMatrix)\n    }\n\n    super.updateMatrixWorld()\n  }\n}\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7308, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-three/drei/core/TransformControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { TransformControls as TransformControls$1 } from 'three-stdlib';\n\nconst TransformControls = /* @__PURE__ */React.forwardRef(({\n  children,\n  domElement,\n  onChange,\n  onMouseDown,\n  onMouseUp,\n  onObjectChange,\n  object,\n  makeDefault,\n  camera,\n  // Transform\n  enabled,\n  axis,\n  mode,\n  translationSnap,\n  rotationSnap,\n  scaleSnap,\n  space,\n  size,\n  showX,\n  showY,\n  showZ,\n  ...props\n}, ref) => {\n  const defaultControls = useThree(state => state.controls);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new TransformControls$1(explCamera, explDomElement), [explCamera, explDomElement]);\n  const group = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (object) {\n      controls.attach(object instanceof THREE.Object3D ? object : object.current);\n    } else if (group.current instanceof THREE.Object3D) {\n      controls.attach(group.current);\n    }\n    return () => void controls.detach();\n  }, [object, children, controls]);\n  React.useEffect(() => {\n    if (defaultControls) {\n      const callback = event => defaultControls.enabled = !event.value;\n      controls.addEventListener('dragging-changed', callback);\n      return () => controls.removeEventListener('dragging-changed', callback);\n    }\n  }, [controls, defaultControls]);\n  const onChangeRef = React.useRef(undefined);\n  const onMouseDownRef = React.useRef(undefined);\n  const onMouseUpRef = React.useRef(undefined);\n  const onObjectChangeRef = React.useRef(undefined);\n  React.useLayoutEffect(() => void (onChangeRef.current = onChange), [onChange]);\n  React.useLayoutEffect(() => void (onMouseDownRef.current = onMouseDown), [onMouseDown]);\n  React.useLayoutEffect(() => void (onMouseUpRef.current = onMouseUp), [onMouseUp]);\n  React.useLayoutEffect(() => void (onObjectChangeRef.current = onObjectChange), [onObjectChange]);\n  React.useEffect(() => {\n    const onChange = e => {\n      invalidate();\n      onChangeRef.current == null || onChangeRef.current(e);\n    };\n    const onMouseDown = e => onMouseDownRef.current == null ? void 0 : onMouseDownRef.current(e);\n    const onMouseUp = e => onMouseUpRef.current == null ? void 0 : onMouseUpRef.current(e);\n    const onObjectChange = e => onObjectChangeRef.current == null ? void 0 : onObjectChangeRef.current(e);\n    controls.addEventListener('change', onChange);\n    controls.addEventListener('mouseDown', onMouseDown);\n    controls.addEventListener('mouseUp', onMouseUp);\n    controls.addEventListener('objectChange', onObjectChange);\n    return () => {\n      controls.removeEventListener('change', onChange);\n      controls.removeEventListener('mouseDown', onMouseDown);\n      controls.removeEventListener('mouseUp', onMouseUp);\n      controls.removeEventListener('objectChange', onObjectChange);\n    };\n  }, [invalidate, controls]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: controls,\n    enabled: enabled,\n    axis: axis,\n    mode: mode,\n    translationSnap: translationSnap,\n    rotationSnap: rotationSnap,\n    scaleSnap: scaleSnap,\n    space: space,\n    size: size,\n    showX: showX,\n    showY: showY,\n    showZ: showZ\n  }), /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children));\n});\n\nexport { TransformControls };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7549, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/react-use-gesture/dist/reactusegesture.esm.js","sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/math.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/rubberband.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/utils.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/resolveOptionsWith.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/event.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/config.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/buildConfig.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/state.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/Recognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/Controller.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useRecognizers.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/CoordinatesRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/DragRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/memoize-one.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/utils/react-fast-compare.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useDrag.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/DistanceAngleRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/PinchRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/usePinch.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/WheelRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useWheel.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/MoveRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useMove.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useHover.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/recognizers/ScrollRecognizer.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useScroll.ts","file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/react-use-gesture/src/hooks/useGesture.ts"],"sourcesContent":["// vector add\nexport function addV<T extends number[]>(v1: T, v2: T): T {\n  return v1.map((v, i) => v + v2[i]) as T\n}\n\n// vector substract\nexport function subV<T extends number[]>(v1: T, v2: T): T {\n  return v1.map((v, i) => v - v2[i]) as T\n}\n\n/**\n * Calculates distance\n * @param movement the difference between current and initial vectors\n * @returns distance\n */\nexport function calculateDistance(movement: number[]): number {\n  return Math.hypot(...movement)\n}\n\ninterface Kinematics {\n  velocities: number[]\n  velocity: number\n  distance: number\n  direction: number[]\n}\n\nexport function calculateAllGeometry<T extends number[]>(movement: T, delta: T = movement) {\n  const dl = calculateDistance(delta)\n\n  const alpha = dl === 0 ? 0 : 1 / dl\n\n  const direction = delta.map(v => alpha * v) as T\n  const distance = calculateDistance(movement)\n\n  return { distance, direction }\n}\n\n/**\n * Calculates all kinematics\n * @template T the expected vector type\n * @param movement the difference between current and initial vectors\n * @param delta the difference between current and previous vectors\n * @param delta_t the time difference between current and previous timestamps\n * @returns all kinematics\n */\nexport function calculateAllKinematics<T extends number[]>(movement: T, delta: T, dt: number): Kinematics {\n  const dl = calculateDistance(delta)\n\n  const alpha = dl === 0 ? 0 : 1 / dl\n  const beta = dt === 0 ? 0 : 1 / dt\n\n  const velocity = beta * dl\n  const velocities = delta.map(v => beta * v)\n  const direction = delta.map(v => alpha * v)\n  const distance = calculateDistance(movement)\n\n  return { velocities, velocity, distance, direction }\n}\n\n/**\n * Because IE doesn't support `Math.sign` function, so we use the polyfill version of the function.\n * This polyfill function is suggested by Mozilla:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign#Polyfill\n * @param x target number\n */\nexport function sign(x: number) {\n  if (Math.sign) return Math.sign(x)\n  return Number(x > 0) - Number(x < 0) || +x\n}\n","function minMax(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(value, max))\n}\n\n// Based on @aholachek ;)\n// https://twitter.com/chpwn/status/285540192096497664\n// iOS constant = 0.55\n\n// https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5\nfunction rubberband2(distance: number, constant: number) {\n  // default constant from the article is 0.7\n  return Math.pow(distance, constant * 5)\n}\n\nfunction rubberband(distance: number, dimension: number, constant: number) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return rubberband2(distance, constant)\n  return (distance * dimension * constant) / (dimension + constant * distance)\n}\n\nexport function rubberbandIfOutOfBounds(position: number, min: number, max: number, constant = 0.15) {\n  if (constant === 0) return minMax(position, min, max)\n  if (position < min) return -rubberband(min - position, max - min, constant) + min\n  if (position > max) return +rubberband(position - max, max - min, constant) + max\n  return position\n}\n","export function noop() {}\n\n/**\n * TODO Beware that only optimized cases are covered in tests =)\n * TODO Need to cover general case as well\n *\n * @param fns\n */\nexport function chainFns(...fns: Function[]): Function {\n  if (fns.length === 0) return noop\n  if (fns.length === 1) return fns[0]\n\n  return function (this: any) {\n    var result\n    for (let fn of fns) {\n      result = fn.apply(this, arguments) || result\n    }\n    return result\n  }\n}\n\n/**\n * Expects a simple value or 2D vector (an array with 2 elements) and\n * always returns 2D vector. If simple value is passed, returns a\n * vector with this value as both coordinates.\n *\n * @param value\n */\nexport function ensureVector<T>(value: T | [T, T] | undefined, fallback?: T | [T, T]): [T, T] {\n  if (value === undefined) {\n    if (fallback === undefined) {\n      throw new Error('Must define fallback value if undefined is expected')\n    }\n    value = fallback\n  }\n\n  if (Array.isArray(value)) return value\n  return [value, value]\n}\n\n/**\n * Helper for defining a default value\n *\n * @param value\n * @param fallback\n */\nexport function assignDefault<T extends Object>(value: Partial<T> | undefined, fallback: T): T {\n  return Object.assign({}, fallback, value || {})\n}\n\n/**\n * Resolves getters (functions) by calling them\n * If simple value is given it just passes through\n *\n * @param v\n */\nexport function valueFn<T>(v: T | ((...args: any[]) => T), ...args: any[]): T {\n  if (typeof v === 'function') {\n    // @ts-ignore\n    return v(...args)\n  } else {\n    return v\n  }\n}\n","export type Resolver = (x: any, key: string, obj: object) => any\nexport type ResolverMap = { [k: string]: Resolver | ResolverMap | boolean }\n\nexport function resolveWith<T extends { [k: string]: any }, V extends { [k: string]: any }>(\n  config: Partial<T> = {},\n  resolvers: ResolverMap\n): V {\n  const result: any = {}\n\n  for (const [key, resolver] of Object.entries(resolvers))\n    switch (typeof resolver) {\n      case 'function':\n        result[key] = resolver.call(result, config[key], key, config)\n        break\n      case 'object':\n        result[key] = resolveWith(config[key], resolver)\n        break\n      case 'boolean':\n        if (resolver) result[key] = config[key]\n        break\n    }\n\n  return result\n}\n","import { Vector2, WebKitGestureEvent, DomEvents } from '../types'\n\n/**\n * Whether the browser supports GestureEvent (ie Safari)\n * @returns true if the browser supports gesture event\n */\nexport function supportsGestureEvents(): boolean {\n  try {\n    // TODO [TS] possibly find GestureEvent definitions?\n    // @ts-ignore: no type definitions for webkit GestureEvents\n    return 'constructor' in GestureEvent\n  } catch (e) {\n    return false\n  }\n}\n\nexport function supportsTouchEvents(): boolean {\n  return typeof window !== 'undefined' && 'ontouchstart' in window\n}\n\nexport function supportsPointerEvents(): boolean {\n  return typeof window !== 'undefined' && 'onpointerdown' in window\n}\n\nfunction getEventTouches(event: PointerEvent | React.PointerEvent | TouchEvent | React.TouchEvent) {\n  if ('pointerId' in event) return null\n  return event.type === 'touchend' ? event.changedTouches : event.targetTouches\n}\n\nexport function getTouchIds(event: TouchEvent | React.TouchEvent): number[] {\n  return Array.from(getEventTouches(event)!).map(t => t.identifier)\n}\n\nexport function getGenericEventData(event: DomEvents) {\n  const buttons = 'buttons' in event ? event.buttons : 0\n  const { shiftKey, altKey, metaKey, ctrlKey } = event as any // TODO check if this might create some overrides?\n  return { buttons, shiftKey, altKey, metaKey, ctrlKey }\n}\n\nconst identity = (xy: Vector2) => xy\n\n/**\n * Gets pointer event values.\n * @param event\n * @returns pointer event values\n */\nexport function getPointerEventValues(\n  event: TouchEvent | React.TouchEvent | React.PointerEvent | PointerEvent,\n  transform = identity\n): Vector2 {\n  const touchEvents = getEventTouches(event)\n  const { clientX, clientY } = touchEvents ? touchEvents[0] : (event as React.PointerEvent)\n  return transform([clientX, clientY])\n}\n\n/**\n * Gets two touches event data\n * @param event\n * @returns two touches event data\n */\nexport function getTwoTouchesEventValues(\n  event: React.TouchEvent | TouchEvent,\n  pointerIds: [number, number],\n  transform = identity\n) {\n  const [A, B] = Array.from(event.touches).filter(t => pointerIds.includes(t.identifier))\n\n  if (!A || !B) throw Error(`The event doesn't have two pointers matching the pointerIds`)\n\n  const dx = B.clientX - A.clientX\n  const dy = B.clientY - A.clientY\n  const cx = (B.clientX + A.clientX) / 2\n  const cy = (B.clientY + A.clientY) / 2\n\n  // const e: any = 'nativeEvent' in event ? event.nativeEvent : event\n\n  const distance = Math.hypot(dx, dy)\n  // FIXME rotation has inconsistant values so we're not using it atm\n  // const angle = (e.rotation as number) ?? -(Math.atan2(dx, dy) * 180) / Math.PI\n  const angle = -(Math.atan2(dx, dy) * 180) / Math.PI\n  const values: Vector2 = transform([distance, angle])\n  const origin: Vector2 = transform([cx, cy])\n\n  return { values, origin }\n}\n\n/**\n * Gets scroll event values\n * @param event\n * @returns scroll event values\n */\nexport function getScrollEventValues(event: React.UIEvent | UIEvent, transform = identity): Vector2 {\n  // If the currentTarget is the window then we return the scrollX/Y position.\n  // If not (ie the currentTarget is a DOM element), then we return scrollLeft/Top\n  const { scrollX, scrollY, scrollLeft, scrollTop } = event.currentTarget as Element & Window\n  return transform([scrollX || scrollLeft || 0, scrollY || scrollTop || 0])\n}\n\n// wheel delta defaults from https://github.com/facebookarchive/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\nconst LINE_HEIGHT = 40\nconst PAGE_HEIGHT = 800\n\n/**\n * Gets wheel event values.\n * @param event\n * @returns wheel event values\n */\nexport function getWheelEventValues(event: React.WheelEvent | WheelEvent, transform = identity): Vector2 {\n  let { deltaX, deltaY, deltaMode } = event\n  // normalize wheel values, especially for Firefox\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT\n    deltaY *= LINE_HEIGHT\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT\n    deltaY *= PAGE_HEIGHT\n  }\n  return transform([deltaX, deltaY])\n}\n\n/**\n * Gets webkit gesture event values.\n * @param event\n * @returns webkit gesture event values\n */\nexport function getWebkitGestureEventValues(event: WebKitGestureEvent, transform = identity): Vector2 {\n  return transform([event.scale, event.rotation])\n}\n","import { ensureVector, assignDefault, valueFn } from './utils'\nimport { resolveWith } from './resolveOptionsWith'\n\nimport {\n  GenericOptions,\n  InternalGenericOptions,\n  DragConfig,\n  GestureOptions,\n  InternalDragOptions,\n  InternalGestureOptions,\n  CoordinatesConfig,\n  InternalCoordinatesOptions,\n  DistanceAngleConfig,\n  InternalDistanceAngleOptions,\n  Vector2,\n  Bounds,\n  StateKey,\n  State,\n  CoordinatesKey,\n  DistanceAngleKey,\n} from '../types'\nimport { supportsTouchEvents, supportsPointerEvents } from './event'\n\nexport const DEFAULT_DRAG_DELAY = 180\nexport const DEFAULT_RUBBERBAND = 0.15\nexport const DEFAULT_SWIPE_VELOCITY = 0.5\nexport const DEFAULT_SWIPE_DISTANCE = 50\nexport const DEFAULT_SWIPE_DURATION = 250\n\nconst InternalGestureOptionsNormalizers = {\n  threshold(value: number | Vector2 = 0) {\n    return ensureVector(value)\n  },\n\n  rubberband(value: number | boolean | Vector2 = 0): Vector2 {\n    switch (value) {\n      case true:\n        return ensureVector(DEFAULT_RUBBERBAND)\n      case false:\n        return ensureVector(0)\n      default:\n        return ensureVector(value)\n    }\n  },\n\n  enabled(value = true) {\n    return value\n  },\n\n  triggerAllEvents(value = false) {\n    return value\n  },\n\n  initial(value = 0) {\n    if (typeof value === 'function') return value\n    return ensureVector(value)\n  },\n\n  transform: true,\n}\n\nconst InternalCoordinatesOptionsNormalizers = {\n  ...InternalGestureOptionsNormalizers,\n  axis: true,\n  lockDirection(value = false) {\n    return value\n  },\n  bounds(value: Bounds | ((state?: State) => Bounds) = {}) {\n    if (typeof value === 'function')\n      return (state?: State) => InternalCoordinatesOptionsNormalizers.bounds(value(state))\n\n    const { left = -Infinity, right = Infinity, top = -Infinity, bottom = Infinity } = value\n\n    return [\n      [left, right],\n      [top, bottom],\n    ]\n  },\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement\n\nconst InternalGenericOptionsNormalizers = {\n  enabled(value = true) {\n    return value\n  },\n  domTarget: true,\n  window(value = isBrowser ? window : undefined) {\n    return value\n  },\n  eventOptions({ passive = true, capture = false } = {}) {\n    return { passive, capture }\n  },\n  transform: true,\n}\n\nconst InternalDistanceAngleOptionsNormalizers = {\n  ...InternalGestureOptionsNormalizers,\n\n  bounds(_value: undefined, _key: string, { distanceBounds = {}, angleBounds = {} }) {\n    const _distanceBounds = (state?: State) => {\n      const D = assignDefault(valueFn(distanceBounds, state), { min: -Infinity, max: Infinity })\n      return [D.min, D.max]\n    }\n\n    const _angleBounds = (state?: State) => {\n      const A = assignDefault(valueFn(angleBounds, state), { min: -Infinity, max: Infinity })\n      return [A.min, A.max]\n    }\n\n    if (typeof distanceBounds !== 'function' && typeof angleBounds !== 'function')\n      return [_distanceBounds(), _angleBounds()]\n\n    return (state?: State) => [_distanceBounds(state), _angleBounds(state)]\n  },\n}\n\nconst InternalDragOptionsNormalizers = {\n  ...InternalCoordinatesOptionsNormalizers,\n\n  useTouch(value = false) {\n    const supportsTouch = supportsTouchEvents()\n    const supportsPointer = supportsPointerEvents()\n    if (value && supportsTouch) return true\n    if (supportsTouch && !supportsPointer) return true\n    return false\n  },\n  experimental_preventWindowScrollY(value = false) {\n    return value\n  },\n  threshold(\n    this: InternalDragOptions,\n    v: number | Vector2 | undefined,\n    _k: string,\n    { filterTaps = false, lockDirection = false, axis = undefined }\n  ) {\n    const A = ensureVector(v, filterTaps ? 3 : lockDirection ? 1 : axis ? 1 : 0) as Vector2\n    this.filterTaps = filterTaps\n    return A\n  },\n\n  swipeVelocity(v: number | Vector2 = DEFAULT_SWIPE_VELOCITY) {\n    return ensureVector(v)\n  },\n  swipeDistance(v: number | Vector2 = DEFAULT_SWIPE_DISTANCE) {\n    return ensureVector(v)\n  },\n  swipeDuration(value = DEFAULT_SWIPE_DURATION) {\n    return value\n  },\n  delay(value: number | boolean = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY\n      case false:\n        return 0\n      default:\n        return value\n    }\n  },\n}\n\nexport function getInternalGenericOptions(config: GenericOptions = {}): InternalGenericOptions {\n  // TODO warn when passive is set to true and domTarget is undefined\n  return resolveWith<GenericOptions, InternalGenericOptions>(config, InternalGenericOptionsNormalizers)\n}\n\nexport function getInternalGestureOptions<T extends StateKey>(\n  config: GestureOptions<T> = {}\n): InternalGestureOptions<T> {\n  return resolveWith<GestureOptions<T>, InternalGestureOptions<T>>(config, InternalGestureOptionsNormalizers)\n}\n\nexport function getInternalCoordinatesOptions<T extends CoordinatesKey>(\n  config: CoordinatesConfig<T> = {}\n): InternalCoordinatesOptions<T> {\n  return resolveWith<CoordinatesConfig<T>, InternalCoordinatesOptions<T>>(config, InternalCoordinatesOptionsNormalizers)\n}\n\nexport function getInternalDistanceAngleOptions<T extends DistanceAngleKey>(\n  config: DistanceAngleConfig<T> = {}\n): InternalDistanceAngleOptions<T> {\n  return resolveWith<DistanceAngleConfig<T>, InternalDistanceAngleOptions<T>>(\n    config,\n    InternalDistanceAngleOptionsNormalizers\n  )\n}\n\nexport function getInternalDragOptions(config: DragConfig = {}): InternalDragOptions {\n  return resolveWith<DragConfig, InternalDragOptions>(config, InternalDragOptionsNormalizers)\n}\n","import {\n  InternalConfig,\n  UseMoveConfig,\n  UseHoverConfig,\n  UseDragConfig,\n  UsePinchConfig,\n  UseScrollConfig,\n  UseWheelConfig,\n} from '../types'\n\nimport {\n  getInternalGenericOptions,\n  getInternalCoordinatesOptions,\n  getInternalDragOptions,\n  getInternalDistanceAngleOptions,\n} from '../utils/config'\n\nimport { UseGestureConfig } from '../types'\n\nexport function _buildMoveConfig({ domTarget, eventOptions, window, enabled, ...rest }: UseMoveConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.move = getInternalCoordinatesOptions(rest)\n  return opts\n}\n\nexport function _buildHoverConfig({ domTarget, eventOptions, window, enabled, ...rest }: UseHoverConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.hover = { enabled: true, ...rest }\n  return opts\n}\n\nexport function _buildDragConfig({ domTarget, eventOptions, window, enabled, ...rest }: UseDragConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.drag = getInternalDragOptions(rest)\n  return opts\n}\n\nexport function _buildPinchConfig({ domTarget, eventOptions, window, enabled, ...rest }: UsePinchConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.pinch = getInternalDistanceAngleOptions(rest)\n  return opts\n}\n\nexport function _buildScrollConfig({ domTarget, eventOptions, window, enabled, ...rest }: UseScrollConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.scroll = getInternalCoordinatesOptions(rest)\n  return opts\n}\n\nexport function _buildWheelConfig({ domTarget, eventOptions, window, enabled, ...rest }: UseWheelConfig) {\n  const opts: InternalConfig = getInternalGenericOptions({ domTarget, eventOptions, window, enabled })\n  opts.wheel = getInternalCoordinatesOptions(rest)\n  return opts\n}\n\nexport function buildComplexConfig(config: UseGestureConfig = {}, actions: Set<string> = new Set()) {\n  const { drag, wheel, move, scroll, pinch, hover, eventOptions, window, transform, domTarget, enabled } = config\n\n  const mergedConfig: InternalConfig = getInternalGenericOptions({\n    domTarget,\n    eventOptions,\n    transform,\n    window,\n    enabled,\n  })\n\n  if (actions.has('onDrag')) mergedConfig.drag = getInternalDragOptions(drag)\n  if (actions.has('onWheel')) mergedConfig.wheel = getInternalCoordinatesOptions(wheel)\n  if (actions.has('onScroll')) mergedConfig.scroll = getInternalCoordinatesOptions(scroll)\n  if (actions.has('onMove')) mergedConfig.move = getInternalCoordinatesOptions(move)\n  if (actions.has('onPinch')) mergedConfig.pinch = getInternalDistanceAngleOptions(pinch)\n  if (actions.has('onHover')) mergedConfig.hover = { enabled: true, ...hover }\n\n  return mergedConfig\n}\n","import { noop } from './utils'\nimport { CommonGestureState, Coordinates, State, DistanceAngle, Vector2, DragState, PinchState } from '../types'\n\nfunction getInitial<T>(mixed: T): T & CommonGestureState {\n  return {\n    _active: false,\n    _blocked: false,\n    _intentional: [false, false],\n    _movement: [0, 0],\n    _initial: [0, 0],\n    _bounds: [\n      [-Infinity, Infinity],\n      [-Infinity, Infinity],\n    ],\n    _threshold: [0, 0],\n    _lastEventType: undefined,\n    _dragStarted: false,\n    _dragPreventScroll: false,\n    _dragIsTap: true,\n    _dragDelayed: false,\n    event: undefined,\n    intentional: false,\n    values: [0, 0],\n    velocities: [0, 0],\n    delta: [0, 0],\n    movement: [0, 0],\n    offset: [0, 0],\n    lastOffset: [0, 0],\n    direction: [0, 0],\n    initial: [0, 0],\n    previous: [0, 0],\n    first: false,\n    last: false,\n    active: false,\n    timeStamp: 0,\n    startTime: 0,\n    elapsedTime: 0,\n    cancel: noop,\n    canceled: false,\n    memo: undefined,\n    args: undefined,\n    ...mixed,\n  }\n}\n\nexport function getInitialState(): State {\n  const shared = {\n    hovering: false,\n    scrolling: false,\n    wheeling: false,\n    dragging: false,\n    moving: false,\n    pinching: false,\n    touches: 0,\n    buttons: 0,\n    down: false,\n    shiftKey: false,\n    altKey: false,\n    metaKey: false,\n    ctrlKey: false,\n    locked: false,\n  }\n\n  const drag = getInitial<DragState & Coordinates>({\n    _pointerId: undefined,\n    axis: undefined,\n    xy: [0, 0] as Vector2,\n    vxvy: [0, 0] as Vector2,\n    velocity: 0,\n    distance: 0,\n    tap: false,\n    swipe: [0, 0],\n  })\n\n  const pinch = getInitial<DistanceAngle & PinchState>({\n    // @ts-expect-error when used _pointerIds we can assert its type will be [number, number]\n    _pointerIds: [],\n    da: [0, 0] as Vector2,\n    vdva: [0, 0] as Vector2,\n    // @ts-expect-error origin can never be passed as undefined in userland\n    origin: undefined,\n    turns: 0,\n  })\n\n  const wheel = getInitial<Coordinates>({\n    axis: undefined,\n    xy: [0, 0] as Vector2,\n    vxvy: [0, 0] as Vector2,\n    velocity: 0,\n    distance: 0,\n  })\n\n  const move = getInitial<Coordinates>({\n    axis: undefined,\n    xy: [0, 0] as Vector2,\n    vxvy: [0, 0] as Vector2,\n    velocity: 0,\n    distance: 0,\n  })\n\n  const scroll = getInitial<Coordinates>({\n    axis: undefined,\n    xy: [0, 0] as Vector2,\n    vxvy: [0, 0] as Vector2,\n    velocity: 0,\n    distance: 0,\n  })\n\n  return { shared, drag, pinch, wheel, move, scroll }\n}\n","import Controller from '../Controller'\nimport {\n  StateKey,\n  SharedGestureState,\n  IngKey,\n  InternalConfig,\n  GestureKey,\n  GestureState,\n  EventTypes,\n  PartialGestureState,\n  Vector2,\n  FullGestureState,\n  RecognizerClass,\n} from '../types'\nimport { getInitialState } from '../utils/state'\nimport { rubberbandIfOutOfBounds } from '../utils/rubberband'\nimport { subV, addV, sign } from '../utils/math'\nimport { valueFn } from '../utils/utils'\n\nexport const RecognizersMap = new Map<GestureKey, RecognizerClass>()\n\nconst identity = (xy: Vector2) => xy\n\n/**\n * @private\n * Recognizer abstract class.\n */\nexport default abstract class Recognizer<T extends StateKey = StateKey> {\n  abstract readonly ingKey: IngKey // dragging, scrolling, etc.\n  protected debounced: Boolean = true\n  abstract readonly stateKey: T\n\n  /**\n   * Creates an instance of a gesture recognizer.\n   * @param stateKey drag, move, pinch, etc.\n   * @param controller the controller attached to the gesture\n   * @param [args] the args that should be passed to the gesture handler\n   */\n  constructor(readonly controller: Controller, readonly args: any[] = []) {\n    this.controller = controller\n    this.args = args\n  }\n\n  // Returns the gesture config\n  get config(): NonNullable<InternalConfig[T]> {\n    return this.controller.config[this.stateKey]!\n  }\n\n  // Is the gesture enabled\n  get enabled(): boolean {\n    return this.controller.config.enabled && this.config.enabled\n  }\n\n  // Returns the controller state for a given gesture\n  get state(): GestureState<T> {\n    return this.controller.state[this.stateKey]\n  }\n\n  // Returns the gesture handler\n  get handler() {\n    return this.controller.handlers[this.stateKey]!\n  }\n\n  get transform() {\n    return this.config.transform || this.controller.config.transform || identity\n  }\n\n  // Convenience method to update the shared state\n  protected updateSharedState(sharedState: Partial<SharedGestureState> | null) {\n    Object.assign(this.controller.state.shared, sharedState)\n  }\n\n  // Convenience method to update the gesture state\n  protected updateGestureState(gestureState: PartialGestureState<T> | null) {\n    Object.assign(this.state, gestureState)\n  }\n\n  // Convenience method to set a timeout for a given gesture\n  protected setTimeout = (callback: (...args: any[]) => void, ms: number = 140, ...args: any[]): void => {\n    clearTimeout(this.controller.timeouts[this.stateKey])\n    this.controller.timeouts[this.stateKey] = window.setTimeout(callback, ms, ...args)\n  }\n\n  // Convenience method to clear a timeout for a given gesture\n  protected clearTimeout = () => {\n    clearTimeout(this.controller.timeouts[this.stateKey])\n  }\n\n  protected abstract getKinematics(values: Vector2, event: React.UIEvent | UIEvent): PartialGestureState<T>\n\n  protected abstract getInternalMovement(values: Vector2, state: GestureState<T>): Vector2\n\n  protected abstract mapStateValues(state: GestureState<T>): Omit<PartialGestureState<T>, 'event'>\n\n  public abstract addBindings(bindings: any): void\n\n  /**\n   * Returns state properties depending on the movement and state.\n   *\n   * Should be overriden for custom behavior, doesn't do anything in the implementation\n   * below.\n   */\n  protected checkIntentionality(\n    _intentional: [false | number, false | number],\n    _movement: Vector2\n  ): PartialGestureState<T> {\n    return { _intentional, _blocked: false } as PartialGestureState<T>\n  }\n\n  /**\n   * Returns basic movement properties for the gesture based on the next values and current state.\n   */\n  protected getMovement(values: Vector2): PartialGestureState<T> {\n    const { rubberband } = this.config\n\n    const {\n      _bounds,\n      _initial,\n      _active,\n      _intentional: wasIntentional,\n      lastOffset,\n      movement: prevMovement,\n      _threshold: _T,\n    } = this.state\n    const M = this.getInternalMovement(values, this.state)\n\n    const i0 = wasIntentional[0] === false ? getIntentionalDisplacement(M[0], _T[0]) : wasIntentional[0]\n    const i1 = wasIntentional[1] === false ? getIntentionalDisplacement(M[1], _T[1]) : wasIntentional[1]\n\n    // Get gesture specific state properties based on intentionality and movement.\n    const intentionalityCheck = this.checkIntentionality([i0, i1], M)\n    if (intentionalityCheck._blocked) {\n      return { ...intentionalityCheck, _movement: M, delta: [0, 0] }\n    }\n\n    const _intentional = intentionalityCheck._intentional!\n    const _movement = M\n\n    /**\n     * The movement sent to the handler has 0 in its dimensions when intentionality is false.\n     * It is calculated from the actual movement minus the threshold.\n     */\n    let movement: Vector2 = [\n      _intentional[0] !== false ? M[0] - _intentional[0] : 0,\n      _intentional[1] !== false ? M[1] - _intentional[1] : 0,\n    ]\n\n    const offset = addV(movement, lastOffset)\n\n    /**\n     * Rubberband should be 0 when the gesture is no longer active, so that movement\n     * and offset can return within their bounds.\n     */\n    const _rubberband: Vector2 = _active ? rubberband : [0, 0]\n    movement = computeRubberband(_bounds, addV(movement, _initial), _rubberband)\n\n    return {\n      ...intentionalityCheck,\n      intentional: _intentional[0] !== false || _intentional[1] !== false,\n      _initial,\n      _movement,\n      movement,\n      values,\n      offset: computeRubberband(_bounds, offset, _rubberband),\n      delta: subV(movement, prevMovement),\n    } as PartialGestureState<T>\n  }\n\n  // Cleans the gesture. Can be overriden by gestures.\n  protected clean() {\n    this.clearTimeout()\n  }\n\n  /**\n   * Fires the gesture handler\n   */\n  protected fireGestureHandler = (forceFlag: boolean = false): FullGestureState<T> | null => {\n    /**\n     * If the gesture has been blocked (this can happen when the gesture has started in an unwanted direction),\n     * clean everything and don't do anything.\n     */\n    if (this.state._blocked) {\n      // we need debounced gestures to end by themselves\n      if (!this.debounced) {\n        this.state._active = false\n        this.clean()\n      }\n      return null\n    }\n\n    // If the gesture has no intentional dimension, don't fire the handler.\n    if (!forceFlag && !this.state.intentional && !this.config.triggerAllEvents) return null\n\n    if (this.state.intentional) {\n      const prev_active = this.state.active\n      const next_active = this.state._active\n\n      this.state.active = next_active\n      this.state.first = next_active && !prev_active\n      this.state.last = prev_active && !next_active\n\n      this.controller.state.shared[this.ingKey] = next_active // Sets dragging, pinching, etc. to the gesture active state\n    }\n    const touches = this.controller.pointerIds.size || this.controller.touchIds.size\n    const down = this.controller.state.shared.buttons > 0 || touches > 0\n\n    const state = {\n      ...this.controller.state.shared,\n      ...this.state,\n      ...this.mapStateValues(this.state), // Sets xy or da to the gesture state values\n      locked: !!document.pointerLockElement,\n      touches,\n      down,\n    } as FullGestureState<T>\n\n    // @ts-expect-error\n    const newMemo = this.handler(state)\n\n    // Sets memo to the returned value of the handler (unless it's not undefined)\n    this.state.memo = newMemo !== void 0 ? newMemo : this.state.memo\n\n    return state\n  }\n}\n\n//--------------------------------------------\n\nfunction getIntentionalDisplacement(movement: number, threshold: number): number | false {\n  if (Math.abs(movement) >= threshold) {\n    return sign(movement) * threshold\n  } else {\n    return false\n  }\n}\n\nfunction computeRubberband(bounds: [Vector2, Vector2], [Vx, Vy]: Vector2, [Rx, Ry]: Vector2): Vector2 {\n  const [[X1, X2], [Y1, Y2]] = bounds\n\n  return [rubberbandIfOutOfBounds(Vx, X1, X2, Rx), rubberbandIfOutOfBounds(Vy, Y1, Y2, Ry)]\n}\n\n/**\n * Returns a generic, common payload for all gestures from an event.\n */\nexport function getGenericPayload<T extends StateKey>(\n  { state }: Recognizer<T>,\n  event: EventTypes[T],\n  isStartEvent?: boolean\n) {\n  const { timeStamp, type: _lastEventType } = event\n  const previous = state.values\n  const elapsedTime = isStartEvent ? 0 : timeStamp - state.startTime!\n  return { _lastEventType, event, timeStamp, elapsedTime, previous }\n}\n\n/**\n * Returns the reinitialized start state for the gesture.\n * Should be common to all gestures.\n */\nexport function getStartGestureState<T extends StateKey>(\n  { state, config, stateKey, args, transform }: Recognizer<T>,\n  values: Vector2,\n  event: EventTypes[T],\n  initial?: Vector2\n) {\n  const offset = state.offset\n  const startTime = event.timeStamp\n\n  const { initial: initialFn, bounds, threshold } = config\n\n  // the _threshold is the difference between a [0,0] offset converted to\n  // its new space coordinates\n  const _threshold = subV(transform(threshold), transform([0, 0])).map(Math.abs)\n\n  const _state = {\n    ...getInitialState()[stateKey],\n    _active: true,\n    args,\n    values,\n    initial: initial ?? values,\n    _threshold,\n    offset,\n    lastOffset: offset,\n    startTime,\n  }\n\n  return { ..._state, _initial: valueFn(initialFn, _state), _bounds: valueFn(bounds, _state) }\n}\n","import {\n  StateKey,\n  State,\n  Fn,\n  ReactEventHandlerKey,\n  ReactEventHandlers,\n  InternalConfig,\n  InternalHandlers,\n  RecognizerClass,\n} from './types'\nimport { supportsTouchEvents, supportsGestureEvents, getTouchIds } from './utils/event'\nimport { getInitialState } from './utils/state'\nimport { chainFns } from './utils/utils'\n\n/**\n * The controller will keep track of the state for all gestures and also keep\n * track of timeouts, and window listeners.\n */\nexport default class Controller {\n  public nativeRefs!: any\n  public config!: InternalConfig\n  public handlers!: InternalHandlers\n  public state: State // state for all gestures\n  public timeouts: { [stateKey in StateKey]?: number } // tracks timeouts of debounced gestures\n  public domListeners: [string, Fn][] // when config.domTarget is set, we attach events directly to the dom\n  public windowListeners: { [stateKey in StateKey]?: [string, Function][] } // keeps track of window listeners added by gestures (drag only at the moment)\n\n  public pointerIds = new Set<number>() // register Pointer Events pointerIds\n  public touchIds = new Set<number>() // register Touch Events identifiers\n  public supportsTouchEvents = supportsTouchEvents()\n  public supportsGestureEvents = supportsGestureEvents()\n\n  constructor(private classes: Set<RecognizerClass>) {\n    this.classes = classes\n    this.state = getInitialState()\n    this.timeouts = {}\n    this.domListeners = []\n    this.windowListeners = {}\n  }\n\n  public bind = (...args: any[]) => {\n    const bindings: { [key: string]: Function[] } = {}\n\n    for (let RecognizerClass of this.classes) new RecognizerClass(this, args).addBindings(bindings)\n\n    // // we also add event bindings for native handlers\n    for (let eventKey in this.nativeRefs) {\n      addBindings(bindings, eventKey, (event: any) => this.nativeRefs[eventKey]({ ...this.state.shared, event, args }))\n    }\n\n    if (this.config.domTarget) {\n      // If config.domTarget is set we add event listeners to it and return the clean function.\n      return updateDomListeners(this, bindings)\n    } else {\n      // If not, we return an object that contains gesture handlers mapped to react handler event keys.\n      return getPropsListener(this, bindings)\n    }\n  }\n\n  public effect = () => {\n    if (this.config.domTarget) this.bind()\n    return this.clean\n  }\n\n  /**\n   * Function ran on component unmount: cleans timeouts and removes dom listeners set by the bind function.\n   */\n  public clean = (): void => {\n    const domTarget = getDomTargetFromConfig(this.config)\n    const { eventOptions } = this.config\n    if (domTarget) removeListeners(domTarget, takeAll(this.domListeners), eventOptions)\n    Object.values(this.timeouts).forEach(clearTimeout)\n    clearAllWindowListeners(this)\n  }\n}\n\nexport function addEventIds(\n  controller: Controller,\n  event: React.TouchEvent | TouchEvent | React.PointerEvent | PointerEvent\n) {\n  if ('pointerId' in event) {\n    controller.pointerIds.add(event.pointerId)\n  } else {\n    controller.touchIds = new Set(getTouchIds(event))\n  }\n}\n\nexport function removeEventIds(\n  controller: Controller,\n  event: React.TouchEvent | TouchEvent | React.PointerEvent | PointerEvent\n) {\n  if ('pointerId' in event) {\n    controller.pointerIds.delete(event.pointerId)\n  } else {\n    getTouchIds(event).forEach(id => controller.touchIds.delete(id))\n  }\n}\n\nexport function clearAllWindowListeners(controller: Controller) {\n  const {\n    config: { window: el, eventOptions },\n    windowListeners,\n  } = controller\n  if (!el) return\n\n  for (let stateKey in windowListeners) {\n    const handlers = windowListeners[stateKey as StateKey]\n    removeListeners(el, handlers, eventOptions)\n  }\n\n  controller.windowListeners = {}\n}\n\nexport function clearWindowListeners(\n  { config, windowListeners }: Controller,\n  stateKey: StateKey,\n  options = config.eventOptions\n) {\n  if (!config.window) return\n  removeListeners(config.window, windowListeners[stateKey], options)\n  delete windowListeners[stateKey]\n}\n\nexport function updateWindowListeners(\n  { config, windowListeners }: Controller,\n  stateKey: StateKey,\n  listeners: [string, Fn][] = [],\n  options = config.eventOptions\n) {\n  if (!config.window) return\n  removeListeners(config.window, windowListeners[stateKey], options)\n  addListeners(config.window, (windowListeners[stateKey] = listeners), options)\n}\n\nfunction updateDomListeners({ config, domListeners }: Controller, bindings: { [key: string]: Function[] }) {\n  const domTarget = getDomTargetFromConfig(config)\n  if (!domTarget) throw new Error('domTarget must be defined')\n  const { eventOptions } = config\n\n  removeListeners(domTarget, takeAll(domListeners), eventOptions)\n\n  for (let [key, fns] of Object.entries(bindings)) {\n    const name = key.slice(2).toLowerCase()\n    domListeners.push([name, chainFns(...fns)])\n  }\n\n  addListeners(domTarget, domListeners, eventOptions)\n}\n\nfunction getPropsListener({ config }: Controller, bindings: { [key: string]: Function[] }) {\n  const props: ReactEventHandlers = {}\n  const captureString = config.eventOptions.capture ? 'Capture' : ''\n  for (let [event, fns] of Object.entries(bindings)) {\n    const fnsArray = Array.isArray(fns) ? fns : [fns]\n    const key = (event + captureString) as ReactEventHandlerKey\n    props[key] = chainFns(...(fnsArray as Fn[]))\n  }\n  return props\n}\n\nfunction takeAll<T>(array: Array<T> = []) {\n  return array.splice(0, array.length)\n}\n\nfunction getDomTargetFromConfig({ domTarget }: InternalConfig) {\n  return domTarget && 'current' in domTarget ? domTarget.current : domTarget\n}\n\n/**\n * bindings is an object which keys match ReactEventHandlerKeys.\n * Since a recognizer might want to bind a handler function to an event key already used by a previously\n * added recognizer, we need to make sure that each event key is an array of all the functions mapped for\n * that key.\n */\nexport function addBindings(bindings: any, name: string, fn: Fn): void {\n  if (!bindings[name]) bindings[name] = []\n  bindings[name]!.push(fn)\n}\n\nfunction addListeners(el: EventTarget, listeners: Array<[string, Fn]> = [], options = {}) {\n  for (let [eventName, eventHandler] of listeners) {\n    el.addEventListener(eventName, eventHandler, options)\n  }\n}\n\nfunction removeListeners(el: EventTarget, listeners: Array<[string, Fn]> = [], options = {}) {\n  for (let [eventName, eventHandler] of listeners) {\n    el.removeEventListener(eventName, eventHandler, options)\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport React from 'react'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport Controller from '../Controller'\nimport {\n  InternalConfig,\n  HookReturnType,\n  InternalHandlers,\n  GenericOptions,\n  RecognizerClass,\n  NativeHandlers,\n} from '../types'\n\n/**\n * Utility hook called by all gesture hooks and that will be responsible for the internals.\n *\n * @param handlers\n * @param classes\n * @param config\n * @param nativeHandlers - native handlers such as onClick, onMouseDown, etc.\n */\nexport default function useRecognizers<Config extends Partial<GenericOptions>>(\n  handlers: Partial<InternalHandlers>,\n  config: InternalConfig,\n  nativeHandlers: Partial<NativeHandlers> = {}\n): (...args: any[]) => HookReturnType<Config> {\n  const classes = resolveClasses(handlers)\n\n  const controller = React.useMemo(() => new Controller(classes), [])\n  controller!.config = config\n  controller!.handlers = handlers\n  controller!.nativeRefs = nativeHandlers\n\n  React.useEffect(controller.effect, [])\n\n  // @ts-ignore\n  if (controller.config.domTarget) return deprecationNoticeForDomTarget\n  // @ts-ignore\n  return controller.bind\n}\n\nfunction deprecationNoticeForDomTarget() {\n  if (process.env.NODE_ENV === 'development') {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Deprecation notice: When the \\`domTarget\\` option is specified, you don't need to write \\`useEffect(bind, [bind])\\` anymore: event binding is now made handled internally to this lib.\\n\\nNext version won't return anything when \\`domTarget\\` is provided, therefore your code will break if you try to call \\`useEffect\\`.`\n    )\n  }\n}\n\nfunction resolveClasses(internalHandlers: Partial<InternalHandlers>) {\n  const classes = new Set<RecognizerClass>()\n\n  if (internalHandlers.drag) classes.add(RecognizersMap.get('drag')!)\n  if (internalHandlers.wheel) classes.add(RecognizersMap.get('wheel')!)\n  if (internalHandlers.scroll) classes.add(RecognizersMap.get('scroll')!)\n  if (internalHandlers.move) classes.add(RecognizersMap.get('move')!)\n  if (internalHandlers.pinch) classes.add(RecognizersMap.get('pinch')!)\n  if (internalHandlers.hover) classes.add(RecognizersMap.get('hover')!)\n\n  return classes\n}\n","import Recognizer from './Recognizer'\nimport { calculateAllKinematics, subV } from '../utils/math'\nimport { Vector2, PartialGestureState, GestureState, CoordinatesKey } from '../types'\n\n/**\n * @private\n * Abstract class for coordinates-based gesture recongizers\n */\nexport default abstract class CoordinatesRecognizer<T extends CoordinatesKey> extends Recognizer<T> {\n  /**\n   * Returns the real movement (without taking intentionality into account)\n   */\n  protected getInternalMovement(values: Vector2, state: GestureState<T>): Vector2 {\n    return subV(values, state.initial)\n  }\n\n  /**\n   * In coordinates-based gesture, this function will detect the first intentional axis,\n   * lock the gesture axis if lockDirection is specified in the config, block the gesture\n   * if the first intentional axis doesn't match the specified axis in config.\n   */\n  protected checkIntentionality(\n    _intentional: [false | number, false | number],\n    _movement: Vector2\n  ): PartialGestureState<T> {\n    if (_intentional[0] === false && _intentional[1] === false) {\n      return { _intentional, axis: this.state.axis } as PartialGestureState<T>\n    }\n    const [absX, absY] = _movement.map(Math.abs)\n    const axis = this.state.axis || (absX > absY ? 'x' : absX < absY ? 'y' : undefined)\n    if (!this.config.axis && !this.config.lockDirection) return { _intentional, _blocked: false, axis } as any\n    if (!axis) return { _intentional: [false, false], _blocked: false, axis } as any\n    if (!!this.config.axis && axis !== this.config.axis) return { _intentional, _blocked: true, axis } as any\n    _intentional![axis === 'x' ? 1 : 0] = false\n    return { _intentional, _blocked: false, axis } as any\n  }\n\n  getKinematics(values: Vector2, event: React.UIEvent | UIEvent): PartialGestureState<T> {\n    const state = this.getMovement(values)\n    if (!state._blocked) {\n      const dt = event.timeStamp - this.state.timeStamp!\n      Object.assign(state, calculateAllKinematics(state.movement!, state.delta!, dt))\n    }\n    return state\n  }\n\n  protected mapStateValues(state: GestureState<T>): Omit<PartialGestureState<T>, 'event'> {\n    return { xy: state.values, vxvy: state.velocities } as Omit<PartialGestureState<T>, 'event'>\n  }\n}\n","import CoordinatesRecognizer from './CoordinatesRecognizer'\nimport { getPointerEventValues, getGenericEventData } from '../utils/event'\nimport { addV, calculateDistance, sign } from '../utils/math'\nimport { getStartGestureState, getGenericPayload } from './Recognizer'\nimport { addBindings, updateWindowListeners, clearWindowListeners, addEventIds, removeEventIds } from '../Controller'\n\nexport const TAP_DISTANCE_THRESHOLD = 3\nexport const SWIPE_MAX_ELAPSED_TIME = 220\n\nfunction persistEvent(event: React.PointerEvent | PointerEvent) {\n  'persist' in event && typeof event.persist === 'function' && event.persist()\n}\n\nexport class DragRecognizer extends CoordinatesRecognizer<'drag'> {\n  readonly ingKey = 'dragging'\n  readonly stateKey = 'drag'\n\n  // TODO add back when setPointerCapture is widely wupported\n  // https://caniuse.com/#search=setPointerCapture\n  private setPointerCapture = (event: React.PointerEvent | PointerEvent) => {\n    // don't perform pointere capture when user wants to use touch events or\n    // when a pointerLockElement exists as this would throw an error\n    if (this.config.useTouch || document.pointerLockElement) return\n\n    const { target, pointerId } = event\n    if (target && 'setPointerCapture' in target) {\n      // this would work in the DOM but doesn't with react three fiber\n      // target.addEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n      // @ts-expect-error\n      target.setPointerCapture(pointerId)\n    }\n    this.updateGestureState({ _dragTarget: target, _dragPointerId: pointerId })\n  }\n\n  private releasePointerCapture = () => {\n    if (this.config.useTouch || document.pointerLockElement) return\n\n    const { _dragTarget, _dragPointerId } = this.state\n    if (_dragPointerId && _dragTarget && 'releasePointerCapture' in _dragTarget) {\n      // this would work in the DOM but doesn't with react three fiber\n      // target.removeEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n      if (!('hasPointerCapture' in _dragTarget) || _dragTarget.hasPointerCapture(_dragPointerId))\n        try {\n          _dragTarget.releasePointerCapture(_dragPointerId)\n        } catch (e) {}\n    }\n  }\n\n  private preventScroll = (event: TouchEvent) => {\n    if (this.state._dragPreventScroll && event.cancelable) {\n      event.preventDefault()\n    }\n  }\n\n  private getEventId = (event: any): number => {\n    if (this.config.useTouch) return event.changedTouches[0].identifier\n    return event.pointerId\n  }\n\n  private isValidEvent = (event: any) => {\n    // if we were using pointer events only event.isPrimary === 1 would suffice\n    return this.state._pointerId === this.getEventId(event)\n  }\n\n  private shouldPreventWindowScrollY =\n    this.config.experimental_preventWindowScrollY && this.controller.supportsTouchEvents\n\n  private setUpWindowScrollDetection = (event: React.PointerEvent | PointerEvent) => {\n    persistEvent(event)\n    // we add window listeners that will prevent the scroll when the user has started dragging\n    updateWindowListeners(\n      this.controller,\n      this.stateKey,\n      [\n        ['touchmove', this.preventScroll],\n        ['touchend', this.clean.bind(this)],\n        ['touchcancel', this.clean.bind(this)],\n      ],\n      { passive: false }\n    )\n    this.setTimeout(this.startDrag.bind(this), 250, event)\n  }\n\n  private setUpDelayedDragTrigger = (event: React.PointerEvent | PointerEvent) => {\n    this.state._dragDelayed = true\n    persistEvent(event)\n    this.setTimeout(this.startDrag.bind(this), this.config.delay, event)\n  }\n\n  private setStartState = (event: React.PointerEvent | PointerEvent) => {\n    const values = getPointerEventValues(event, this.transform)\n    this.updateSharedState(getGenericEventData(event))\n\n    this.updateGestureState({\n      ...getStartGestureState(this, values, event),\n      ...getGenericPayload(this, event, true),\n      _pointerId: this.getEventId(event), // setting pointerId locks the gesture to this specific event\n    })\n\n    this.updateGestureState(this.getMovement(values))\n  }\n\n  onDragStart = (event: React.PointerEvent | PointerEvent): void => {\n    addEventIds(this.controller, event)\n    if (!this.enabled || this.state._active) return\n\n    this.setStartState(event)\n    this.setPointerCapture(event as PointerEvent)\n\n    if (this.shouldPreventWindowScrollY) this.setUpWindowScrollDetection(event)\n    else if (this.config.delay > 0) this.setUpDelayedDragTrigger(event)\n    else this.startDrag(event, true) // we pass the values to the startDrag event\n  }\n\n  startDrag(event: React.PointerEvent | PointerEvent, onDragIsStart: boolean = false) {\n    // startDrag can happen after a timeout, so we need to check if the gesture is still active\n    // as the user might have lift up the pointer in between.\n\n    if (\n      // if the gesture isn't active (probably means)\n      !this.state._active ||\n      // if the drag has already started we should ignore subsequent attempts\n      this.state._dragStarted\n    )\n      return\n\n    if (!onDragIsStart) this.setStartState(event)\n    this.updateGestureState({ _dragStarted: true, _dragPreventScroll: true, cancel: this.onCancel })\n    this.clearTimeout()\n    this.fireGestureHandler()\n  }\n\n  onDragChange = (event: PointerEvent): void => {\n    if (\n      // if the gesture was canceled or\n      this.state.canceled ||\n      // if onDragStart wasn't fired or\n      !this.state._active ||\n      // if the event pointerId doesn't match the one that initiated the drag\n      !this.isValidEvent(event) ||\n      // if the event has the same timestamp as the previous event\n      // note that checking type equality is ONLY for tests ¯\\_(ツ)_/¯\n      (this.state._lastEventType === event.type && event.timeStamp === this.state.timeStamp)\n    )\n      return\n\n    let values\n\n    if (document.pointerLockElement) {\n      const { movementX, movementY } = event\n      values = addV(this.transform([movementX, movementY]), this.state.values)\n    } else values = getPointerEventValues(event, this.transform)\n\n    const kinematics = this.getKinematics(values, event)\n\n    // if startDrag hasn't fired\n    if (!this.state._dragStarted) {\n      // If the gesture isn't active then respond to the event only if\n      // it's been delayed via the `delay` option, in which case start\n      // the gesture immediately.\n      if (this.state._dragDelayed) {\n        this.startDrag(event)\n        return\n      }\n      // if the user wants to prevent vertical window scroll when user starts dragging\n      if (this.shouldPreventWindowScrollY) {\n        if (!this.state._dragPreventScroll && kinematics.axis) {\n          // if the user is dragging horizontally then we should allow the drag\n          if (kinematics.axis === 'x') {\n            this.startDrag(event)\n          } else {\n            this.state._active = false\n            return\n          }\n        } else return\n      } else return\n    }\n\n    const genericEventData = getGenericEventData(event)\n\n    this.updateSharedState(genericEventData)\n    const genericPayload = getGenericPayload(this, event)\n\n    // This verifies if the drag can be assimilated to a tap by checking\n    // if the real distance of the drag (ie not accounting for the threshold) is\n    // greater than the TAP_DISTANCE_THRESHOLD.\n    const realDistance = calculateDistance(kinematics._movement!)\n    let { _dragIsTap } = this.state\n    if (_dragIsTap && realDistance >= TAP_DISTANCE_THRESHOLD) _dragIsTap = false\n\n    this.updateGestureState({ ...genericPayload, ...kinematics, _dragIsTap })\n\n    this.fireGestureHandler()\n  }\n\n  onDragEnd = (event: PointerEvent): void => {\n    removeEventIds(this.controller, event)\n\n    // if the event pointerId doesn't match the one that initiated the drag\n    // we don't want to end the drag\n    if (!this.isValidEvent(event)) return\n    this.clean()\n\n    // if the gesture is no longer active (ie canceled)\n    // don't do anything\n    if (!this.state._active) return\n    this.state._active = false\n\n    const tap = this.state._dragIsTap\n    const [vx, vy] = this.state.velocities\n    const [mx, my] = this.state.movement\n    const [ix, iy] = this.state._intentional\n    const [svx, svy] = this.config.swipeVelocity\n    const [sx, sy] = this.config.swipeDistance\n    const sd = this.config.swipeDuration\n\n    const endState = {\n      ...getGenericPayload(this, event),\n      ...this.getMovement(this.state.values),\n    }\n\n    const swipe: [number, number] = [0, 0]\n\n    if (endState.elapsedTime < sd) {\n      if (ix !== false && Math.abs(vx) > svx && Math.abs(mx) > sx) swipe[0] = sign(vx)\n      if (iy !== false && Math.abs(vy) > svy && Math.abs(my) > sy) swipe[1] = sign(vy)\n    }\n\n    this.updateSharedState({ buttons: 0 })\n    this.updateGestureState({ ...endState, tap, swipe })\n    this.fireGestureHandler(this.config.filterTaps && tap === true)\n  }\n\n  clean = (): void => {\n    super.clean()\n    this.state._dragStarted = false\n    this.releasePointerCapture()\n    clearWindowListeners(this.controller, this.stateKey)\n  }\n\n  onCancel = (): void => {\n    if (this.state.canceled) return\n    this.updateGestureState({ canceled: true, _active: false })\n    this.updateSharedState({ buttons: 0 })\n    setTimeout(() => this.fireGestureHandler(), 0)\n  }\n\n  onClick = (event: React.UIEvent | UIEvent): void => {\n    if (!this.state._dragIsTap) event.stopPropagation()\n  }\n\n  addBindings(bindings: any): void {\n    if (this.config.useTouch) {\n      addBindings(bindings, 'onTouchStart', this.onDragStart)\n      addBindings(bindings, 'onTouchMove', this.onDragChange) // this is needed for react-three-fiber\n      addBindings(bindings, 'onTouchEnd', this.onDragEnd)\n      addBindings(bindings, 'onTouchCancel', this.onDragEnd)\n    } else {\n      addBindings(bindings, 'onPointerDown', this.onDragStart)\n      addBindings(bindings, 'onPointerMove', this.onDragChange) // this is needed for react-three-fiber\n      addBindings(bindings, 'onPointerUp', this.onDragEnd)\n      addBindings(bindings, 'onPointerCancel', this.onDragEnd)\n    }\n\n    if (this.config.filterTaps) {\n      const handler = this.controller.config.eventOptions.capture ? 'onClick' : 'onClickCapture'\n      addBindings(bindings, handler, this.onClick)\n    }\n  }\n}\n","/**\n * Inlined from https://github.com/alexreardon/memoize-one\n */\n\nexport type EqualityFn = (newArgs: any[], lastArgs: any[]) => boolean\n\nexport default function memoizeOne<ResultFn extends (this: any, ...newArgs: any[]) => ReturnType<ResultFn>>(\n  resultFn: ResultFn,\n  isEqual: EqualityFn\n): ResultFn {\n  let lastThis: unknown\n  let lastArgs: unknown[] = []\n  let lastResult: ReturnType<ResultFn>\n  let calledOnce: boolean = false\n\n  function memoized(this: unknown, ...newArgs: unknown[]): ReturnType<ResultFn> {\n    if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n      return lastResult\n    }\n\n    lastResult = resultFn.apply(this, newArgs)\n    calledOnce = true\n    lastThis = this\n    lastArgs = newArgs\n    return lastResult\n  }\n\n  return memoized as ResultFn\n}\n","/**\n * Taken from https://github.com/FormidableLabs/react-fast-compare\n *\n * Dropped comments and ArrayBuffer handling\n */\n\nfunction equal(a: any, b: any): boolean {\n  if (a === b) return true\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false\n\n    let length, i, keys\n    if (Array.isArray(a)) {\n      length = a.length\n      if (length !== b.length) return false\n      for (i = length; i-- !== 0; ) if (!equal(a[i], b[i])) return false\n      return true\n    }\n\n    let it\n    if (typeof Map === 'function' && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false\n      it = a.entries()\n      while (!(i = it.next()).done) if (!b.has(i.value[0])) return false\n      it = a.entries()\n      while (!(i = it.next()).done) if (!equal(i.value[1], b.get(i.value[0]))) return false\n      return true\n    }\n\n    if (typeof Set === 'function' && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false\n      it = a.entries()\n      while (!(i = it.next()).done) if (!b.has(i.value[0])) return false\n      return true\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf()\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString()\n\n    keys = Object.keys(a)\n    length = keys.length\n    if (length !== Object.keys(b).length) return false\n\n    for (i = length; i-- !== 0; ) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false\n\n    if (typeof Element !== 'undefined' && a instanceof Element) return false\n\n    for (i = length; i-- !== 0; ) {\n      if (keys[i] === '_owner' && a.$$typeof) continue\n      if (!equal(a[keys[i]], b[keys[i]])) return false\n    }\n    return true\n  }\n\n  // true if both NaN, false otherwise — NaN !== NaN → true\n  // eslint-disable-next-line no-self-compare\n  return a !== a && b !== b\n}\n\nexport default function isEqual(a: any, b: any) {\n  try {\n    return equal(a, b)\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // eslint-disable-next-line no-console\n      console.warn('react-fast-compare cannot handle circular refs')\n      return false\n    }\n    throw error\n  }\n}\n","import { UseDragConfig, Handler, EventTypes } from '../types'\nimport { _buildDragConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { DragRecognizer } from '../recognizers/DragRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Drag hook.\n *\n * @param handler - the function fired every time the drag gesture updates\n * @param [config={}] - the config object including generic options and drag options\n */\nexport function useDrag<K = EventTypes['drag']>(handler: Handler<'drag', K>, config: UseDragConfig | {} = {}) {\n  RecognizersMap.set('drag', DragRecognizer)\n  const buildDragConfig = useRef<any>()\n  if (!buildDragConfig.current) {\n    buildDragConfig.current = memoize(_buildDragConfig, isEqual)\n  }\n  return useRecognizers<UseDragConfig>({ drag: handler }, buildDragConfig.current(config))\n}\n","import Recognizer from './Recognizer'\nimport { calculateAllKinematics, sign, subV } from '../utils/math'\nimport { Vector2, PartialGestureState, DistanceAngleKey, GestureState } from '../types'\n\n/**\n * @private\n * Abstract class for distance/angle-based gesture recongizers\n */\nexport default abstract class DistanceAngleRecognizer<T extends DistanceAngleKey> extends Recognizer<T> {\n  protected getInternalMovement(values: [number, number?], state: GestureState<T>): Vector2 {\n    const prev_a = state.values[1]\n    // not be defined if ctrl+wheel is used for zoom only\n    let [d, a = prev_a] = values\n\n    let delta_a = a - prev_a\n    let next_turns = state.turns\n    if (Math.abs(delta_a) > 270) next_turns += sign(delta_a)\n    return subV([d, a - 360 * next_turns], state.initial)\n  }\n\n  getKinematics(values: Vector2, event: React.UIEvent | UIEvent): PartialGestureState<T> {\n    const state = this.getMovement(values)\n    const turns = (values[1] - state._movement![1] - this.state.initial[1]) / 360\n    const dt = event.timeStamp - this.state.timeStamp!\n    const { distance, velocity, ...kinematics } = calculateAllKinematics(state.movement!, state.delta!, dt)\n    return { turns, ...state, ...kinematics }\n  }\n\n  protected mapStateValues(state: GestureState<T>): Omit<PartialGestureState<T>, 'event'> {\n    return { da: state.values, vdva: state.velocities } as Omit<PartialGestureState<T>, 'event'>\n  }\n}\n\n/**\n * @param dangle is a small change of variable on \"lifting\" of the circle.\n * It's expected to be small and cannot be greater than 270 or under -270\n */\nexport function fixContinuity(dangle: number) {\n  dangle -= Math.round(dangle / 360) * 360\n  if (dangle > 270) return dangle - 360\n  if (dangle < -270) return dangle + 360\n  return dangle\n}\n","import DistanceAngleRecognizer from './DistanceAngleRecognizer'\nimport { Vector2, WebKitGestureEvent } from '../types'\nimport {\n  getGenericEventData,\n  getTwoTouchesEventValues,\n  getWheelEventValues,\n  getWebkitGestureEventValues,\n  getTouchIds,\n} from '../utils/event'\nimport { getStartGestureState, getGenericPayload } from './Recognizer'\nimport { addBindings, addEventIds, removeEventIds } from '../Controller'\n\nconst ZOOM_CONSTANT = 7\nconst WEBKIT_DISTANCE_SCALE_FACTOR = 260\n\nexport class PinchRecognizer extends DistanceAngleRecognizer<'pinch'> {\n  readonly ingKey = 'pinching'\n  readonly stateKey = 'pinch'\n\n  onPinchStart = (event: React.TouchEvent | TouchEvent) => {\n    addEventIds(this.controller, event)\n    const touchIds = this.controller.touchIds\n\n    if (!this.enabled) return\n\n    if (this.state._active) {\n      // check that the pointerIds that initiated the gesture\n      // are still enabled. This is useful for when the page\n      // loses track of the pointers (minifying gesture on iPad).\n      if (this.state._pointerIds.every(id => touchIds.has(id))) return\n      // something was wrong with the pointers but we let it go.\n    }\n    // until we reach two fingers on the target don't react\n    if (touchIds.size < 2) return\n    const _pointerIds = Array.from(touchIds).slice(0, 2) as [number, number]\n\n    const { values, origin } = getTwoTouchesEventValues(event, _pointerIds, this.transform)\n\n    this.updateSharedState(getGenericEventData(event))\n\n    this.updateGestureState({\n      ...getStartGestureState(this, values, event),\n      ...getGenericPayload(this, event, true),\n      _pointerIds,\n      cancel: this.onCancel,\n      origin,\n    })\n\n    this.updateGestureState(this.getMovement(values))\n    this.fireGestureHandler()\n  }\n\n  onPinchChange = (event: React.TouchEvent | TouchEvent): void => {\n    const { canceled, _active } = this.state\n    if (\n      canceled ||\n      !_active ||\n      // if the event has the same timestamp as the previous event\n      event.timeStamp === this.state.timeStamp\n    )\n      return\n    const genericEventData = getGenericEventData(event)\n\n    this.updateSharedState(genericEventData)\n    try {\n      const { values, origin } = getTwoTouchesEventValues(event, this.state._pointerIds, this.transform)\n      const kinematics = this.getKinematics(values, event)\n\n      this.updateGestureState({\n        ...getGenericPayload(this, event),\n        ...kinematics,\n        origin,\n      })\n\n      this.fireGestureHandler()\n    } catch (e) {\n      this.onPinchEnd(event)\n    }\n  }\n\n  onPinchEnd = (event: React.TouchEvent | TouchEvent): void => {\n    removeEventIds(this.controller, event)\n    const pointerIds = getTouchIds(event)\n\n    // if none of the lifted pointerIds is in the state pointerIds don't do anything\n    if (this.state._pointerIds.every(id => !pointerIds.includes(id))) return\n\n    this.clean()\n    if (!this.state._active) return\n\n    this.updateGestureState({\n      ...getGenericPayload(this, event),\n      ...this.getMovement(this.state.values),\n      _active: false,\n    })\n    this.fireGestureHandler()\n  }\n\n  onCancel = (): void => {\n    if (this.state.canceled) return\n    this.updateGestureState({ _active: false, canceled: true })\n    setTimeout(() => this.fireGestureHandler(), 0)\n  }\n  /**\n   * PINCH WITH WEBKIT GESTURES\n   */\n  onGestureStart = (event: WebKitGestureEvent): void => {\n    if (!this.enabled) return\n    event.preventDefault()\n\n    const values = getWebkitGestureEventValues(event, this.transform)\n\n    this.updateSharedState(getGenericEventData(event))\n\n    this.updateGestureState({\n      ...getStartGestureState(this, values, event),\n      ...getGenericPayload(this, event, true),\n      origin: [event.clientX, event.clientY] as Vector2, // only used on dekstop\n      cancel: this.onCancel,\n    })\n\n    this.updateGestureState(this.getMovement(values))\n    this.fireGestureHandler()\n  }\n\n  onGestureChange = (event: WebKitGestureEvent): void => {\n    const { canceled, _active } = this.state\n    if (canceled || !_active) return\n\n    event.preventDefault()\n\n    const genericEventData = getGenericEventData(event)\n\n    this.updateSharedState(genericEventData)\n\n    // this normalizes the values of the Safari's WebKitEvent by calculating\n    // the delta and then multiplying it by a constant.\n    const values = getWebkitGestureEventValues(event, this.transform)\n    values[0] =\n      (values[0] - (this.state.event as WebKitGestureEvent).scale) * WEBKIT_DISTANCE_SCALE_FACTOR + this.state.values[0]\n\n    const kinematics = this.getKinematics(values, event)\n\n    this.updateGestureState({\n      ...getGenericPayload(this, event),\n      ...kinematics,\n      origin: [event.clientX, event.clientY] as Vector2, // only used on dekstop\n    })\n\n    this.fireGestureHandler()\n  }\n\n  onGestureEnd = (event: WebKitGestureEvent): void => {\n    this.clean()\n    if (!this.state._active) return\n\n    this.updateGestureState({\n      ...getGenericPayload(this, event),\n      ...this.getMovement(this.state.values),\n      _active: false,\n      origin: [event.clientX, event.clientY] as Vector2, // only used on dekstop\n    })\n    this.fireGestureHandler()\n  }\n\n  /**\n   * PINCH WITH WHEEL\n   */\n  private wheelShouldRun = (event: React.WheelEvent | WheelEvent) => {\n    return this.enabled && event.ctrlKey\n  }\n\n  private getWheelValuesFromEvent = (event: React.WheelEvent | WheelEvent) => {\n    const [, delta_d] = getWheelEventValues(event, this.transform)\n    const {\n      values: [prev_d, prev_a],\n    } = this.state\n    // ZOOM_CONSTANT is based on Safari trackpad natural zooming\n    const _delta_d = -delta_d * ZOOM_CONSTANT\n    // new distance is the previous state distance added to the delta\n    const d = prev_d + _delta_d\n    const a = prev_a !== void 0 ? prev_a : 0\n\n    return {\n      values: [d, a] as Vector2,\n      origin: [event.clientX, event.clientY] as Vector2,\n      delta: [_delta_d, a] as Vector2,\n    }\n  }\n\n  onWheel = (event: React.WheelEvent | WheelEvent): void => {\n    if (!this.wheelShouldRun(event)) return\n    this.setTimeout(this.onWheelEnd)\n\n    if (!this.state._active) this.onWheelStart(event)\n    else this.onWheelChange(event)\n  }\n\n  onWheelStart = (event: React.WheelEvent | WheelEvent): void => {\n    const { values, delta, origin } = this.getWheelValuesFromEvent(event)\n\n    if (event.cancelable) event.preventDefault()\n    else if (process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'To properly support zoom on trackpads, try using the `domTarget` option and `config.eventOptions.passive` set to `false`. This message will only appear in development mode.'\n      )\n    }\n\n    this.updateSharedState(getGenericEventData(event))\n\n    this.updateGestureState({\n      ...getStartGestureState(this, values, event, this.state.values),\n      ...getGenericPayload(this, event, true),\n      offset: values,\n      delta,\n      origin,\n    })\n\n    this.updateGestureState(this.getMovement(values))\n    this.fireGestureHandler()\n  }\n\n  onWheelChange = (event: React.WheelEvent | WheelEvent): void => {\n    if (event.cancelable) event.preventDefault()\n\n    this.updateSharedState(getGenericEventData(event))\n    const { values, origin, delta } = this.getWheelValuesFromEvent(event)\n\n    this.updateGestureState({\n      ...getGenericPayload(this, event),\n      ...this.getKinematics(values, event),\n      origin,\n      delta,\n    })\n\n    this.fireGestureHandler()\n  }\n\n  onWheelEnd = (): void => {\n    this.clean()\n    if (!this.state._active) return\n    this.state._active = false\n    this.updateGestureState(this.getMovement(this.state.values))\n    this.fireGestureHandler()\n  }\n\n  addBindings(bindings: any): void {\n    // Only try to use gesture events when they are supported and domTarget is set\n    // as React doesn't support gesture handlers.\n    if (\n      this.controller.config.domTarget &&\n      !this.controller.supportsTouchEvents &&\n      this.controller.supportsGestureEvents\n    ) {\n      addBindings(bindings, 'onGestureStart', this.onGestureStart)\n      addBindings(bindings, 'onGestureChange', this.onGestureChange)\n      addBindings(bindings, 'onGestureEnd', this.onGestureEnd)\n    } else {\n      addBindings(bindings, 'onTouchStart', this.onPinchStart)\n      addBindings(bindings, 'onTouchMove', this.onPinchChange)\n      addBindings(bindings, 'onTouchEnd', this.onPinchEnd)\n      addBindings(bindings, 'onTouchCancel', this.onPinchEnd)\n      addBindings(bindings, 'onWheel', this.onWheel)\n    }\n  }\n}\n","import { UsePinchConfig, Handler, EventTypes } from '../types'\nimport { _buildPinchConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { PinchRecognizer } from '../recognizers/PinchRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Pinch hook.\n *\n * @param handler - the function fired every time the pinch gesture updates\n * @param [config={}] - the config object including generic options and pinch options\n */\nexport function usePinch<K = EventTypes['pinch']>(handler: Handler<'pinch', K>, config: UsePinchConfig | {} = {}) {\n  RecognizersMap.set('pinch', PinchRecognizer)\n  const buildPinchConfig = useRef<any>()\n  if (!buildPinchConfig.current) {\n    buildPinchConfig.current = memoize(_buildPinchConfig, isEqual)\n  }\n  return useRecognizers<UsePinchConfig>({ pinch: handler }, buildPinchConfig.current(config))\n}\n","import { WheelEvent } from 'react'\nimport CoordinatesRecognizer from './CoordinatesRecognizer'\nimport { getWheelEventValues, getGenericEventData } from '../utils/event'\nimport { addV, calculateAllGeometry } from '../utils/math'\nimport { getStartGestureState, getGenericPayload } from './Recognizer'\nimport { addBindings } from '../Controller'\n\nexport class WheelRecognizer extends CoordinatesRecognizer<'wheel'> {\n  readonly ingKey = 'wheeling'\n  readonly stateKey = 'wheel'\n  debounced = true\n\n  handleEvent = (event: React.WheelEvent | WheelEvent): void => {\n    if (event.ctrlKey && 'pinch' in this.controller.handlers) return\n    if (!this.enabled) return\n\n    this.setTimeout(this.onEnd)\n    this.updateSharedState(getGenericEventData(event))\n\n    const values = addV(getWheelEventValues(event, this.transform), this.state.values)\n\n    if (!this.state._active) {\n      this.updateGestureState({\n        ...getStartGestureState(this, values, event, this.state.values),\n        ...getGenericPayload(this, event, true),\n      })\n\n      const movement = this.getMovement(values)\n      const geometry = calculateAllGeometry(movement.delta!)\n\n      this.updateGestureState(movement)\n      this.updateGestureState(geometry)\n    } else {\n      this.updateGestureState({\n        ...getGenericPayload(this, event),\n        ...this.getKinematics(values, event),\n      })\n    }\n\n    this.fireGestureHandler()\n  }\n\n  onEnd = (): void => {\n    this.clean()\n    if (!this.state._active) return\n    const movement = this.getMovement(this.state.values)\n    this.updateGestureState(movement)\n    this.updateGestureState({ _active: false, velocities: [0, 0], velocity: 0 })\n    this.fireGestureHandler()\n  }\n\n  addBindings(bindings: any): void {\n    addBindings(bindings, 'onWheel', this.handleEvent)\n  }\n}\n","import { UseWheelConfig, Handler, EventTypes } from '../types'\nimport { _buildWheelConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { WheelRecognizer } from '../recognizers/WheelRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Wheel hook.\n *\n * @param handler - the function fired every time the wheel gesture updates\n * @param the config object including generic options and wheel options\n */\nexport function useWheel<K = EventTypes['wheel']>(handler: Handler<'wheel', K>, config: UseWheelConfig | {} = {}) {\n  RecognizersMap.set('wheel', WheelRecognizer)\n  const buildWheelConfig = useRef<any>()\n  if (!buildWheelConfig.current) {\n    buildWheelConfig.current = memoize(_buildWheelConfig, isEqual)\n  }\n  return useRecognizers<UseWheelConfig>({ wheel: handler }, buildWheelConfig.current(config))\n}\n","import CoordinatesRecognizer from './CoordinatesRecognizer'\nimport { getGenericEventData, getPointerEventValues } from '../utils/event'\nimport { getStartGestureState, getGenericPayload } from './Recognizer'\nimport { addBindings } from '../Controller'\n\nexport class MoveRecognizer extends CoordinatesRecognizer<'move'> {\n  readonly ingKey = 'moving'\n  readonly stateKey = 'move'\n\n  debounced = true\n\n  onMove = (event: React.PointerEvent | PointerEvent): void => {\n    if (!this.enabled) return\n    this.setTimeout(this.onMoveEnd)\n\n    if (!this.state._active) this.onMoveStart(event)\n    else this.onMoveChange(event)\n  }\n\n  onMoveStart = (event: React.PointerEvent | PointerEvent): void => {\n    this.updateSharedState(getGenericEventData(event))\n    const values = getPointerEventValues(event, this.transform)\n\n    this.updateGestureState({\n      ...getStartGestureState(this, values, event),\n      ...getGenericPayload(this, event, true),\n    })\n\n    this.updateGestureState(this.getMovement(values))\n    this.fireGestureHandler()\n  }\n\n  onMoveChange = (event: React.PointerEvent | PointerEvent): void => {\n    this.updateSharedState(getGenericEventData(event))\n    const values = getPointerEventValues(event, this.transform)\n\n    this.updateGestureState({\n      ...getGenericPayload(this, event),\n      ...this.getKinematics(values, event),\n    })\n\n    this.fireGestureHandler()\n  }\n\n  onMoveEnd = (): void => {\n    this.clean()\n    if (!this.state._active) return\n    const values = this.state.values\n    this.updateGestureState(this.getMovement(values))\n    this.updateGestureState({ velocities: [0, 0], velocity: 0, _active: false })\n    this.fireGestureHandler()\n  }\n\n  hoverTransform = () => {\n    return this.controller.config.hover!.transform || this.controller.config.transform\n  }\n\n  onPointerEnter = (event: React.PointerEvent | PointerEvent): void => {\n    this.controller.state.shared.hovering = true\n    if (!this.controller.config.enabled) return\n\n    if (this.controller.config.hover!.enabled) {\n      const values = getPointerEventValues(event, this.hoverTransform())\n\n      const state = {\n        ...this.controller.state.shared,\n        ...this.state,\n        ...getGenericPayload(this, event, true),\n        args: this.args,\n        values,\n        active: true,\n        hovering: true,\n      }\n\n      this.controller.handlers.hover!({ ...state, ...this.mapStateValues(state) })\n    }\n\n    if ('move' in this.controller.handlers) this.onMoveStart(event)\n  }\n\n  onPointerLeave = (event: React.PointerEvent | PointerEvent): void => {\n    this.controller.state.shared.hovering = false\n    if ('move' in this.controller.handlers) this.onMoveEnd()\n    if (!this.controller.config.hover!.enabled) return\n\n    const values = getPointerEventValues(event, this.hoverTransform())\n\n    const state = {\n      ...this.controller.state.shared,\n      ...this.state,\n      ...getGenericPayload(this, event),\n      args: this.args,\n      values,\n      active: false,\n    }\n\n    this.controller.handlers.hover!({ ...state, ...this.mapStateValues(state) })\n  }\n\n  addBindings(bindings: any): void {\n    if ('move' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerMove', this.onMove)\n    }\n    if ('hover' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerEnter', this.onPointerEnter)\n      addBindings(bindings, 'onPointerLeave', this.onPointerLeave)\n    }\n  }\n}\n","import { UseMoveConfig, Handler, EventTypes } from '../types'\nimport { _buildMoveConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { MoveRecognizer } from '../recognizers/MoveRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Move hook.\n *\n * @param handler - the function fired every time the move gesture updates\n * @param [config={}] - the config object including generic options and move options\n */\nexport function useMove<K = EventTypes['move']>(handler: Handler<'move', K>, config: UseMoveConfig | {} = {}) {\n  RecognizersMap.set('move', MoveRecognizer)\n  const buildMoveConfig = useRef<any>()\n  if (!buildMoveConfig.current) {\n    buildMoveConfig.current = memoize(_buildMoveConfig, isEqual)\n  }\n  return useRecognizers<UseMoveConfig>({ move: handler }, buildMoveConfig.current(config))\n}\n","import { Handler, UseHoverConfig, EventTypes } from '../types'\nimport { _buildHoverConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { MoveRecognizer } from '../recognizers/MoveRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Hover hook.\n *\n * @param handler - the function fired every time the hover gesture updates\n * @param [config={}] - the config object including generic options and hover options\n */\nexport function useHover<K = EventTypes['hover']>(handler: Handler<'hover', K>, config: UseHoverConfig | {} = {}) {\n  RecognizersMap.set('hover', MoveRecognizer)\n  const buildHoverConfig = useRef<any>()\n  if (!buildHoverConfig.current) {\n    buildHoverConfig.current = memoize(_buildHoverConfig, isEqual)\n  }\n  return useRecognizers<UseHoverConfig>({ hover: handler }, buildHoverConfig.current(config))\n}\n","import CoordinatesRecognizer from './CoordinatesRecognizer'\nimport { getGenericEventData, getScrollEventValues } from '../utils/event'\nimport { calculateAllGeometry } from '../utils/math'\nimport { getStartGestureState, getGenericPayload } from './Recognizer'\nimport { addBindings } from '../Controller'\n\nexport class ScrollRecognizer extends CoordinatesRecognizer<'scroll'> {\n  readonly ingKey = 'scrolling'\n  readonly stateKey = 'scroll'\n  debounced = true\n\n  handleEvent = (event: React.UIEvent | UIEvent): void => {\n    if (!this.enabled) return\n\n    this.clearTimeout()\n    this.setTimeout(this.onEnd)\n\n    const values = getScrollEventValues(event, this.transform)\n    this.updateSharedState(getGenericEventData(event))\n\n    if (!this.state._active) {\n      this.updateGestureState({\n        ...getStartGestureState(this, values, event, this.state.values),\n        ...getGenericPayload(this, event, true),\n      })\n\n      const movementDetection = this.getMovement(values)\n      const geometry = calculateAllGeometry(movementDetection.delta!)\n\n      this.updateGestureState(movementDetection)\n      this.updateGestureState(geometry)\n    } else {\n      this.updateGestureState({\n        ...getGenericPayload(this, event),\n        ...this.getKinematics(values, event),\n      })\n    }\n\n    this.fireGestureHandler()\n  }\n\n  onEnd = (): void => {\n    this.clean()\n    if (!this.state._active) return\n    this.updateGestureState({ ...this.getMovement(this.state.values), _active: false, velocities: [0, 0], velocity: 0 })\n    this.fireGestureHandler()\n  }\n\n  addBindings(bindings: any): void {\n    addBindings(bindings, 'onScroll', this.handleEvent)\n  }\n}\n","import { UseScrollConfig, Handler, EventTypes } from '../types'\nimport { _buildScrollConfig } from './buildConfig'\nimport useRecognizers from './useRecognizers'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { ScrollRecognizer } from '../recognizers/ScrollRecognizer'\nimport memoize from '../utils/memoize-one'\nimport isEqual from '../utils/react-fast-compare'\nimport { useRef } from 'react'\n\n/**\n * Scroll hook.\n *\n * @param handler - the function fired every time the scroll gesture updates\n * @param [config={}] - the config object including generic options and scroll options\n */\nexport function useScroll<K = EventTypes['scroll']>(handler: Handler<'scroll', K>, config: UseScrollConfig | {} = {}) {\n  RecognizersMap.set('scroll', ScrollRecognizer)\n  const buildScrollConfig = useRef<any>()\n  if (!buildScrollConfig.current) {\n    buildScrollConfig.current = memoize(_buildScrollConfig, isEqual)\n  }\n  return useRecognizers<UseScrollConfig>({ scroll: handler }, buildScrollConfig.current(config))\n}\n","import useRecognizers from './useRecognizers'\nimport { buildComplexConfig } from './buildConfig'\nimport {\n  InternalConfig,\n  InternalHandlers,\n  UserHandlers,\n  UseGestureConfig,\n  Handlers,\n  EventTypes,\n  AnyGestureEventTypes,\n} from '../types'\nimport { RecognizersMap } from '../recognizers/Recognizer'\nimport { DragRecognizer } from '../recognizers/DragRecognizer'\nimport { MoveRecognizer } from '../recognizers/MoveRecognizer'\nimport { PinchRecognizer } from '../recognizers/PinchRecognizer'\nimport { ScrollRecognizer } from '../recognizers/ScrollRecognizer'\nimport { WheelRecognizer } from '../recognizers/WheelRecognizer'\n\nexport function wrapStart(fn: Function) {\n  return function (this: any, { first }: any) {\n    if (first) fn.apply(this, arguments)\n  }\n}\n\nexport function wrapEnd(fn: Function) {\n  return function (this: any, { last }: any) {\n    if (last) fn.apply(this, arguments)\n  }\n}\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/\n\nfunction sortHandlers(handlers: object) {\n  const native: any = {}\n  const handle: any = {}\n  const actions = new Set()\n\n  for (let key in handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch)\n      handle[key] = (handlers as any)[key]\n    } else {\n      native[key] = (handlers as any)[key]\n    }\n  }\n\n  return [handle, native, actions]\n}\n\n/**\n * @public\n *\n * The most complete gesture hook, allowing support for multiple gestures.\n *\n * @param {Handlers} handlers - an object with on[Gesture] keys containg gesture handlers\n * @param {UseGestureConfig} [config={}] - the full config object\n * @returns {(...args: any[]) => HookReturnType<Config>}\n */\nexport function useGesture<T extends AnyGestureEventTypes = EventTypes>(\n  _handlers: Handlers<T>,\n  config: UseGestureConfig = {}\n) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(_handlers)\n\n  RecognizersMap.set('drag', DragRecognizer)\n  RecognizersMap.set('hover', MoveRecognizer)\n  RecognizersMap.set('move', MoveRecognizer)\n  RecognizersMap.set('pinch', PinchRecognizer)\n  RecognizersMap.set('scroll', ScrollRecognizer)\n  RecognizersMap.set('wheel', WheelRecognizer)\n\n  const mergedConfig: InternalConfig = buildComplexConfig(config, actions)\n  const internalHandlers: Partial<InternalHandlers> = {}\n\n  if (actions.has('onDrag')) internalHandlers.drag = includeStartEndHandlers(handlers, 'onDrag')\n  if (actions.has('onWheel')) internalHandlers.wheel = includeStartEndHandlers(handlers, 'onWheel')\n  if (actions.has('onScroll')) internalHandlers.scroll = includeStartEndHandlers(handlers, 'onScroll')\n  if (actions.has('onMove')) internalHandlers.move = includeStartEndHandlers(handlers, 'onMove')\n  if (actions.has('onPinch')) internalHandlers.pinch = includeStartEndHandlers(handlers, 'onPinch')\n  if (actions.has('onHover')) internalHandlers.hover = handlers.onHover\n\n  return useRecognizers<UseGestureConfig>(internalHandlers, mergedConfig, nativeHandlers)\n}\n\n/**\n * @private\n *\n * This utility function will integrate start and end handlers into the regular\n * handler function by using first and last conditions.\n *\n * @param {UserHandlersPartial} handlers - the handlers function object\n * @param {HandlerKey} handlerKey - the key for which to integrate start and end handlers\n * @returns\n */\ntype HandlerKey = 'onDrag' | 'onPinch' | 'onWheel' | 'onMove' | 'onScroll' | 'onHover'\nfunction includeStartEndHandlers(handlers: Partial<UserHandlers>, handlerKey: HandlerKey) {\n  const startKey = (handlerKey + 'Start') as keyof UserHandlers\n  const endKey = (handlerKey + 'End') as keyof UserHandlers\n\n  const fn = (state: any) => {\n    let memo: any = undefined\n    if (state.first && startKey in handlers) handlers[startKey]!(state)\n    if (handlerKey in handlers) memo = handlers[handlerKey]!(state)\n    if (state.last && endKey in handlers) handlers[endKey]!(state)\n    return memo\n  }\n  return fn\n}\n"],"names":["addV","v1","v2","map","v","i","subV","calculateDistance","movement","Math","hypot","calculateAllGeometry","delta","dl","alpha","direction","distance","calculateAllKinematics","dt","beta","velocity","velocities","sign","x","Number","minMax","value","min","max","rubberband2","constant","pow","rubberband","dimension","abs","Infinity","rubberbandIfOutOfBounds","position","noop","chainFns","fns","length","result","fn","apply","arguments","ensureVector","fallback","undefined","Error","Array","isArray","assignDefault","Object","assign","valueFn","args","resolveWith","config","resolvers","entries","key","resolver","call","supportsGestureEvents","GestureEvent","e","supportsTouchEvents","window","supportsPointerEvents","getEventTouches","event","type","changedTouches","targetTouches","getTouchIds","from","t","identifier","getGenericEventData","buttons","shiftKey","altKey","metaKey","ctrlKey","identity","xy","getPointerEventValues","transform","touchEvents","clientX","clientY","getTwoTouchesEventValues","pointerIds","touches","filter","includes","A","B","dx","dy","cx","cy","angle","atan2","PI","values","origin","getScrollEventValues","currentTarget","scrollX","scrollY","scrollLeft","scrollTop","LINE_HEIGHT","PAGE_HEIGHT","getWheelEventValues","deltaX","deltaY","deltaMode","getWebkitGestureEventValues","scale","rotation","DEFAULT_DRAG_DELAY","DEFAULT_RUBBERBAND","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","InternalGestureOptionsNormalizers","threshold","enabled","triggerAllEvents","initial","InternalCoordinatesOptionsNormalizers","axis","lockDirection","bounds","state","left","right","top","bottom","isBrowser","document","createElement","InternalGenericOptionsNormalizers","domTarget","eventOptions","passive","capture","InternalDistanceAngleOptionsNormalizers","_value","_key","distanceBounds","angleBounds","_distanceBounds","D","_angleBounds","InternalDragOptionsNormalizers","useTouch","supportsTouch","supportsPointer","experimental_preventWindowScrollY","_k","filterTaps","swipeVelocity","swipeDistance","swipeDuration","delay","getInternalGenericOptions","getInternalCoordinatesOptions","getInternalDistanceAngleOptions","getInternalDragOptions","_buildMoveConfig","rest","opts","move","_buildHoverConfig","hover","_buildDragConfig","drag","_buildPinchConfig","pinch","_buildScrollConfig","scroll","_buildWheelConfig","wheel","buildComplexConfig","actions","Set","mergedConfig","has","getInitial","mixed","_active","_blocked","_intentional","_movement","_initial","_bounds","_threshold","_lastEventType","_dragStarted","_dragPreventScroll","_dragIsTap","_dragDelayed","intentional","offset","lastOffset","previous","first","last","active","timeStamp","startTime","elapsedTime","cancel","canceled","memo","getInitialState","shared","hovering","scrolling","wheeling","dragging","moving","pinching","down","locked","_pointerId","vxvy","tap","swipe","_pointerIds","da","vdva","turns","RecognizersMap","Map","Recognizer","controller","callback","ms","clearTimeout","timeouts","stateKey","setTimeout","forceFlag","debounced","clean","prev_active","next_active","ingKey","size","touchIds","mapStateValues","pointerLockElement","newMemo","handler","updateSharedState","sharedState","updateGestureState","gestureState","checkIntentionality","getMovement","wasIntentional","prevMovement","_T","M","getInternalMovement","i0","getIntentionalDisplacement","i1","intentionalityCheck","_rubberband","computeRubberband","handlers","Vx","Vy","Rx","Ry","X1","X2","Y1","Y2","getGenericPayload","isStartEvent","getStartGestureState","initialFn","_state","Controller","classes","bindings","RecognizerClass","addBindings","eventKey","nativeRefs","updateDomListeners","getPropsListener","bind","getDomTargetFromConfig","removeListeners","takeAll","domListeners","forEach","clearAllWindowListeners","windowListeners","addEventIds","add","pointerId","removeEventIds","id","el","clearWindowListeners","options","updateWindowListeners","listeners","addListeners","name","slice","toLowerCase","push","props","captureString","fnsArray","array","splice","current","eventName","eventHandler","addEventListener","removeEventListener","useRecognizers","nativeHandlers","resolveClasses","React","useMemo","useEffect","effect","deprecationNoticeForDomTarget","process","env","NODE_ENV","console","warn","internalHandlers","get","CoordinatesRecognizer","absX","absY","getKinematics","TAP_DISTANCE_THRESHOLD","persistEvent","persist","DragRecognizer","target","setPointerCapture","_dragTarget","_dragPointerId","hasPointerCapture","releasePointerCapture","cancelable","preventDefault","getEventId","preventScroll","startDrag","setStartState","shouldPreventWindowScrollY","setUpWindowScrollDetection","setUpDelayedDragTrigger","isValidEvent","movementX","movementY","kinematics","genericEventData","genericPayload","realDistance","fireGestureHandler","vx","vy","mx","my","ix","iy","svx","svy","sx","sy","sd","endState","stopPropagation","onDragIsStart","onCancel","onDragStart","onDragChange","onDragEnd","onClick","memoizeOne","resultFn","isEqual","lastThis","lastArgs","lastResult","calledOnce","memoized","newArgs","equal","a","b","constructor","keys","it","next","done","RegExp","source","flags","valueOf","prototype","toString","hasOwnProperty","Element","$$typeof","error","message","match","useDrag","set","buildDragConfig","useRef","memoize","DistanceAngleRecognizer","prev_a","d","delta_a","next_turns","ZOOM_CONSTANT","WEBKIT_DISTANCE_SCALE_FACTOR","PinchRecognizer","every","onPinchEnd","delta_d","prev_d","_delta_d","wheelShouldRun","onWheelEnd","onWheelStart","onWheelChange","getWheelValuesFromEvent","onGestureStart","onGestureChange","onGestureEnd","onPinchStart","onPinchChange","onWheel","usePinch","buildPinchConfig","WheelRecognizer","onEnd","geometry","handleEvent","useWheel","buildWheelConfig","MoveRecognizer","onMoveEnd","onMoveStart","onMoveChange","hoverTransform","onMove","onPointerEnter","onPointerLeave","useMove","buildMoveConfig","useHover","buildHoverConfig","ScrollRecognizer","movementDetection","useScroll","buildScrollConfig","RE_NOT_NATIVE","sortHandlers","native","handle","test","lastMatch","useGesture","_handlers","includeStartEndHandlers","onHover","handlerKey","startKey","endKey"],"mappings":"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"}},
    {"offset": {"line": 9969, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40swc/helpers/esm/_extends.js"],"sourcesContent":["function _extends() {\n    _extends = Object.assign || function assign(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n\n        return target;\n    };\n\n    return _extends.apply(this, arguments);\n}\nexport { _extends as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS;IACL,WAAW,OAAO,MAAM,IAAI,SAAS,OAAO,MAAM;QAC9C,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;YACvC,IAAI,SAAS,SAAS,CAAC,EAAE;YACzB,IAAK,IAAI,OAAO,OAAQ,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,MAAM,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI;QAC5G;QAEA,OAAO;IACX;IAEA,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;AAChC","ignoreList":[0]}},
    {"offset": {"line": 9988, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40swc/helpers/esm/_object_destructuring_empty.js"],"sourcesContent":["function _object_destructuring_empty(o) {\n    if (o === null || o === void 0) throw new TypeError(\"Cannot destructure \" + o);\n\n    return o;\n}\nexport { _object_destructuring_empty as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,4BAA4B,CAAC;IAClC,IAAI,MAAM,QAAQ,MAAM,KAAK,GAAG,MAAM,IAAI,UAAU,wBAAwB;IAE5E,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 10001, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/rafz/dist/react-spring_rafz.modern.mjs"],"sourcesContent":["// src/index.ts\nvar updateQueue = makeQueue();\nvar raf = (fn) => schedule(fn, updateQueue);\nvar writeQueue = makeQueue();\nraf.write = (fn) => schedule(fn, writeQueue);\nvar onStartQueue = makeQueue();\nraf.onStart = (fn) => schedule(fn, onStartQueue);\nvar onFrameQueue = makeQueue();\nraf.onFrame = (fn) => schedule(fn, onFrameQueue);\nvar onFinishQueue = makeQueue();\nraf.onFinish = (fn) => schedule(fn, onFinishQueue);\nvar timeouts = [];\nraf.setTimeout = (handler, ms) => {\n  const time = raf.now() + ms;\n  const cancel = () => {\n    const i = timeouts.findIndex((t) => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n  const timeout = { time, handler, cancel };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\nvar findTimeout = (time) => ~(~timeouts.findIndex((t) => t.time > time) || ~timeouts.length);\nraf.cancel = (fn) => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\nraf.sync = (fn) => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\nraf.throttle = (fn) => {\n  let lastArgs;\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n  throttled.handler = fn;\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n  return throttled;\n};\nvar nativeRaf = typeof window != \"undefined\" ? window.requestAnimationFrame : (\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  () => {\n  }\n);\nraf.use = (impl) => nativeRaf = impl;\nraf.now = typeof performance != \"undefined\" ? () => performance.now() : Date.now;\nraf.batchedUpdates = (fn) => fn();\nraf.catch = console.error;\nraf.frameLoop = \"always\";\nraf.advance = () => {\n  if (raf.frameLoop !== \"demand\") {\n    console.warn(\n      \"Cannot call the manual advancement of rafz whilst frameLoop is not set as demand\"\n    );\n  } else {\n    update();\n  }\n};\nvar ts = -1;\nvar pendingCount = 0;\nvar sync = false;\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n    if (raf.frameLoop !== \"demand\") {\n      nativeRaf(loop);\n    }\n  }\n}\nfunction stop() {\n  ts = -1;\n}\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\nfunction update() {\n  const prevTs = ts;\n  ts = raf.now();\n  const count = findTimeout(ts);\n  if (count) {\n    eachSafely(timeouts.splice(0, count), (t) => t.handler());\n    pendingCount -= count;\n  }\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\nfunction makeQueue() {\n  let next = /* @__PURE__ */ new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n    flush(arg) {\n      if (current.size) {\n        next = /* @__PURE__ */ new Set();\n        pendingCount -= current.size;\n        eachSafely(current, (fn) => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n  };\n}\nfunction eachSafely(values, each) {\n  values.forEach((value) => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\nvar __raf = {\n  /** The number of pending tasks */\n  count() {\n    return pendingCount;\n  },\n  /** Whether there's a raf update loop running */\n  isRunning() {\n    return ts >= 0;\n  },\n  /** Clear internal state. Never call from update loop! */\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    pendingCount = 0;\n  }\n};\nexport {\n  __raf,\n  raf\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10216, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/shared/dist/react-spring_shared.modern.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  assign: () => assign,\n  colors: () => colors,\n  createStringInterpolator: () => createStringInterpolator,\n  skipAnimation: () => skipAnimation,\n  to: () => to,\n  willAdvance: () => willAdvance\n});\nimport { raf } from \"@react-spring/rafz\";\n\n// src/helpers.ts\nfunction noop() {\n}\nvar defineHidden = (obj, key, value) => Object.defineProperty(obj, key, { value, writable: true, configurable: true });\nvar is = {\n  arr: Array.isArray,\n  obj: (a) => !!a && a.constructor.name === \"Object\",\n  fun: (a) => typeof a === \"function\",\n  str: (a) => typeof a === \"string\",\n  num: (a) => typeof a === \"number\",\n  und: (a) => a === void 0\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  return a === b;\n}\nvar each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n    return;\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nvar toArray = (a) => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nvar flushCalls = (queue, ...args) => flush(queue, (fn) => fn(...args));\nvar isSSR = () => typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\n// src/globals.ts\nvar createStringInterpolator;\nvar to;\nvar colors = null;\nvar skipAnimation = false;\nvar willAdvance = noop;\nvar assign = (globals) => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== void 0) colors = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator)\n    createStringInterpolator = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\n// src/FrameLoop.ts\nimport { raf as raf2 } from \"@react-spring/rafz\";\nvar startQueue = /* @__PURE__ */ new Set();\nvar currentFrame = [];\nvar prevFrame = [];\nvar priority = 0;\nvar frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n  /** Advance the given animation on every frame until idle. */\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf2.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf2(advance);\n    }\n  },\n  /** Advance all animations by the given time. */\n  advance,\n  /** Call this when an animation's priority changes. */\n  sort(animation) {\n    if (priority) {\n      raf2.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   * ☠️ Never call this from within the frameloop.\n   */\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n};\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf2(advance);\n}\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\nfunction startUnsafely(animation) {\n  currentFrame.splice(\n    findIndex(currentFrame, (other) => other.priority > animation.priority),\n    0,\n    animation\n  );\n}\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\n// src/clamp.ts\nvar clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\n// src/colors.ts\nvar colors2 = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\n\n// src/colorMatchers.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call(...parts) {\n  return \"\\\\(\\\\s*(\" + parts.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nvar rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp(\n  \"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)\n);\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n// src/normalizeColor.ts\nfunction normalizeColor(color) {\n  let match;\n  if (typeof color === \"number\") {\n    return color >>> 0 === color && color >= 0 && color <= 4294967295 ? color : null;\n  }\n  if (match = hex6.exec(color))\n    return parseInt(match[1] + \"ff\", 16) >>> 0;\n  if (colors && colors[color] !== void 0) {\n    return colors[color];\n  }\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    255) >>> // a\n    0;\n  }\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n  if (match = hex3.exec(color)) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      \"ff\",\n      // a\n      16\n    ) >>> 0;\n  }\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n  if (match = hex4.exec(color)) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      match[4] + match[4],\n      // a\n      16\n    ) >>> 0;\n  }\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(\n      parse360(match[1]),\n      // h\n      parsePercentage(match[2]),\n      // s\n      parsePercentage(match[3])\n      // l\n    ) | 255) >>> // a\n    0;\n  }\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(\n      parse360(match[1]),\n      // h\n      parsePercentage(match[2]),\n      // s\n      parsePercentage(match[3])\n      // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n  return null;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\n// src/colorToRgba.ts\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  const r = (int32Color & 4278190080) >>> 24;\n  const g = (int32Color & 16711680) >>> 16;\n  const b = (int32Color & 65280) >>> 8;\n  const a = (int32Color & 255) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n// src/createInterpolator.ts\nvar createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output,\n      extrapolate\n    });\n  }\n  if (is.str(range.output[0])) {\n    return createStringInterpolator(range);\n  }\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || \"extend\";\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || \"extend\";\n  const easing = config.easing || ((t) => t);\n  return (input) => {\n    const range2 = findRange(input, inputRange);\n    return interpolate(\n      input,\n      inputRange[range2],\n      inputRange[range2 + 1],\n      outputRange[range2],\n      outputRange[range2 + 1],\n      easing,\n      extrapolateLeft,\n      extrapolateRight,\n      config.map\n    );\n  };\n};\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") return result;\n    else if (extrapolateLeft === \"clamp\") result = inputMin;\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") return result;\n    else if (extrapolateRight === \"clamp\") result = inputMax;\n  }\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;\n  else if (inputMax === Infinity) result = result - inputMin;\n  else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;\n  else if (outputMax === Infinity) result = result + outputMin;\n  else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i)\n    if (inputRange[i] >= input) break;\n  return i - 1;\n}\n\n// src/easings.ts\nvar steps = (steps2, direction = \"end\") => (progress2) => {\n  progress2 = direction === \"end\" ? Math.min(progress2, 0.999) : Math.max(progress2, 1e-3);\n  const expanded = progress2 * steps2;\n  const rounded = direction === \"end\" ? Math.floor(expanded) : Math.ceil(expanded);\n  return clamp(0, 1, rounded / steps2);\n};\nvar c1 = 1.70158;\nvar c2 = c1 * 1.525;\nvar c3 = c1 + 1;\nvar c4 = 2 * Math.PI / 3;\nvar c5 = 2 * Math.PI / 4.5;\nvar bounceOut = (x) => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\nvar easings = {\n  linear: (x) => x,\n  easeInQuad: (x) => x * x,\n  easeOutQuad: (x) => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: (x) => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: (x) => x * x * x,\n  easeOutCubic: (x) => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: (x) => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: (x) => x * x * x * x,\n  easeOutQuart: (x) => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: (x) => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: (x) => x * x * x * x * x,\n  easeOutQuint: (x) => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: (x) => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: (x) => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: (x) => Math.sin(x * Math.PI / 2),\n  easeInOutSine: (x) => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: (x) => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: (x) => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: (x) => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: (x) => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: (x) => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: (x) => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: (x) => c3 * x * x * x - c1 * x * x,\n  easeOutBack: (x) => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: (x) => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: (x) => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: (x) => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps\n};\n\n// src/fluids.ts\nvar $get = Symbol.for(\"FluidValue.get\");\nvar $observers = Symbol.for(\"FluidValue.observers\");\nvar hasFluidValue = (arg) => Boolean(arg && arg[$get]);\nvar getFluidValue = (arg) => arg && arg[$get] ? arg[$get]() : arg;\nvar getFluidObservers = (target) => target[$observers] || null;\nfunction callFluidObserver(observer2, event) {\n  if (observer2.eventObserved) {\n    observer2.eventObserved(event);\n  } else {\n    observer2(event);\n  }\n}\nfunction callFluidObservers(target, event) {\n  const observers = target[$observers];\n  if (observers) {\n    observers.forEach((observer2) => {\n      callFluidObserver(observer2, event);\n    });\n  }\n}\n$get, $observers;\nvar FluidValue = class {\n  constructor(get) {\n    if (!get && !(get = this.get)) {\n      throw Error(\"Unknown getter\");\n    }\n    setFluidGetter(this, get);\n  }\n};\nvar setFluidGetter = (target, get) => setHidden(target, $get, get);\nfunction addFluidObserver(target, observer2) {\n  if (target[$get]) {\n    let observers = target[$observers];\n    if (!observers) {\n      setHidden(target, $observers, observers = /* @__PURE__ */ new Set());\n    }\n    if (!observers.has(observer2)) {\n      observers.add(observer2);\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer2);\n      }\n    }\n  }\n  return observer2;\n}\nfunction removeFluidObserver(target, observer2) {\n  const observers = target[$observers];\n  if (observers && observers.has(observer2)) {\n    const count = observers.size - 1;\n    if (count) {\n      observers.delete(observer2);\n    } else {\n      target[$observers] = null;\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer2);\n    }\n  }\n}\nvar setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\n// src/regexs.ts\nvar numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nvar unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, \"i\");\nvar rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\n// src/variableToRgba.ts\nvar variableToRgba = (input) => {\n  const [token, fallback] = parseCSSVariable(input);\n  if (!token || isSSR()) {\n    return input;\n  }\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith(\"--\")) {\n    const value2 = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n    if (value2) {\n      return value2;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n  return input;\n};\nvar parseCSSVariable = (current) => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\n// src/stringInterpolation.ts\nvar namedColorRegex;\nvar rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\nvar createStringInterpolator2 = (config) => {\n  if (!namedColorRegex)\n    namedColorRegex = colors ? (\n      // match color names, ignore partial matches\n      new RegExp(`(${Object.keys(colors).join(\"|\")})(?!\\\\w)`, \"g\")\n    ) : (\n      // never match\n      /^\\b$/\n    );\n  const output = config.output.map((value) => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map((value) => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map(\n    (_, i) => keyframes.map((values) => {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal');\n      }\n      return values[i];\n    })\n  );\n  const interpolators = outputRanges.map(\n    (output2) => createInterpolator({ ...config, output: output2 })\n  );\n  return (input) => {\n    const missingUnit = !unitRegex.test(output[0]) && output.find((value) => unitRegex.test(value))?.replace(numberRegex, \"\");\n    let i = 0;\n    return output[0].replace(\n      numberRegex,\n      () => `${interpolators[i++](input)}${missingUnit || \"\"}`\n    ).replace(rgbaRegex, rgbaRound);\n  };\n};\n\n// src/deprecations.ts\nvar prefix = \"react-spring: \";\nvar once = (fn) => {\n  const func = fn;\n  let called = false;\n  if (typeof func != \"function\") {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\nvar warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(\n    `${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`\n  );\n}\nvar warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(\n    `${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`\n  );\n}\n\n// src/isAnimatedString.ts\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == \"#\" || /\\d/.test(value) || // Do not identify a CSS variable as an AnimatedString if its SSR\n  !isSSR() && cssVariableRegex.test(value) || value in (colors || {}));\n}\n\n// src/dom-events/scroll/index.ts\nimport { raf as raf3 } from \"@react-spring/rafz\";\n\n// src/dom-events/resize/resizeElement.ts\nvar observer;\nvar resizeHandlers = /* @__PURE__ */ new WeakMap();\nvar handleObservation = (entries) => entries.forEach(({ target, contentRect }) => {\n  return resizeHandlers.get(target)?.forEach((handler) => handler(contentRect));\n});\nfunction resizeElement(handler, target) {\n  if (!observer) {\n    if (typeof ResizeObserver !== \"undefined\") {\n      observer = new ResizeObserver(handleObservation);\n    }\n  }\n  let elementHandlers = resizeHandlers.get(target);\n  if (!elementHandlers) {\n    elementHandlers = /* @__PURE__ */ new Set();\n    resizeHandlers.set(target, elementHandlers);\n  }\n  elementHandlers.add(handler);\n  if (observer) {\n    observer.observe(target);\n  }\n  return () => {\n    const elementHandlers2 = resizeHandlers.get(target);\n    if (!elementHandlers2) return;\n    elementHandlers2.delete(handler);\n    if (!elementHandlers2.size && observer) {\n      observer.unobserve(target);\n    }\n  };\n}\n\n// src/dom-events/resize/resizeWindow.ts\nvar listeners = /* @__PURE__ */ new Set();\nvar cleanupWindowResizeHandler;\nvar createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(\n      (callback) => callback({\n        width: window.innerWidth,\n        height: window.innerHeight\n      })\n    );\n  };\n  window.addEventListener(\"resize\", handleResize);\n  return () => {\n    window.removeEventListener(\"resize\", handleResize);\n  };\n};\nvar resizeWindow = (callback) => {\n  listeners.add(callback);\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler();\n  }\n  return () => {\n    listeners.delete(callback);\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler();\n      cleanupWindowResizeHandler = void 0;\n    }\n  };\n};\n\n// src/dom-events/resize/index.ts\nvar onResize = (callback, { container = document.documentElement } = {}) => {\n  if (container === document.documentElement) {\n    return resizeWindow(callback);\n  } else {\n    return resizeElement(callback, container);\n  }\n};\n\n// src/progress.ts\nvar progress = (min, max, value) => max - min === 0 ? 1 : (value - min) / (max - min);\n\n// src/dom-events/scroll/ScrollHandler.ts\nvar SCROLL_KEYS = {\n  x: {\n    length: \"Width\",\n    position: \"Left\"\n  },\n  y: {\n    length: \"Height\",\n    position: \"Top\"\n  }\n};\nvar ScrollHandler = class {\n  constructor(callback, container) {\n    this.createAxis = () => ({\n      current: 0,\n      progress: 0,\n      scrollLength: 0\n    });\n    this.updateAxis = (axisName) => {\n      const axis = this.info[axisName];\n      const { length, position } = SCROLL_KEYS[axisName];\n      axis.current = this.container[`scroll${position}`];\n      axis.scrollLength = this.container[`scroll${length}`] - this.container[`client${length}`];\n      axis.progress = progress(0, axis.scrollLength, axis.current);\n    };\n    this.update = () => {\n      this.updateAxis(\"x\");\n      this.updateAxis(\"y\");\n    };\n    this.sendEvent = () => {\n      this.callback(this.info);\n    };\n    this.advance = () => {\n      this.update();\n      this.sendEvent();\n    };\n    this.callback = callback;\n    this.container = container;\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis()\n    };\n  }\n};\n\n// src/dom-events/scroll/index.ts\nvar scrollListeners = /* @__PURE__ */ new WeakMap();\nvar resizeListeners = /* @__PURE__ */ new WeakMap();\nvar onScrollHandlers = /* @__PURE__ */ new WeakMap();\nvar getTarget = (container) => container === document.documentElement ? window : container;\nvar onScroll = (callback, { container = document.documentElement } = {}) => {\n  let containerHandlers = onScrollHandlers.get(container);\n  if (!containerHandlers) {\n    containerHandlers = /* @__PURE__ */ new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  const containerHandler = new ScrollHandler(callback, container);\n  containerHandlers.add(containerHandler);\n  if (!scrollListeners.has(container)) {\n    const listener = () => {\n      containerHandlers?.forEach((handler) => handler.advance());\n      return true;\n    };\n    scrollListeners.set(container, listener);\n    const target = getTarget(container);\n    window.addEventListener(\"resize\", listener, { passive: true });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, { container }));\n    }\n    target.addEventListener(\"scroll\", listener, { passive: true });\n  }\n  const animateScroll = scrollListeners.get(container);\n  raf3(animateScroll);\n  return () => {\n    raf3.cancel(animateScroll);\n    const containerHandlers2 = onScrollHandlers.get(container);\n    if (!containerHandlers2) return;\n    containerHandlers2.delete(containerHandler);\n    if (containerHandlers2.size) return;\n    const listener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (listener) {\n      getTarget(container).removeEventListener(\"scroll\", listener);\n      window.removeEventListener(\"resize\", listener);\n      resizeListeners.get(container)?.();\n    }\n  };\n};\n\n// src/hooks/useConstant.ts\nimport { useRef } from \"react\";\nfunction useConstant(init) {\n  const ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = init();\n  }\n  return ref.current;\n}\n\n// src/hooks/useForceUpdate.ts\nimport { useState } from \"react\";\n\n// src/hooks/useIsMounted.ts\nimport { useRef as useRef2 } from \"react\";\n\n// src/hooks/useIsomorphicLayoutEffect.ts\nimport { useEffect, useLayoutEffect } from \"react\";\nvar useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\n// src/hooks/useIsMounted.ts\nvar useIsMounted = () => {\n  const isMounted = useRef2(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\n// src/hooks/useForceUpdate.ts\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update(Math.random());\n    }\n  };\n}\n\n// src/hooks/useMemoOne.ts\nimport { useEffect as useEffect2, useRef as useRef3, useState as useState2 } from \"react\";\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState2(\n    () => ({\n      inputs,\n      result: getResult()\n    })\n  );\n  const committed = useRef3(void 0);\n  const prevCache = committed.current;\n  let cache = prevCache;\n  if (cache) {\n    const useCache = Boolean(\n      inputs && cache.inputs && areInputsEqual(inputs, cache.inputs)\n    );\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n  useEffect2(() => {\n    committed.current = cache;\n    if (prevCache == initial) {\n      initial.inputs = initial.result = void 0;\n    }\n  }, [cache]);\n  return cache.result;\n}\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/hooks/useOnce.ts\nimport { useEffect as useEffect3 } from \"react\";\nvar useOnce = (effect) => useEffect3(effect, emptyDeps);\nvar emptyDeps = [];\n\n// src/hooks/usePrev.ts\nimport { useEffect as useEffect4, useRef as useRef4 } from \"react\";\nfunction usePrev(value) {\n  const prevRef = useRef4(void 0);\n  useEffect4(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\n// src/hooks/useReducedMotion.ts\nimport { useState as useState3 } from \"react\";\nvar useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState3(null);\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia(\"(prefers-reduced-motion)\");\n    const handleMediaChange = (e) => {\n      setReducedMotion(e.matches);\n      assign({\n        skipAnimation: e.matches\n      });\n    };\n    handleMediaChange(mql);\n    if (mql.addEventListener) {\n      mql.addEventListener(\"change\", handleMediaChange);\n    } else {\n      mql.addListener(handleMediaChange);\n    }\n    return () => {\n      if (mql.removeEventListener) {\n        mql.removeEventListener(\"change\", handleMediaChange);\n      } else {\n        mql.removeListener(handleMediaChange);\n      }\n    };\n  }, []);\n  return reducedMotion;\n};\n\n// src/index.ts\nimport { raf as raf4 } from \"@react-spring/rafz\";\nexport {\n  FluidValue,\n  globals_exports as Globals,\n  addFluidObserver,\n  callFluidObserver,\n  callFluidObservers,\n  clamp,\n  colorToRgba,\n  colors2 as colors,\n  createInterpolator,\n  createStringInterpolator2 as createStringInterpolator,\n  defineHidden,\n  deprecateDirectCall,\n  deprecateInterpolate,\n  each,\n  eachProp,\n  easings,\n  flush,\n  flushCalls,\n  frameLoop,\n  getFluidObservers,\n  getFluidValue,\n  hasFluidValue,\n  hex3,\n  hex4,\n  hex6,\n  hex8,\n  hsl,\n  hsla,\n  is,\n  isAnimatedString,\n  isEqual,\n  isSSR,\n  noop,\n  onResize,\n  onScroll,\n  once,\n  prefix,\n  raf4 as raf,\n  removeFluidObserver,\n  rgb,\n  rgba,\n  setFluidGetter,\n  toArray,\n  useConstant,\n  useForceUpdate,\n  useIsomorphicLayoutEffect,\n  useMemoOne,\n  useOnce,\n  usePrev,\n  useReducedMotion\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11489, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/animated/dist/react-spring_animated.modern.mjs"],"sourcesContent":["// src/Animated.ts\nimport { defineHidden } from \"@react-spring/shared\";\nvar $node = Symbol.for(\"Animated:node\");\nvar isAnimated = (value) => !!value && value[$node] === value;\nvar getAnimated = (owner) => owner && owner[$node];\nvar setAnimated = (owner, node) => defineHidden(owner, $node, node);\nvar getPayload = (owner) => owner && owner[$node] && owner[$node].getPayload();\nvar Animated = class {\n  constructor() {\n    setAnimated(this, this);\n  }\n  /** Get every `AnimatedValue` used by this node. */\n  getPayload() {\n    return this.payload || [];\n  }\n};\n\n// src/AnimatedValue.ts\nimport { is } from \"@react-spring/shared\";\nvar AnimatedValue = class _AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this._value = _value;\n    this.done = true;\n    this.durationProgress = 0;\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n  /** @internal */\n  static create(value) {\n    return new _AnimatedValue(value);\n  }\n  getPayload() {\n    return [this];\n  }\n  getValue() {\n    return this._value;\n  }\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n      if (step) {\n        value = Math.round(value / step) * step;\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n    if (this._value === value) {\n      return false;\n    }\n    this._value = value;\n    return true;\n  }\n  reset() {\n    const { done } = this;\n    this.done = false;\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n};\n\n// src/AnimatedString.ts\nimport { is as is2, createInterpolator } from \"@react-spring/shared\";\nvar AnimatedString = class _AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n  /** @internal */\n  static create(value) {\n    return new _AnimatedString(value);\n  }\n  getValue() {\n    const value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n  setValue(value) {\n    if (is2.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n    return true;\n  }\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n    this._value = 0;\n    super.reset();\n  }\n};\n\n// src/AnimatedArray.ts\nimport { isAnimatedString } from \"@react-spring/shared\";\n\n// src/AnimatedObject.ts\nimport {\n  each,\n  eachProp,\n  getFluidValue,\n  hasFluidValue\n} from \"@react-spring/shared\";\n\n// src/context.ts\nvar TreeContext = { dependencies: null };\n\n// src/AnimatedObject.ts\nvar AnimatedObject = class extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n  /** Replace the raw object data */\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n  reset() {\n    if (this.payload) {\n      each(this.payload, (node) => node.reset());\n    }\n  }\n  /** Create a payload set. */\n  _makePayload(source) {\n    if (source) {\n      const payload = /* @__PURE__ */ new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n  /** Add to a payload set. */\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n    const payload = getPayload(source);\n    if (payload) {\n      each(payload, (node) => this.add(node));\n    }\n  }\n};\n\n// src/AnimatedArray.ts\nvar AnimatedArray = class _AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n  /** @internal */\n  static create(source) {\n    return new _AnimatedArray(source);\n  }\n  getValue() {\n    return this.source.map((node) => node.getValue());\n  }\n  setValue(source) {\n    const payload = this.getPayload();\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n};\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\n// src/getAnimatedType.ts\nimport { is as is3, isAnimatedString as isAnimatedString2 } from \"@react-spring/shared\";\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is3.arr(value) ? AnimatedArray : isAnimatedString2(value) ? AnimatedString : AnimatedValue;\n}\n\n// src/createHost.ts\nimport { is as is5, eachProp as eachProp2 } from \"@react-spring/shared\";\n\n// src/withAnimated.tsx\nimport * as React from \"react\";\nimport { forwardRef, useRef, useCallback, useEffect } from \"react\";\nimport {\n  is as is4,\n  each as each2,\n  raf,\n  useForceUpdate,\n  useOnce,\n  addFluidObserver,\n  removeFluidObserver,\n  useIsomorphicLayoutEffect\n} from \"@react-spring/shared\";\nvar withAnimated = (Component, host) => {\n  const hasInstance = (\n    // Function components must use \"forwardRef\" to avoid being\n    // re-rendered on every animation frame.\n    !is4.fun(Component) || Component.prototype && Component.prototype.isReactComponent\n  );\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && // eslint-disable-next-line react-hooks/rules-of-hooks\n    useCallback(\n      (value) => {\n        instanceRef.current = updateRef(givenRef, value);\n      },\n      [givenRef]\n    );\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n    const callback = () => {\n      const instance = instanceRef.current;\n      if (hasInstance && !instance) {\n        return;\n      }\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef(void 0);\n    useIsomorphicLayoutEffect(() => {\n      observerRef.current = observer;\n      each2(deps, (dep) => addFluidObserver(dep, observer));\n      return () => {\n        if (observerRef.current) {\n          each2(\n            observerRef.current.deps,\n            (dep) => removeFluidObserver(dep, observerRef.current)\n          );\n          raf.cancel(observerRef.current.update);\n        }\n      };\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer2 = observerRef.current;\n      each2(observer2.deps, (dep) => removeFluidObserver(dep, observer2));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return /* @__PURE__ */ React.createElement(Component, { ...usedProps, ref });\n  });\n};\nvar PropsObserver = class {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      raf.write(this.update);\n    }\n  }\n};\nfunction getAnimatedState(props, host) {\n  const dependencies = /* @__PURE__ */ new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style)\n    props = {\n      ...props,\n      style: host.createAnimatedStyle(props.style)\n    };\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is4.fun(ref)) ref(value);\n    else ref.current = value;\n  }\n  return value;\n}\n\n// src/createHost.ts\nvar cacheKey = Symbol.for(\"AnimatedComponent\");\nvar createHost = (components, {\n  applyAnimatedValues = () => false,\n  createAnimatedStyle = (style) => new AnimatedObject(style),\n  getComponentProps = (props) => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues,\n    createAnimatedStyle,\n    getComponentProps\n  };\n  const animated = (Component) => {\n    const displayName = getDisplayName(Component) || \"Anonymous\";\n    if (is5.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n  eachProp2(components, (Component, key) => {\n    if (is5.arr(components)) {\n      key = getDisplayName(Component);\n    }\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\nvar getDisplayName = (arg) => is5.str(arg) ? arg : arg && is5.str(arg.displayName) ? arg.displayName : is5.fun(arg) && arg.name || null;\nexport {\n  Animated,\n  AnimatedArray,\n  AnimatedObject,\n  AnimatedString,\n  AnimatedValue,\n  createHost,\n  getAnimated,\n  getAnimatedType,\n  getPayload,\n  isAnimated,\n  setAnimated\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11997, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/types/dist/react-spring_types.modern.mjs"],"sourcesContent":["// src/utils.ts\nvar Any = class {\n};\nexport {\n  Any\n};\n"],"names":[],"mappings":"AAAA,eAAe;;;;;;;AACf,IAAI,MAAM,SAAN;;oLAAA","ignoreList":[0]}},
    {"offset": {"line": 12013, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/core/dist/react-spring_core.modern.mjs"],"sourcesContent":["// src/hooks/useChain.ts\nimport { each, useIsomorphicLayoutEffect } from \"@react-spring/shared\";\n\n// src/helpers.ts\nimport {\n  is,\n  toArray,\n  eachProp,\n  getFluidValue,\n  isAnimatedString,\n  Globals as G\n} from \"@react-spring/shared\";\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nvar matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nvar resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nvar getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : void 0;\nvar noopTransform = (value) => value;\nvar getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n  const defaults2 = {};\n  for (const key of keys) {\n    const value = transform(props[key], key);\n    if (!is.und(value)) {\n      defaults2[key] = value;\n    }\n  }\n  return defaults2;\n};\nvar DEFAULT_PROPS = [\n  \"config\",\n  \"onProps\",\n  \"onStart\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\",\n  \"onRest\"\n];\nvar RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  // Transition props\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  // Internal props\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n  if (count) {\n    return forward;\n  }\n}\nfunction inferTo(props) {\n  const to2 = getForwardProps(props);\n  if (to2) {\n    const out = { to: to2 };\n    eachProp(props, (val, key) => key in to2 || (out[key] = val));\n    return out;\n  }\n  return { ...props };\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? G.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n  return false;\n}\nfunction isAsyncTo(to2) {\n  return is.fun(to2) || is.arr(to2) && is.obj(to2[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  ctrl.ref?.delete(ctrl);\n  ref?.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    ctrl.ref?.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\n// src/hooks/useChain.ts\nfunction useChain(refs, timeSteps, timeFrame = 1e3) {\n  useIsomorphicLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;\n          else prevDelay = delay;\n          each(controllers, (ctrl) => {\n            each(ctrl.queue, (props) => {\n              const memoizedDelayProp = props.delay;\n              props.delay = (key) => delay + callProp(memoizedDelayProp || 0, key);\n            });\n          });\n          ref.start();\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, (ref) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          const queues = controllers.map((ctrl) => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(\n              controllers,\n              (ctrl, i) => each(queues[i] || [], (update2) => ctrl.queue.push(update2))\n            );\n            return Promise.all(ref.start());\n          });\n        }\n      });\n    }\n  });\n}\n\n// src/hooks/useSpring.ts\nimport { is as is9 } from \"@react-spring/shared\";\n\n// src/hooks/useSprings.ts\nimport { useContext as useContext2, useMemo as useMemo2, useRef } from \"react\";\nimport {\n  is as is8,\n  each as each5,\n  usePrev,\n  useOnce,\n  useForceUpdate,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect2\n} from \"@react-spring/shared\";\n\n// src/SpringValue.ts\nimport {\n  is as is5,\n  raf as raf3,\n  each as each2,\n  isEqual,\n  toArray as toArray2,\n  eachProp as eachProp3,\n  frameLoop as frameLoop2,\n  flushCalls,\n  getFluidValue as getFluidValue2,\n  isAnimatedString as isAnimatedString2,\n  Globals as G5,\n  callFluidObservers as callFluidObservers2,\n  hasFluidValue,\n  addFluidObserver,\n  removeFluidObserver,\n  getFluidObservers\n} from \"@react-spring/shared\";\nimport {\n  AnimatedValue,\n  AnimatedString,\n  getPayload,\n  getAnimated as getAnimated2,\n  setAnimated,\n  getAnimatedType\n} from \"@react-spring/animated\";\n\n// src/AnimationConfig.ts\nimport { is as is2, easings } from \"@react-spring/shared\";\n\n// src/constants.ts\nvar config = {\n  default: { tension: 170, friction: 26 },\n  gentle: { tension: 120, friction: 14 },\n  wobbly: { tension: 180, friction: 12 },\n  stiff: { tension: 210, friction: 20 },\n  slow: { tension: 280, friction: 60 },\n  molasses: { tension: 280, friction: 120 }\n};\n\n// src/AnimationConfig.ts\nvar defaults = {\n  ...config.default,\n  mass: 1,\n  damping: 1,\n  easing: easings.linear,\n  clamp: false\n};\nvar AnimationConfig = class {\n  constructor() {\n    /**\n     * The initial velocity of one or more values.\n     *\n     * @default 0\n     */\n    this.velocity = 0;\n    Object.assign(this, defaults);\n  }\n};\nfunction mergeConfig(config2, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = { ...defaultConfig };\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = { ...defaultConfig, ...newConfig };\n  }\n  sanitizeConfig(config2, newConfig);\n  Object.assign(config2, newConfig);\n  for (const key in defaults) {\n    if (config2[key] == null) {\n      config2[key] = defaults[key];\n    }\n  }\n  let { frequency, damping } = config2;\n  const { mass } = config2;\n  if (!is2.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config2.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config2.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n  return config2;\n}\nfunction sanitizeConfig(config2, props) {\n  if (!is2.und(props.decay)) {\n    config2.duration = void 0;\n  } else {\n    const isTensionConfig = !is2.und(props.tension) || !is2.und(props.friction);\n    if (isTensionConfig || !is2.und(props.frequency) || !is2.und(props.damping) || !is2.und(props.mass)) {\n      config2.duration = void 0;\n      config2.decay = void 0;\n    }\n    if (isTensionConfig) {\n      config2.frequency = void 0;\n    }\n  }\n}\n\n// src/Animation.ts\nvar emptyArray = [];\nvar Animation = class {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n};\n\n// src/scheduleProps.ts\nimport { is as is3, raf, Globals as G2 } from \"@react-spring/shared\";\nfunction scheduleProps(callId, { key, props, defaultProps, state, actions }) {\n  return new Promise((resolve, reject) => {\n    let delay;\n    let timeout;\n    let cancel = matchProp(props.cancel ?? defaultProps?.cancel, key);\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is3.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n      let pause = defaultProps?.pause;\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n      delay = callProp(props.delay || 0, key);\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n    function onResume() {\n      if (delay > 0 && !G2.skipAnimation) {\n        state.delayed = true;\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n    function onStart() {\n      if (state.delayed) {\n        state.delayed = false;\n      }\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n      try {\n        actions.start({ ...props, callId, cancel }, resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\n// src/runAsync.ts\nimport {\n  is as is4,\n  raf as raf2,\n  flush,\n  eachProp as eachProp2,\n  Globals as G3\n} from \"@react-spring/shared\";\n\n// src/AnimationResult.ts\nvar getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some((result) => result.cancelled) ? getCancelledResult(target.get()) : results.every((result) => result.noop) ? getNoopResult(target.get()) : getFinishedResult(\n  target.get(),\n  results.every((result) => result.finished)\n);\nvar getNoopResult = (value) => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nvar getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nvar getCancelledResult = (value) => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\n// src/runAsync.ts\nfunction runAsync(to2, props, state, target) {\n  const { callId, parentId, onRest } = props;\n  const { asyncTo: prevTo, promise: prevPromise } = state;\n  if (!parentId && to2 === prevTo && !props.reset) {\n    return prevPromise;\n  }\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to2;\n    const defaultProps = getDefaultProps(\n      props,\n      (value, key) => (\n        // The `onRest` prop is only called when the `runAsync` promise is resolved.\n        key === \"onRest\" ? void 0 : value\n      )\n    );\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise(\n      (resolve, reject) => (preventBail = resolve, bail = reject)\n    );\n    const bailIfEnded = (bailSignal) => {\n      const bailResult = (\n        // The `cancel` prop or `stop` method was used.\n        callId <= (state.cancelId || 0) && getCancelledResult(target) || // The async `to` prop was replaced.\n        callId !== state.asyncId && getFinishedResult(target, false)\n      );\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAnimationSignal();\n      return (async () => {\n        if (G3.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n        bailIfEnded(bailSignal);\n        const props2 = is4.obj(arg1) ? { ...arg1 } : { ...arg2, to: arg1 };\n        props2.parentId = callId;\n        eachProp2(defaultProps, (value, key) => {\n          if (is4.und(props2[key])) {\n            props2[key] = value;\n          }\n        });\n        const result2 = await target.start(props2);\n        bailIfEnded(bailSignal);\n        if (state.paused) {\n          await new Promise((resume) => {\n            state.resumeQueue.add(resume);\n          });\n        }\n        return result2;\n      })();\n    };\n    let result;\n    if (G3.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n    try {\n      let animating;\n      if (is4.arr(to2)) {\n        animating = (async (queue) => {\n          for (const props2 of queue) {\n            await animate(props2);\n          }\n        })(to2);\n      } else {\n        animating = Promise.resolve(to2(animate, target.stop.bind(target)));\n      }\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAnimationSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : void 0;\n        state.promise = parentId ? prevPromise : void 0;\n      }\n    }\n    if (is4.fun(onRest)) {\n      raf2.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, (t) => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = void 0;\n  if (cancelId) state.cancelId = cancelId;\n}\nvar BailSignal = class extends Error {\n  constructor() {\n    super(\n      \"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.\"\n    );\n  }\n};\nvar SkipAnimationSignal = class extends Error {\n  constructor() {\n    super(\"SkipAnimationSignal\");\n  }\n};\n\n// src/FrameValue.ts\nimport {\n  deprecateInterpolate,\n  frameLoop,\n  FluidValue as FluidValue2,\n  Globals as G4,\n  callFluidObservers\n} from \"@react-spring/shared\";\nimport { getAnimated } from \"@react-spring/animated\";\nvar isFrameValue = (value) => value instanceof FrameValue;\nvar nextId = 1;\nvar FrameValue = class extends FluidValue2 {\n  constructor() {\n    super(...arguments);\n    this.id = nextId++;\n    this._priority = 0;\n  }\n  get priority() {\n    return this._priority;\n  }\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n      this._onPriorityChange(priority);\n    }\n  }\n  /** Get the current value */\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n  /** Create a spring that maps our value to another value */\n  to(...args) {\n    return G4.to(this, args);\n  }\n  /** @deprecated Use the `to` method instead. */\n  interpolate(...args) {\n    deprecateInterpolate();\n    return G4.to(this, args);\n  }\n  toJSON() {\n    return this.get();\n  }\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n  /** Called when the first child is added. */\n  _attach() {\n  }\n  /** Called when the last child is removed. */\n  _detach() {\n  }\n  /** Tell our children about our new value */\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: \"change\",\n      parent: this,\n      value,\n      idle\n    });\n  }\n  /** Tell our children about our new priority */\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n    callFluidObservers(this, {\n      type: \"priority\",\n      parent: this,\n      priority\n    });\n  }\n};\n\n// src/SpringPhase.ts\nvar $P = Symbol.for(\"SpringPhase\");\nvar HAS_ANIMATED = 1;\nvar IS_ANIMATING = 2;\nvar IS_PAUSED = 4;\nvar hasAnimated = (target) => (target[$P] & HAS_ANIMATED) > 0;\nvar isAnimating = (target) => (target[$P] & IS_ANIMATING) > 0;\nvar isPaused = (target) => (target[$P] & IS_PAUSED) > 0;\nvar setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nvar setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\n// src/SpringValue.ts\nvar SpringValue = class extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    /** The animation state */\n    this.animation = new Animation();\n    /** Some props have customizable default values */\n    this.defaultProps = {};\n    /** The state for `runAsync` calls */\n    this._state = {\n      paused: false,\n      delayed: false,\n      pauseQueue: /* @__PURE__ */ new Set(),\n      resumeQueue: /* @__PURE__ */ new Set(),\n      timeouts: /* @__PURE__ */ new Set()\n    };\n    /** The promise resolvers of pending `start` calls */\n    this._pendingCalls = /* @__PURE__ */ new Set();\n    /** The counter for tracking `scheduleProps` calls */\n    this._lastCallId = 0;\n    /** The last `scheduleProps` call that changed the `to` prop */\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n    if (!is5.und(arg1) || !is5.und(arg2)) {\n      const props = is5.obj(arg1) ? { ...arg1 } : { ...arg2, from: arg1 };\n      if (is5.und(props.default)) {\n        props.default = true;\n      }\n      this.start(props);\n    }\n  }\n  /** Equals true when not advancing on each frame. */\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n  get goal() {\n    return getFluidValue2(this.animation.to);\n  }\n  get velocity() {\n    const node = getAnimated2(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map((node2) => node2.lastVelocity || 0);\n  }\n  /**\n   * When true, this value has been animated at least once.\n   */\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n  /**\n   * When true, this value has an unfinished animation,\n   * which is either active or paused.\n   */\n  get isAnimating() {\n    return isAnimating(this);\n  }\n  /**\n   * When true, all current and future animations are paused.\n   */\n  get isPaused() {\n    return isPaused(this);\n  }\n  /**\n   *\n   *\n   */\n  get isDelayed() {\n    return this._state.delayed;\n  }\n  /** Advance the current animation by a number of milliseconds */\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let { toValues } = anim;\n    const { config: config2 } = anim;\n    const payload = getPayload(anim.to);\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray2(getFluidValue2(anim.to));\n    }\n    anim.values.forEach((node2, i) => {\n      if (node2.done) return;\n      const to2 = (\n        // Animated strings always go from 0 to 1.\n        node2.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i]\n      );\n      let finished = anim.immediate;\n      let position = to2;\n      if (!finished) {\n        position = node2.lastPosition;\n        if (config2.tension <= 0) {\n          node2.done = true;\n          return;\n        }\n        let elapsed = node2.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node2.v0 != null ? node2.v0 : node2.v0 = is5.arr(config2.velocity) ? config2.velocity[i] : config2.velocity;\n        let velocity;\n        const precision = config2.precision || (from == to2 ? 5e-3 : Math.min(1, Math.abs(to2 - from) * 1e-3));\n        if (!is5.und(config2.duration)) {\n          let p = 1;\n          if (config2.duration > 0) {\n            if (this._memoizedDuration !== config2.duration) {\n              this._memoizedDuration = config2.duration;\n              if (node2.durationProgress > 0) {\n                node2.elapsedTime = config2.duration * node2.durationProgress;\n                elapsed = node2.elapsedTime += dt;\n              }\n            }\n            p = (config2.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node2.durationProgress = p;\n          }\n          position = from + config2.easing(p) * (to2 - from);\n          velocity = (position - node2.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config2.decay) {\n          const decay = config2.decay === true ? 0.998 : config2.decay;\n          const e = Math.exp(-(1 - decay) * elapsed);\n          position = from + v0 / (1 - decay) * (1 - e);\n          finished = Math.abs(node2.lastPosition - position) <= precision;\n          velocity = v0 * e;\n        } else {\n          velocity = node2.lastVelocity == null ? v0 : node2.lastVelocity;\n          const restVelocity = config2.restVelocity || precision / 10;\n          const bounceFactor = config2.clamp ? 0 : config2.bounce;\n          const canBounce = !is5.und(bounceFactor);\n          const isGrowing = from == to2 ? node2.v0 > 0 : from < to2;\n          let isMoving;\n          let isBouncing = false;\n          const step = 1;\n          const numSteps = Math.ceil(dt / step);\n          for (let n = 0; n < numSteps; ++n) {\n            isMoving = Math.abs(velocity) > restVelocity;\n            if (!isMoving) {\n              finished = Math.abs(to2 - position) <= precision;\n              if (finished) {\n                break;\n              }\n            }\n            if (canBounce) {\n              isBouncing = position == to2 || position > to2 == isGrowing;\n              if (isBouncing) {\n                velocity = -velocity * bounceFactor;\n                position = to2;\n              }\n            }\n            const springForce = -config2.tension * 1e-6 * (position - to2);\n            const dampingForce = -config2.friction * 1e-3 * velocity;\n            const acceleration = (springForce + dampingForce) / config2.mass;\n            velocity = velocity + acceleration * step;\n            position = position + velocity * step;\n          }\n        }\n        node2.lastVelocity = velocity;\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n      if (finished) {\n        node2.done = true;\n      } else {\n        idle = false;\n      }\n      if (node2.setValue(position, config2.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated2(this);\n    const currVal = node.getValue();\n    if (idle) {\n      const finalVal = getFluidValue2(anim.to);\n      if ((currVal !== finalVal || changed) && !config2.decay) {\n        node.setValue(finalVal);\n        this._onChange(finalVal);\n      } else if (changed && config2.decay) {\n        this._onChange(currVal);\n      }\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n  /** Set the current value, while stopping the current animation */\n  set(value) {\n    raf3.batchedUpdates(() => {\n      this._stop();\n      this._focus(value);\n      this._set(value);\n    });\n    return this;\n  }\n  /**\n   * Freeze the active animation in time, as well as any updates merged\n   * before `resume` is called.\n   */\n  pause() {\n    this._update({ pause: true });\n  }\n  /** Resume the animation if paused. */\n  resume() {\n    this._update({ pause: false });\n  }\n  /** Skip to the end of the current animation. */\n  finish() {\n    if (isAnimating(this)) {\n      const { to: to2, config: config2 } = this.animation;\n      raf3.batchedUpdates(() => {\n        this._onStart();\n        if (!config2.decay) {\n          this._set(to2, false);\n        }\n        this._stop();\n      });\n    }\n    return this;\n  }\n  /** Push props into the pending queue. */\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n  start(to2, arg2) {\n    let queue;\n    if (!is5.und(to2)) {\n      queue = [is5.obj(to2) ? to2 : { ...arg2, to: to2 }];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n    return Promise.all(\n      queue.map((props) => {\n        const up = this._update(props);\n        return up;\n      })\n    ).then((results) => getCombinedResult(this, results));\n  }\n  /**\n   * Stop the current animation, and cancel any delayed updates.\n   *\n   * Pass `true` to call `onRest` with `cancelled: true`.\n   */\n  stop(cancel) {\n    const { to: to2 } = this.animation;\n    this._focus(this.get());\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf3.batchedUpdates(() => this._stop(to2, cancel));\n    return this;\n  }\n  /** Restart the animation. */\n  reset() {\n    this._update({ reset: true });\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._start();\n    } else if (event.type == \"priority\") {\n      this.priority = event.priority + 1;\n    }\n  }\n  /**\n   * Parse the `to` and `from` range from the given `props` object.\n   *\n   * This also ensures the initial value is available to animated components\n   * during the render phase.\n   */\n  _prepareNode(props) {\n    const key = this.key || \"\";\n    let { to: to2, from } = props;\n    to2 = is5.obj(to2) ? to2[key] : to2;\n    if (to2 == null || isAsyncTo(to2)) {\n      to2 = void 0;\n    }\n    from = is5.obj(from) ? from[key] : from;\n    if (from == null) {\n      from = void 0;\n    }\n    const range = { to: to2, from };\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to2, from] = [from, to2];\n      from = getFluidValue2(from);\n      if (!is5.und(from)) {\n        this._set(from);\n      } else if (!getAnimated2(this)) {\n        this._set(to2);\n      }\n    }\n    return range;\n  }\n  /** Every update is processed by this method before merging. */\n  _update({ ...props }, isLoop) {\n    const { key, defaultProps } = this;\n    if (props.default)\n      Object.assign(\n        defaultProps,\n        getDefaultProps(\n          props,\n          (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value\n        )\n      );\n    mergeActiveFn(this, props, \"onProps\");\n    sendEvent(this, \"onProps\", props, this);\n    const range = this._prepareNode(props);\n    if (Object.isFrozen(this)) {\n      throw Error(\n        \"Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?\"\n      );\n    }\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(\n              this,\n              \"onPause\",\n              getFinishedResult(this, checkFinished(this, this.animation.to)),\n              this\n            );\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n            if (isAnimating(this)) {\n              this._resume();\n            }\n            flushCalls(state.resumeQueue);\n            sendEvent(\n              this,\n              \"onResume\",\n              getFinishedResult(this, checkFinished(this, this.animation.to)),\n              this\n            );\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then((result) => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n      return result;\n    });\n  }\n  /** Merge props into the current animation */\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n    const hasToProp = !is5.und(range.to);\n    const hasFromProp = !is5.und(range.from);\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n    const { key, defaultProps, animation: anim } = this;\n    const { to: prevTo, from: prevFrom } = anim;\n    let { to: to2 = prevTo, from = prevFrom } = range;\n    if (hasFromProp && !hasToProp && (!props.default || is5.und(to2))) {\n      to2 = from;\n    }\n    if (props.reverse) [to2, from] = [from, to2];\n    const hasFromChanged = !isEqual(from, prevFrom);\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n    from = getFluidValue2(from);\n    const hasToChanged = !isEqual(to2, prevTo);\n    if (hasToChanged) {\n      this._focus(to2);\n    }\n    const hasAsyncTo = isAsyncTo(props.to);\n    const { config: config2 } = anim;\n    const { decay, velocity } = config2;\n    if (hasToProp || hasFromProp) {\n      config2.velocity = 0;\n    }\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(\n        config2,\n        callProp(props.config, key),\n        // Avoid calling the same \"config\" prop twice.\n        props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0\n      );\n    }\n    let node = getAnimated2(this);\n    if (!node || is5.und(to2)) {\n      return resolve(getFinishedResult(this, true));\n    }\n    const reset = (\n      // When `reset` is undefined, the `from` prop implies `reset: true`,\n      // except for declarative updates. When `reset` is defined, there\n      // must exist a value to animate from.\n      is5.und(props.reset) ? hasFromProp && !props.default : !is5.und(from) && matchProp(props.reset, key)\n    );\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to2);\n    const isAnimatable = is5.num(goal) || is5.arr(goal) || isAnimatedString2(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to2);\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else\n          throw Error(\n            `Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`\n          );\n      }\n    }\n    const goalType = node.constructor;\n    let started = hasFluidValue(to2);\n    let finished = false;\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config2.decay, decay) || !isEqual(config2.velocity, velocity)) {\n        started = true;\n      }\n    }\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n        this._stop(prevTo);\n      }\n    }\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to2) ? null : goalType == AnimatedString ? [1] : toArray2(goal);\n      }\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n      if (started) {\n        const { onRest } = anim;\n        each2(ACTIVE_EVENTS, (type) => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n        this._pendingCalls.add(resolve);\n        if (anim.changed)\n          raf3.batchedUpdates(() => {\n            anim.changed = !reset;\n            onRest?.(result, this);\n            if (reset) {\n              callProp(defaultProps.onRest, result);\n            } else {\n              anim.onStart?.(result, this);\n            }\n          });\n      }\n    }\n    if (reset) {\n      this._set(value);\n    }\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n      this._start();\n    } else if (isAnimating(this) && !hasToChanged) {\n      this._pendingCalls.add(resolve);\n    } else {\n      resolve(getNoopResult(value));\n    }\n  }\n  /** Update the `animation.to` value, which might be a `FluidValue` */\n  _focus(value) {\n    const anim = this.animation;\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n      anim.to = value;\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n  _attach() {\n    let priority = 0;\n    const { to: to2 } = this.animation;\n    if (hasFluidValue(to2)) {\n      addFluidObserver(to2, this);\n      if (isFrameValue(to2)) {\n        priority = to2.priority + 1;\n      }\n    }\n    this.priority = priority;\n  }\n  _detach() {\n    const { to: to2 } = this.animation;\n    if (hasFluidValue(to2)) {\n      removeFluidObserver(to2, this);\n    }\n  }\n  /**\n   * Update the current value from outside the frameloop,\n   * and return the `Animated` node.\n   */\n  _set(arg, idle = true) {\n    const value = getFluidValue2(arg);\n    if (!is5.und(value)) {\n      const oldNode = getAnimated2(this);\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n        if (oldNode) {\n          raf3.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n    return getAnimated2(this);\n  }\n  _onStart() {\n    const anim = this.animation;\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(\n        this,\n        \"onStart\",\n        getFinishedResult(this, checkFinished(this, anim.to)),\n        this\n      );\n    }\n  }\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n      callProp(this.animation.onChange, value, this);\n    }\n    callProp(this.defaultProps.onChange, value, this);\n    super._onChange(value, idle);\n  }\n  // This method resets the animation state (even if already animating) to\n  // ensure the latest from/to range is used, and it also ensures this spring\n  // is added to the frameloop.\n  _start() {\n    const anim = this.animation;\n    getAnimated2(this).reset(getFluidValue2(anim.to));\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map((node) => node.lastPosition);\n    }\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n  _resume() {\n    if (G5.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop2.start(this);\n    }\n  }\n  /**\n   * Exit the frameloop and notify `onRest` listeners.\n   *\n   * Always wrap `_stop` calls with `batchedUpdates`.\n   */\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each2(anim.values, (node) => {\n        node.done = true;\n      });\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = void 0;\n      }\n      callFluidObservers2(this, {\n        type: \"idle\",\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal ?? anim.to));\n      flushCalls(this._pendingCalls, result);\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, \"onRest\", result, this);\n      }\n    }\n  }\n};\nfunction checkFinished(target, to2) {\n  const goal = computeGoal(to2);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\nfunction createLoopUpdate(props, loop = props.loop, to2 = props.to) {\n  const loopRet = callProp(loop);\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate({\n      ...props,\n      loop,\n      // Avoid updating default props when looping.\n      default: false,\n      // Never loop the `pause` prop.\n      pause: void 0,\n      // For the \"reverse\" prop to loop as expected, the \"to\" prop\n      // must be undefined. The \"reverse\" prop is ignored when the\n      // \"to\" prop is an array or function.\n      to: !reverse || isAsyncTo(to2) ? to2 : void 0,\n      // Ignore the \"from\" prop except on reset.\n      from: reset ? props.from : void 0,\n      reset,\n      // The \"loop\" prop can return a \"useSpring\" props object to\n      // override any of the original props.\n      ...overrides\n    });\n  }\n}\nfunction createUpdate(props) {\n  const { to: to2, from } = props = inferTo(props);\n  const keys = /* @__PURE__ */ new Set();\n  if (is5.obj(to2)) findDefined(to2, keys);\n  if (is5.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update2 = createUpdate(props);\n  if (is5.und(update2.default)) {\n    update2.default = getDefaultProps(update2);\n  }\n  return update2;\n}\nfunction findDefined(values, keys) {\n  eachProp3(values, (value, key) => value != null && keys.add(key));\n}\nvar ACTIVE_EVENTS = [\n  \"onStart\",\n  \"onRest\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\"\n];\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : void 0;\n}\nfunction sendEvent(target, type, ...args) {\n  target.animation[type]?.(...args);\n  target.defaultProps[type]?.(...args);\n}\n\n// src/Controller.ts\nimport {\n  is as is6,\n  raf as raf4,\n  each as each3,\n  noop,\n  flush as flush2,\n  toArray as toArray3,\n  eachProp as eachProp4,\n  flushCalls as flushCalls2,\n  addFluidObserver as addFluidObserver2\n} from \"@react-spring/shared\";\nvar BATCHED_EVENTS = [\"onStart\", \"onChange\", \"onRest\"];\nvar nextId2 = 1;\nvar Controller = class {\n  constructor(props, flush3) {\n    this.id = nextId2++;\n    /** The animated values */\n    this.springs = {};\n    /** The queue of props passed to the `update` method. */\n    this.queue = [];\n    /** The counter for tracking `scheduleProps` calls */\n    this._lastAsyncId = 0;\n    /** The values currently being animated */\n    this._active = /* @__PURE__ */ new Set();\n    /** The values that changed recently */\n    this._changed = /* @__PURE__ */ new Set();\n    /** Equals false when `onStart` listeners can be called */\n    this._started = false;\n    /** State used by the `runAsync` function */\n    this._state = {\n      paused: false,\n      pauseQueue: /* @__PURE__ */ new Set(),\n      resumeQueue: /* @__PURE__ */ new Set(),\n      timeouts: /* @__PURE__ */ new Set()\n    };\n    /** The event queues that are flushed once per frame maximum */\n    this._events = {\n      onStart: /* @__PURE__ */ new Map(),\n      onChange: /* @__PURE__ */ new Map(),\n      onRest: /* @__PURE__ */ new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n    if (flush3) {\n      this._flush = flush3;\n    }\n    if (props) {\n      this.start({ default: true, ...props });\n    }\n  }\n  /**\n   * Equals `true` when no spring values are in the frameloop, and\n   * no async animation is currently active.\n   */\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every((spring) => {\n      return spring.idle && !spring.isDelayed && !spring.isPaused;\n    });\n  }\n  get item() {\n    return this._item;\n  }\n  set item(item) {\n    this._item = item;\n  }\n  /** Get the current values of our springs */\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n  /** Set the current values without animating. */\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n      if (!is6.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n  /** Push an update onto the queue of each value. */\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n    return this;\n  }\n  /**\n   * Start the queued animations for every spring, and resolve the returned\n   * promise once all queued animations have finished or been cancelled.\n   *\n   * When you pass a queue (instead of nothing), that queue is used instead of\n   * the queued animations added with the `update` method, which are left alone.\n   */\n  start(props) {\n    let { queue } = this;\n    if (props) {\n      queue = toArray3(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n  /** @internal */\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n    if (keys) {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each((spring) => spring.stop(!!arg));\n    }\n    return this;\n  }\n  /** Freeze the active animation in time */\n  pause(keys) {\n    if (is6.und(keys)) {\n      this.start({ pause: true });\n    } else {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].pause());\n    }\n    return this;\n  }\n  /** Resume the animation if paused. */\n  resume(keys) {\n    if (is6.und(keys)) {\n      this.start({ pause: false });\n    } else {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].resume());\n    }\n    return this;\n  }\n  /** Call a function once per spring value */\n  each(iterator) {\n    eachProp4(this.springs, iterator);\n  }\n  /** @internal Called at the end of every animation frame */\n  _onFrame() {\n    const { onStart, onChange, onRest } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush2(onStart, ([onStart2, result]) => {\n        result.value = this.get();\n        onStart2(result, this, this._item);\n      });\n    }\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n    if (changed && onChange.size) {\n      flush2(onChange, ([onChange2, result]) => {\n        result.value = values;\n        onChange2(result, this, this._item);\n      });\n    }\n    if (idle) {\n      this._started = false;\n      flush2(onRest, ([onRest2, result]) => {\n        result.value = values;\n        onRest2(result, this, this._item);\n      });\n    }\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._changed.add(event.parent);\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else return;\n    raf4.onFrame(this._onFrame);\n  }\n};\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map((props) => flushUpdate(ctrl, props))).then(\n    (results) => getCombinedResult(ctrl, results)\n  );\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const { keys, to: to2, from, loop, onRest, onResolve } = props;\n  const defaults2 = is6.obj(props.default) && props.default;\n  if (loop) {\n    props.loop = false;\n  }\n  if (to2 === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is6.arr(to2) || is6.fun(to2) ? to2 : void 0;\n  if (asyncTo) {\n    props.to = void 0;\n    props.onRest = void 0;\n    if (defaults2) {\n      defaults2.onRest = void 0;\n    }\n  } else {\n    each3(BATCHED_EVENTS, (key) => {\n      const handler = props[key];\n      if (is6.fun(handler)) {\n        const queue = ctrl[\"_events\"][key];\n        props[key] = ({ finished, cancelled }) => {\n          const result2 = queue.get(handler);\n          if (result2) {\n            if (!finished) result2.finished = false;\n            if (cancelled) result2.cancelled = true;\n          } else {\n            queue.set(handler, {\n              value: null,\n              finished: finished || false,\n              cancelled: cancelled || false\n            });\n          }\n        };\n        if (defaults2) {\n          defaults2[key] = props[key];\n        }\n      }\n    });\n  }\n  const state = ctrl[\"_state\"];\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls2(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n    props.pause = true;\n  }\n  const promises = (keys || Object.keys(ctrl.springs)).map(\n    (key) => ctrl.springs[key].start(props)\n  );\n  const cancel = props.cancel === true || getDefaultProp(props, \"cancel\") === true;\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(\n      scheduleProps(++ctrl[\"_lastAsyncId\"], {\n        props,\n        state,\n        actions: {\n          pause: noop,\n          resume: noop,\n          start(props2, resolve) {\n            if (cancel) {\n              stopAsync(state, ctrl[\"_lastAsyncId\"]);\n              resolve(getCancelledResult(ctrl));\n            } else {\n              props2.onRest = onRest;\n              resolve(\n                runAsync(\n                  asyncTo,\n                  props2,\n                  state,\n                  ctrl\n                )\n              );\n            }\n          }\n        }\n      })\n    );\n  }\n  if (state.paused) {\n    await new Promise((resume) => {\n      state.resumeQueue.add(resume);\n    });\n  }\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to2);\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n  if (onResolve) {\n    raf4.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = { ...ctrl.springs };\n  if (props) {\n    each3(toArray3(props), (props2) => {\n      if (is6.und(props2.keys)) {\n        props2 = createUpdate(props2);\n      }\n      if (!is6.obj(props2.to)) {\n        props2 = { ...props2, to: void 0 };\n      }\n      prepareSprings(springs, props2, (key) => {\n        return createSpring(key);\n      });\n    });\n  }\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp4(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver2(spring, ctrl);\n    }\n  });\n}\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n  if (observer) {\n    addFluidObserver2(spring, observer);\n  }\n  return spring;\n}\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each3(props.keys, (key) => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring[\"_prepareNode\"](props);\n    });\n  }\n}\nfunction prepareKeys(ctrl, queue) {\n  each3(queue, (props) => {\n    prepareSprings(ctrl.springs, props, (key) => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\n// src/SpringContext.tsx\nimport * as React from \"react\";\nimport { useContext } from \"react\";\nvar SpringContext = React.createContext({\n  pause: false,\n  immediate: false\n});\n\n// src/SpringRef.ts\nimport { each as each4, is as is7, deprecateDirectCall } from \"@react-spring/shared\";\nvar SpringRef = () => {\n  const current = [];\n  const SpringRef2 = function(props) {\n    deprecateDirectCall();\n    const results = [];\n    each4(current, (ctrl, i) => {\n      if (is7.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update2 = _getProps(props, ctrl, i);\n        if (update2) {\n          results.push(ctrl.start(update2));\n        }\n      }\n    });\n    return results;\n  };\n  SpringRef2.current = current;\n  SpringRef2.add = function(ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n  SpringRef2.delete = function(ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n  SpringRef2.pause = function() {\n    each4(current, (ctrl) => ctrl.pause(...arguments));\n    return this;\n  };\n  SpringRef2.resume = function() {\n    each4(current, (ctrl) => ctrl.resume(...arguments));\n    return this;\n  };\n  SpringRef2.set = function(values) {\n    each4(current, (ctrl, i) => {\n      const update2 = is7.fun(values) ? values(i, ctrl) : values;\n      if (update2) {\n        ctrl.set(update2);\n      }\n    });\n  };\n  SpringRef2.start = function(props) {\n    const results = [];\n    each4(current, (ctrl, i) => {\n      if (is7.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update2 = this._getProps(props, ctrl, i);\n        if (update2) {\n          results.push(ctrl.start(update2));\n        }\n      }\n    });\n    return results;\n  };\n  SpringRef2.stop = function() {\n    each4(current, (ctrl) => ctrl.stop(...arguments));\n    return this;\n  };\n  SpringRef2.update = function(props) {\n    each4(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n  const _getProps = function(arg, ctrl, index) {\n    return is7.fun(arg) ? arg(index, ctrl) : arg;\n  };\n  SpringRef2._getProps = _getProps;\n  return SpringRef2;\n};\n\n// src/hooks/useSprings.ts\nfunction useSprings(length, props, deps) {\n  const propsFn = is8.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo2(\n    () => propsFn || arguments.length == 3 ? SpringRef() : void 0,\n    []\n  );\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo2(\n    () => ({\n      ctrls: [],\n      queue: [],\n      flush(ctrl, updates2) {\n        const springs2 = getSprings(ctrl, updates2);\n        const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs2).some((key) => !ctrl.springs[key]);\n        return canFlushSync ? flushUpdateQueue(ctrl, updates2) : new Promise((resolve) => {\n          setSprings(ctrl, springs2);\n          state.queue.push(() => {\n            resolve(flushUpdateQueue(ctrl, updates2));\n          });\n          forceUpdate();\n        });\n      }\n    }),\n    []\n  );\n  const ctrls = useRef([...state.ctrls]);\n  const updates = useRef([]);\n  const prevLength = usePrev(length) || 0;\n  useMemo2(() => {\n    each5(ctrls.current.slice(length, prevLength), (ctrl) => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo2(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update2 = propsFn ? propsFn(i, ctrl) : props[i];\n      if (update2) {\n        updates.current[i] = declareUpdate(update2);\n      }\n    }\n  }\n  const springs = ctrls.current.map(\n    (ctrl, i) => getSprings(ctrl, updates.current[i])\n  );\n  const context = useContext2(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect2(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const { queue } = state;\n    if (queue.length) {\n      state.queue = [];\n      each5(queue, (cb) => cb());\n    }\n    each5(ctrls.current, (ctrl, i) => {\n      ref?.add(ctrl);\n      if (hasContext) {\n        ctrl.start({ default: context });\n      }\n      const update2 = updates.current[i];\n      if (update2) {\n        replaceRef(ctrl, update2.ref);\n        if (ctrl.ref) {\n          ctrl.queue.push(update2);\n        } else {\n          ctrl.start(update2);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each5(state.ctrls, (ctrl) => ctrl.stop(true));\n  });\n  const values = springs.map((x) => ({ ...x }));\n  return ref ? [values, ref] : values;\n}\n\n// src/hooks/useSpring.ts\nfunction useSpring(props, deps) {\n  const isFn = is9.fun(props);\n  const [[values], ref] = useSprings(\n    1,\n    isFn ? props : [props],\n    isFn ? deps || [] : deps\n  );\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\n// src/hooks/useSpringRef.ts\nimport { useState } from \"react\";\nvar initSpringRef = () => SpringRef();\nvar useSpringRef = () => useState(initSpringRef)[0];\n\n// src/hooks/useSpringValue.ts\nimport { useConstant, useOnce as useOnce2 } from \"@react-spring/shared\";\nvar useSpringValue = (initial, props) => {\n  const springValue = useConstant(() => new SpringValue(initial, props));\n  useOnce2(() => () => {\n    springValue.stop();\n  });\n  return springValue;\n};\n\n// src/hooks/useTrail.ts\nimport { each as each6, is as is10, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect3 } from \"@react-spring/shared\";\nfunction useTrail(length, propsArg, deps) {\n  const propsFn = is10.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  let passedRef = void 0;\n  const result = useSprings(\n    length,\n    (i, ctrl) => {\n      const props = propsFn ? propsFn(i, ctrl) : propsArg;\n      passedRef = props.ref;\n      reverse = reverse && props.reverse;\n      return props;\n    },\n    // Ensure the props function is called when no deps exist.\n    // This works around the 3 argument rule.\n    deps || [{}]\n  );\n  useIsomorphicLayoutEffect3(() => {\n    each6(result[1].current, (ctrl, i) => {\n      const parent = result[1].current[i + (reverse ? 1 : -1)];\n      replaceRef(ctrl, passedRef);\n      if (ctrl.ref) {\n        if (parent) {\n          ctrl.update({ to: parent.springs });\n        }\n        return;\n      }\n      if (parent) {\n        ctrl.start({ to: parent.springs });\n      } else {\n        ctrl.start();\n      }\n    });\n  }, deps);\n  if (propsFn || arguments.length == 3) {\n    const ref = passedRef ?? result[1];\n    ref[\"_getProps\"] = (propsArg2, ctrl, i) => {\n      const props = is10.fun(propsArg2) ? propsArg2(i, ctrl) : propsArg2;\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n    return result;\n  }\n  return result[0];\n}\n\n// src/hooks/useTransition.tsx\nimport * as React2 from \"react\";\nimport { useContext as useContext3, useRef as useRef2, useMemo as useMemo3 } from \"react\";\nimport {\n  is as is11,\n  toArray as toArray4,\n  useForceUpdate as useForceUpdate2,\n  useOnce as useOnce3,\n  usePrev as usePrev2,\n  each as each7,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect4\n} from \"@react-spring/shared\";\nfunction useTransition(data, props, deps) {\n  const propsFn = is11.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    exitBeforeEnter = false,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo3(\n    () => propsFn || arguments.length == 3 ? SpringRef() : void 0,\n    []\n  );\n  const items = toArray4(data);\n  const transitions = [];\n  const usedTransitions = useRef2(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useIsomorphicLayoutEffect4(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce3(() => {\n    each7(transitions, (t) => {\n      ref?.add(t.ctrl);\n      t.ctrl.ref = ref;\n    });\n    return () => {\n      each7(usedTransitions.current, (t) => {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useIsomorphicLayoutEffect4(\n    () => each7(expired, ({ ctrl, item, key }) => {\n      detachRefs(ctrl, ref);\n      callProp(onDestroyed, item, key);\n    })\n  );\n  const reused = [];\n  if (prevTransitions)\n    each7(prevTransitions, (t, i) => {\n      if (t.expired) {\n        clearTimeout(t.expirationId);\n        expired.push(t);\n      } else {\n        i = reused[i] = keys.indexOf(t.key);\n        if (~i) transitions[i] = t;\n      }\n    });\n  each7(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: \"mount\" /* MOUNT */,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n  if (reused.length) {\n    let i = -1;\n    const { leave } = propsFn ? propsFn() : props;\n    each7(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = { ...t, item: items[keyIndex] };\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n  if (is11.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n  let delay = -trail;\n  const forceUpdate = useForceUpdate2();\n  const defaultProps = getDefaultProps(props);\n  const changes = /* @__PURE__ */ new Map();\n  const exitingTransitions = useRef2(/* @__PURE__ */ new Map());\n  const forceChange = useRef2(false);\n  each7(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to2;\n    let phase;\n    const propsDelay = callProp(p.delay || 0, key);\n    if (prevPhase == \"mount\" /* MOUNT */) {\n      to2 = p.enter;\n      phase = \"enter\" /* ENTER */;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n      if (prevPhase != \"leave\" /* LEAVE */) {\n        if (isLeave) {\n          to2 = p.leave;\n          phase = \"leave\" /* LEAVE */;\n        } else if (to2 = p.update) {\n          phase = \"update\" /* UPDATE */;\n        } else return;\n      } else if (!isLeave) {\n        to2 = p.enter;\n        phase = \"enter\" /* ENTER */;\n      } else return;\n    }\n    to2 = callProp(to2, t.item, i);\n    to2 = is11.obj(to2) ? inferTo(to2) : { to: to2 };\n    if (!to2.config) {\n      const config2 = propsConfig || defaultProps.config;\n      to2.config = callProp(config2, t.item, i, phase);\n    }\n    delay += trail;\n    const payload = {\n      ...defaultProps,\n      // we need to add our props.delay value you here.\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      // This prevents implied resets.\n      reset: false,\n      // Merge any phase-specific props.\n      ...to2\n    };\n    if (phase == \"enter\" /* ENTER */ && is11.und(payload.from)) {\n      const p2 = propsFn ? propsFn() : props;\n      const from = is11.und(p2.initial) || prevTransitions ? p2.from : p2.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n    const { onResolve } = payload;\n    payload.onResolve = (result) => {\n      callProp(onResolve, result);\n      const transitions2 = usedTransitions.current;\n      const t2 = transitions2.find((t3) => t3.key === key);\n      if (!t2) return;\n      if (result.cancelled && t2.phase != \"update\" /* UPDATE */) {\n        return;\n      }\n      if (t2.ctrl.idle) {\n        const idle = transitions2.every((t3) => t3.ctrl.idle);\n        if (t2.phase == \"leave\" /* LEAVE */) {\n          const expiry = callProp(expires, t2.item);\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t2.expired = true;\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 2147483647)\n                t2.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n        if (idle && transitions2.some((t3) => t3.expired)) {\n          exitingTransitions.current.delete(t2);\n          if (exitBeforeEnter) {\n            forceChange.current = true;\n          }\n          forceUpdate();\n        }\n      }\n    };\n    const springs = getSprings(t.ctrl, payload);\n    if (phase === \"leave\" /* LEAVE */ && exitBeforeEnter) {\n      exitingTransitions.current.set(t, { phase, springs, payload });\n    } else {\n      changes.set(t, { phase, springs, payload });\n    }\n  });\n  const context = useContext3(SpringContext);\n  const prevContext = usePrev2(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect4(() => {\n    if (hasContext) {\n      each7(transitions, (t) => {\n        t.ctrl.start({ default: context });\n      });\n    }\n  }, [context]);\n  each7(changes, (_, t) => {\n    if (exitingTransitions.current.size) {\n      const ind = transitions.findIndex((state) => state.key === t.key);\n      transitions.splice(ind, 1);\n    }\n  });\n  useIsomorphicLayoutEffect4(\n    () => {\n      each7(\n        exitingTransitions.current.size ? exitingTransitions.current : changes,\n        ({ phase, payload }, t) => {\n          const { ctrl } = t;\n          t.phase = phase;\n          ref?.add(ctrl);\n          if (hasContext && phase == \"enter\" /* ENTER */) {\n            ctrl.start({ default: context });\n          }\n          if (payload) {\n            replaceRef(ctrl, payload.ref);\n            if ((ctrl.ref || ref) && !forceChange.current) {\n              ctrl.update(payload);\n            } else {\n              ctrl.start(payload);\n              if (forceChange.current) {\n                forceChange.current = false;\n              }\n            }\n          }\n        }\n      );\n    },\n    reset ? void 0 : deps\n  );\n  const renderTransitions = (render) => /* @__PURE__ */ React2.createElement(React2.Fragment, null, transitions.map((t, i) => {\n    const { springs } = changes.get(t) || t.ctrl;\n    const elem = render({ ...springs }, t.item, t, i);\n    const key = is11.str(t.key) || is11.num(t.key) ? t.key : t.ctrl.id;\n    const isLegacyReact = React2.version < \"19.0.0\";\n    const props2 = elem?.props ?? {};\n    const elemRef = isLegacyReact ? elem?.ref : props2?.ref;\n    return elem && elem.type ? /* @__PURE__ */ React2.createElement(elem.type, { ...props2, key, ref: elemRef }) : elem;\n  }));\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nvar nextKey = 1;\nfunction getKeys(items, { key, keys = key }, prevTransitions) {\n  if (keys === null) {\n    const reused = /* @__PURE__ */ new Set();\n    return items.map((item) => {\n      const t = prevTransitions && prevTransitions.find(\n        (t2) => t2.item === item && t2.phase !== \"leave\" /* LEAVE */ && !reused.has(t2)\n      );\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n      return nextKey++;\n    });\n  }\n  return is11.und(keys) ? items : is11.fun(keys) ? items.map(keys) : toArray4(keys);\n}\n\n// src/hooks/useScroll.ts\nimport { each as each8, onScroll, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect5 } from \"@react-spring/shared\";\nvar useScroll = ({\n  container,\n  ...springOptions\n} = {}) => {\n  const [scrollValues, api] = useSpring(\n    () => ({\n      scrollX: 0,\n      scrollY: 0,\n      scrollXProgress: 0,\n      scrollYProgress: 0,\n      ...springOptions\n    }),\n    []\n  );\n  useIsomorphicLayoutEffect5(() => {\n    const cleanupScroll = onScroll(\n      ({ x, y }) => {\n        api.start({\n          scrollX: x.current,\n          scrollXProgress: x.progress,\n          scrollY: y.current,\n          scrollYProgress: y.progress\n        });\n      },\n      { container: container?.current || void 0 }\n    );\n    return () => {\n      each8(Object.values(scrollValues), (value) => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return scrollValues;\n};\n\n// src/hooks/useResize.ts\nimport { onResize, each as each9, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect6 } from \"@react-spring/shared\";\nvar useResize = ({\n  container,\n  ...springOptions\n}) => {\n  const [sizeValues, api] = useSpring(\n    () => ({\n      width: 0,\n      height: 0,\n      ...springOptions\n    }),\n    []\n  );\n  useIsomorphicLayoutEffect6(() => {\n    const cleanupScroll = onResize(\n      ({ width, height }) => {\n        api.start({\n          width,\n          height,\n          immediate: sizeValues.width.get() === 0 || sizeValues.height.get() === 0 || springOptions.immediate === true\n        });\n      },\n      { container: container?.current || void 0 }\n    );\n    return () => {\n      each9(Object.values(sizeValues), (value) => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return sizeValues;\n};\n\n// src/hooks/useInView.ts\nimport { useRef as useRef3, useState as useState2 } from \"react\";\nimport { is as is12, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect7 } from \"@react-spring/shared\";\nvar defaultThresholdOptions = {\n  any: 0,\n  all: 1\n};\nfunction useInView(props, args) {\n  const [isInView, setIsInView] = useState2(false);\n  const ref = useRef3(void 0);\n  const propsFn = is12.fun(props) && props;\n  const springsProps = propsFn ? propsFn() : {};\n  const { to: to2 = {}, from = {}, ...restSpringProps } = springsProps;\n  const intersectionArguments = propsFn ? args : props;\n  const [springs, api] = useSpring(() => ({ from, ...restSpringProps }), []);\n  useIsomorphicLayoutEffect7(() => {\n    const element = ref.current;\n    const {\n      root,\n      once,\n      amount = \"any\",\n      ...restArgs\n    } = intersectionArguments ?? {};\n    if (!element || once && isInView || typeof IntersectionObserver === \"undefined\")\n      return;\n    const activeIntersections = /* @__PURE__ */ new WeakMap();\n    const onEnter = () => {\n      if (to2) {\n        api.start(to2);\n      }\n      setIsInView(true);\n      const cleanup = () => {\n        if (from) {\n          api.start(from);\n        }\n        setIsInView(false);\n      };\n      return once ? void 0 : cleanup;\n    };\n    const handleIntersection = (entries) => {\n      entries.forEach((entry) => {\n        const onLeave = activeIntersections.get(entry.target);\n        if (entry.isIntersecting === Boolean(onLeave)) {\n          return;\n        }\n        if (entry.isIntersecting) {\n          const newOnLeave = onEnter();\n          if (is12.fun(newOnLeave)) {\n            activeIntersections.set(entry.target, newOnLeave);\n          } else {\n            observer.unobserve(entry.target);\n          }\n        } else if (onLeave) {\n          onLeave();\n          activeIntersections.delete(entry.target);\n        }\n      });\n    };\n    const observer = new IntersectionObserver(handleIntersection, {\n      root: root && root.current || void 0,\n      threshold: typeof amount === \"number\" || Array.isArray(amount) ? amount : defaultThresholdOptions[amount],\n      ...restArgs\n    });\n    observer.observe(element);\n    return () => observer.unobserve(element);\n  }, [intersectionArguments]);\n  if (propsFn) {\n    return [ref, springs];\n  }\n  return [ref, isInView];\n}\n\n// src/components/Spring.tsx\nfunction Spring({ children, ...props }) {\n  return children(useSpring(props));\n}\n\n// src/components/Trail.tsx\nimport { is as is13 } from \"@react-spring/shared\";\nfunction Trail({\n  items,\n  children,\n  ...props\n}) {\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is13.fun(result) ? result(trails[index]) : result;\n  });\n}\n\n// src/components/Transition.tsx\nfunction Transition({\n  items,\n  children,\n  ...props\n}) {\n  return useTransition(items, props)(children);\n}\n\n// src/interpolate.ts\nimport { deprecateInterpolate as deprecateInterpolate2 } from \"@react-spring/shared\";\n\n// src/Interpolation.ts\nimport {\n  is as is14,\n  raf as raf5,\n  each as each10,\n  isEqual as isEqual2,\n  toArray as toArray5,\n  frameLoop as frameLoop3,\n  getFluidValue as getFluidValue3,\n  createInterpolator,\n  Globals as G6,\n  callFluidObservers as callFluidObservers3,\n  addFluidObserver as addFluidObserver3,\n  removeFluidObserver as removeFluidObserver2,\n  hasFluidValue as hasFluidValue2\n} from \"@react-spring/shared\";\nimport {\n  getAnimated as getAnimated3,\n  setAnimated as setAnimated2,\n  getAnimatedType as getAnimatedType2,\n  getPayload as getPayload2\n} from \"@react-spring/animated\";\nvar Interpolation = class extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.source = source;\n    /** Equals false when in the frameloop */\n    this.idle = true;\n    /** The inputs which are currently animating */\n    this._active = /* @__PURE__ */ new Set();\n    this.calc = createInterpolator(...args);\n    const value = this._get();\n    const nodeType = getAnimatedType2(value);\n    setAnimated2(this, nodeType.create(value));\n  }\n  advance(_dt) {\n    const value = this._get();\n    const oldValue = this.get();\n    if (!isEqual2(value, oldValue)) {\n      getAnimated3(this).setValue(value);\n      this._onChange(value, this.idle);\n    }\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n  _get() {\n    const inputs = is14.arr(this.source) ? this.source.map(getFluidValue3) : toArray5(getFluidValue3(this.source));\n    return this.calc(...inputs);\n  }\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each10(getPayload2(this), (node) => {\n        node.done = false;\n      });\n      if (G6.skipAnimation) {\n        raf5.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop3.start(this);\n      }\n    }\n  }\n  // Observe our sources only when we're observed.\n  _attach() {\n    let priority = 1;\n    each10(toArray5(this.source), (source) => {\n      if (hasFluidValue2(source)) {\n        addFluidObserver3(source, this);\n      }\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n    this._start();\n  }\n  // Stop observing our sources once we have no observers.\n  _detach() {\n    each10(toArray5(this.source), (source) => {\n      if (hasFluidValue2(source)) {\n        removeFluidObserver2(source, this);\n      }\n    });\n    this._active.clear();\n    becomeIdle(this);\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n        this._start();\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else if (event.type == \"priority\") {\n      this.priority = toArray5(this.source).reduce(\n        (highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1),\n        0\n      );\n    }\n  }\n};\nfunction isIdle(source) {\n  return source.idle !== false;\n}\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each10(getPayload2(self), (node) => {\n      node.done = true;\n    });\n    callFluidObservers3(self, {\n      type: \"idle\",\n      parent: self\n    });\n  }\n}\n\n// src/interpolate.ts\nvar to = (source, ...args) => new Interpolation(source, args);\nvar interpolate = (source, ...args) => (deprecateInterpolate2(), new Interpolation(source, args));\n\n// src/globals.ts\nimport {\n  Globals,\n  frameLoop as frameLoop4,\n  createStringInterpolator\n} from \"@react-spring/shared\";\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nvar update = frameLoop4.advance;\n\n// src/index.ts\nimport {\n  createInterpolator as createInterpolator2,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect8,\n  useReducedMotion,\n  easings as easings2\n} from \"@react-spring/shared\";\nexport * from \"@react-spring/types\";\nexport {\n  BailSignal,\n  Controller,\n  FrameValue,\n  Globals,\n  Interpolation,\n  Spring,\n  SpringContext,\n  SpringRef,\n  SpringValue,\n  Trail,\n  Transition,\n  config,\n  createInterpolator2 as createInterpolator,\n  easings2 as easings,\n  inferTo,\n  interpolate,\n  to,\n  update,\n  useChain,\n  useInView,\n  useIsomorphicLayoutEffect8 as useIsomorphicLayoutEffect,\n  useReducedMotion,\n  useResize,\n  useScroll,\n  useSpring,\n  useSpringRef,\n  useSpringValue,\n  useSprings,\n  useTrail,\n  useTransition\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 15071, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/35-SAT/SAT/node_modules/%40react-spring/three/dist/react-spring_three.modern.mjs"],"sourcesContent":["// src/index.ts\nimport { applyProps, addEffect } from \"@react-three/fiber\";\nimport { Globals } from \"@react-spring/core\";\nimport { createStringInterpolator, colors, raf } from \"@react-spring/shared\";\nimport { createHost } from \"@react-spring/animated\";\n\n// src/primitives.ts\nimport * as THREE from \"three\";\nimport \"@react-three/fiber\";\nvar primitives = [\"primitive\"].concat(\n  Object.keys(THREE).filter((key) => /^[A-Z]/.test(key)).map((key) => key[0].toLowerCase() + key.slice(1))\n);\n\n// src/index.ts\nexport * from \"@react-spring/core\";\nGlobals.assign({\n  createStringInterpolator,\n  colors,\n  frameLoop: \"demand\"\n});\naddEffect(() => {\n  raf.advance();\n});\nvar host = createHost(primitives, {\n  applyAnimatedValues: applyProps\n});\nvar animated = host.animated;\nexport {\n  animated as a,\n  animated\n};\n"],"names":[],"mappings":"AAAA,eAAe;;;;;;;AACf;AAAA;AACA;AAAA;AACA;AACA;AAEA,oBAAoB;AACpB;;;;;;;AAEA,IAAI,aAAa;IAAC;CAAY,CAAC,MAAM,CACnC,OAAO,IAAI,CAAC,sJAAO,MAAM,CAAC,SAAC;WAAQ,SAAS,IAAI,CAAC;GAAM,GAAG,CAAC,SAAC;WAAQ,GAAG,CAAC,EAAE,CAAC,WAAW,KAAK,IAAI,KAAK,CAAC;;;AAKvG,sNAAO,CAAC,MAAM,CAAC;IACb,0BAAA,uOAAwB;IACxB,QAAA,qNAAM;IACN,WAAW;AACb;AACA,IAAA,gOAAS,EAAC;IACR,8LAAG,CAAC,OAAO;AACb;AACA,IAAI,OAAO,IAAA,6MAAU,EAAC,YAAY;IAChC,qBAAqB,kOAAU;AACjC;AACA,IAAI,WAAW,KAAK,QAAQ","ignoreList":[0]}}]
}