{"version":3,"sources":["../../../../node_modules/html-to-image/src/apply-style.ts","../../../../node_modules/html-to-image/src/clone-node.ts","../../../../node_modules/html-to-image/src/dataurl.ts","../../../../node_modules/html-to-image/src/util.ts","../../../../node_modules/html-to-image/src/mimes.ts","../../../../node_modules/html-to-image/src/embed-resources.ts","../../../../node_modules/html-to-image/src/embed-images.ts","../../../../node_modules/html-to-image/src/embed-webfonts.ts","../../../../node_modules/html-to-image/src/index.ts","../../../../node_modules/html-to-image/src/clone-pseudos.ts"],"sourcesContent":["import type { Options } from './types'\n\nexport function applyStyle<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): T {\n  const { style } = node\n\n  if (options.backgroundColor) {\n    style.backgroundColor = options.backgroundColor\n  }\n\n  if (options.width) {\n    style.width = `${options.width}px`\n  }\n\n  if (options.height) {\n    style.height = `${options.height}px`\n  }\n\n  const manual = options.style\n  if (manual != null) {\n    Object.keys(manual).forEach((key: any) => {\n      style[key] = manual[key] as string\n    })\n  }\n\n  return node\n}\n","import type { Options } from './types'\nimport { clonePseudoElements } from './clone-pseudos'\nimport {\n  createImage,\n  toArray,\n  isInstanceOfElement,\n  getStyleProperties,\n} from './util'\nimport { getMimeType } from './mimes'\nimport { resourceToDataURL } from './dataurl'\n\nasync function cloneCanvasElement(canvas: HTMLCanvasElement) {\n  const dataURL = canvas.toDataURL()\n  if (dataURL === 'data:,') {\n    return canvas.cloneNode(false) as HTMLCanvasElement\n  }\n  return createImage(dataURL)\n}\n\nasync function cloneVideoElement(video: HTMLVideoElement, options: Options) {\n  if (video.currentSrc) {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    canvas.width = video.clientWidth\n    canvas.height = video.clientHeight\n    ctx?.drawImage(video, 0, 0, canvas.width, canvas.height)\n    const dataURL = canvas.toDataURL()\n    return createImage(dataURL)\n  }\n\n  const poster = video.poster\n  const contentType = getMimeType(poster)\n  const dataURL = await resourceToDataURL(poster, contentType, options)\n  return createImage(dataURL)\n}\n\nasync function cloneIFrameElement(iframe: HTMLIFrameElement, options: Options) {\n  try {\n    if (iframe?.contentDocument?.body) {\n      return (await cloneNode(\n        iframe.contentDocument.body,\n        options,\n        true,\n      )) as HTMLBodyElement\n    }\n  } catch {\n    // Failed to clone iframe\n  }\n\n  return iframe.cloneNode(false) as HTMLIFrameElement\n}\n\nasync function cloneSingleNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<HTMLElement> {\n  if (isInstanceOfElement(node, HTMLCanvasElement)) {\n    return cloneCanvasElement(node)\n  }\n\n  if (isInstanceOfElement(node, HTMLVideoElement)) {\n    return cloneVideoElement(node, options)\n  }\n\n  if (isInstanceOfElement(node, HTMLIFrameElement)) {\n    return cloneIFrameElement(node, options)\n  }\n\n  return node.cloneNode(isSVGElement(node)) as T\n}\n\nconst isSlotElement = (node: HTMLElement): node is HTMLSlotElement =>\n  node.tagName != null && node.tagName.toUpperCase() === 'SLOT'\n\nconst isSVGElement = (node: HTMLElement): node is HTMLSlotElement =>\n  node.tagName != null && node.tagName.toUpperCase() === 'SVG'\n\nasync function cloneChildren<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n): Promise<T> {\n  if (isSVGElement(clonedNode)) {\n    return clonedNode\n  }\n\n  let children: T[] = []\n\n  if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n    children = toArray<T>(nativeNode.assignedNodes())\n  } else if (\n    isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n    nativeNode.contentDocument?.body\n  ) {\n    children = toArray<T>(nativeNode.contentDocument.body.childNodes)\n  } else {\n    children = toArray<T>((nativeNode.shadowRoot ?? nativeNode).childNodes)\n  }\n\n  if (\n    children.length === 0 ||\n    isInstanceOfElement(nativeNode, HTMLVideoElement)\n  ) {\n    return clonedNode\n  }\n\n  await children.reduce(\n    (deferred, child) =>\n      deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild: HTMLElement | null) => {\n          if (clonedChild) {\n            clonedNode.appendChild(clonedChild)\n          }\n        }),\n    Promise.resolve(),\n  )\n\n  return clonedNode\n}\n\nfunction cloneCSSStyle<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n) {\n  const targetStyle = clonedNode.style\n  if (!targetStyle) {\n    return\n  }\n\n  const sourceStyle = window.getComputedStyle(nativeNode)\n  if (sourceStyle.cssText) {\n    targetStyle.cssText = sourceStyle.cssText\n    targetStyle.transformOrigin = sourceStyle.transformOrigin\n  } else {\n    getStyleProperties(options).forEach((name) => {\n      let value = sourceStyle.getPropertyValue(name)\n      if (name === 'font-size' && value.endsWith('px')) {\n        const reducedFont =\n          Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1\n        value = `${reducedFont}px`\n      }\n\n      if (\n        isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        name === 'display' &&\n        value === 'inline'\n      ) {\n        value = 'block'\n      }\n\n      if (name === 'd' && clonedNode.getAttribute('d')) {\n        value = `path(${clonedNode.getAttribute('d')})`\n      }\n\n      targetStyle.setProperty(\n        name,\n        value,\n        sourceStyle.getPropertyPriority(name),\n      )\n    })\n  }\n}\n\nfunction cloneInputValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n    clonedNode.innerHTML = nativeNode.value\n  }\n\n  if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n    clonedNode.setAttribute('value', nativeNode.value)\n  }\n}\n\nfunction cloneSelectValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n    const clonedSelect = clonedNode as any as HTMLSelectElement\n    const selectedOption = Array.from(clonedSelect.children).find(\n      (child) => nativeNode.value === child.getAttribute('value'),\n    )\n\n    if (selectedOption) {\n      selectedOption.setAttribute('selected', '')\n    }\n  }\n}\n\nfunction decorate<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n): T {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    cloneCSSStyle(nativeNode, clonedNode, options)\n    clonePseudoElements(nativeNode, clonedNode, options)\n    cloneInputValue(nativeNode, clonedNode)\n    cloneSelectValue(nativeNode, clonedNode)\n  }\n\n  return clonedNode\n}\n\nasync function ensureSVGSymbols<T extends HTMLElement>(\n  clone: T,\n  options: Options,\n) {\n  const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : []\n  if (uses.length === 0) {\n    return clone\n  }\n\n  const processedDefs: { [key: string]: HTMLElement } = {}\n  for (let i = 0; i < uses.length; i++) {\n    const use = uses[i]\n    const id = use.getAttribute('xlink:href')\n    if (id) {\n      const exist = clone.querySelector(id)\n      const definition = document.querySelector(id) as HTMLElement\n      if (!exist && definition && !processedDefs[id]) {\n        // eslint-disable-next-line no-await-in-loop\n        processedDefs[id] = (await cloneNode(definition, options, true))!\n      }\n    }\n  }\n\n  const nodes = Object.values(processedDefs)\n  if (nodes.length) {\n    const ns = 'http://www.w3.org/1999/xhtml'\n    const svg = document.createElementNS(ns, 'svg')\n    svg.setAttribute('xmlns', ns)\n    svg.style.position = 'absolute'\n    svg.style.width = '0'\n    svg.style.height = '0'\n    svg.style.overflow = 'hidden'\n    svg.style.display = 'none'\n\n    const defs = document.createElementNS(ns, 'defs')\n    svg.appendChild(defs)\n\n    for (let i = 0; i < nodes.length; i++) {\n      defs.appendChild(nodes[i])\n    }\n\n    clone.appendChild(svg)\n  }\n\n  return clone\n}\n\nexport async function cloneNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n  isRoot?: boolean,\n): Promise<T | null> {\n  if (!isRoot && options.filter && !options.filter(node)) {\n    return null\n  }\n\n  return Promise.resolve(node)\n    .then((clonedNode) => cloneSingleNode(clonedNode, options) as Promise<T>)\n    .then((clonedNode) => cloneChildren(node, clonedNode, options))\n    .then((clonedNode) => decorate(node, clonedNode, options))\n    .then((clonedNode) => ensureSVGSymbols(clonedNode, options))\n}\n","import { Options } from './types'\n\nfunction getContentFromDataUrl(dataURL: string) {\n  return dataURL.split(/,/)[1]\n}\n\nexport function isDataUrl(url: string) {\n  return url.search(/^(data:)/) !== -1\n}\n\nexport function makeDataUrl(content: string, mimeType: string) {\n  return `data:${mimeType};base64,${content}`\n}\n\nexport async function fetchAsDataURL<T>(\n  url: string,\n  init: RequestInit | undefined,\n  process: (data: { result: string; res: Response }) => T,\n): Promise<T> {\n  const res = await fetch(url, init)\n  if (res.status === 404) {\n    throw new Error(`Resource \"${res.url}\" not found`)\n  }\n  const blob = await res.blob()\n  return new Promise<T>((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onerror = reject\n    reader.onloadend = () => {\n      try {\n        resolve(process({ res, result: reader.result as string }))\n      } catch (error) {\n        reject(error)\n      }\n    }\n\n    reader.readAsDataURL(blob)\n  })\n}\n\nconst cache: { [url: string]: string } = {}\n\nfunction getCacheKey(\n  url: string,\n  contentType: string | undefined,\n  includeQueryParams: boolean | undefined,\n) {\n  let key = url.replace(/\\?.*/, '')\n\n  if (includeQueryParams) {\n    key = url\n  }\n\n  // font resource\n  if (/ttf|otf|eot|woff2?/i.test(key)) {\n    key = key.replace(/.*\\//, '')\n  }\n\n  return contentType ? `[${contentType}]${key}` : key\n}\n\nexport async function resourceToDataURL(\n  resourceUrl: string,\n  contentType: string | undefined,\n  options: Options,\n) {\n  const cacheKey = getCacheKey(\n    resourceUrl,\n    contentType,\n    options.includeQueryParams,\n  )\n\n  if (cache[cacheKey] != null) {\n    return cache[cacheKey]\n  }\n\n  // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n  if (options.cacheBust) {\n    // eslint-disable-next-line no-param-reassign\n    resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime()\n  }\n\n  let dataURL: string\n  try {\n    const content = await fetchAsDataURL(\n      resourceUrl,\n      options.fetchRequestInit,\n      ({ res, result }) => {\n        if (!contentType) {\n          // eslint-disable-next-line no-param-reassign\n          contentType = res.headers.get('Content-Type') || ''\n        }\n        return getContentFromDataUrl(result)\n      },\n    )\n    dataURL = makeDataUrl(content, contentType!)\n  } catch (error) {\n    dataURL = options.imagePlaceholder || ''\n\n    let msg = `Failed to fetch resource: ${resourceUrl}`\n    if (error) {\n      msg = typeof error === 'string' ? error : error.message\n    }\n\n    if (msg) {\n      console.warn(msg)\n    }\n  }\n\n  cache[cacheKey] = dataURL\n  return dataURL\n}\n","import type { Options } from './types'\n\nexport function resolveUrl(url: string, baseUrl: string | null): string {\n  // url is absolute already\n  if (url.match(/^[a-z]+:\\/\\//i)) {\n    return url\n  }\n\n  // url is absolute already, without protocol\n  if (url.match(/^\\/\\//)) {\n    return window.location.protocol + url\n  }\n\n  // dataURI, mailto:, tel:, etc.\n  if (url.match(/^[a-z]+:/i)) {\n    return url\n  }\n\n  const doc = document.implementation.createHTMLDocument()\n  const base = doc.createElement('base')\n  const a = doc.createElement('a')\n\n  doc.head.appendChild(base)\n  doc.body.appendChild(a)\n\n  if (baseUrl) {\n    base.href = baseUrl\n  }\n\n  a.href = url\n\n  return a.href\n}\n\nexport const uuid = (() => {\n  // generate uuid for className of pseudo elements.\n  // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n  let counter = 0\n\n  // ref: http://stackoverflow.com/a/6248722/2519373\n  const random = () =>\n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4)\n\n  return () => {\n    counter += 1\n    return `u${random()}${counter}`\n  }\n})()\n\nexport function delay<T>(ms: number) {\n  return (args: T) =>\n    new Promise<T>((resolve) => {\n      setTimeout(() => resolve(args), ms)\n    })\n}\n\nexport function toArray<T>(arrayLike: any): T[] {\n  const arr: T[] = []\n\n  for (let i = 0, l = arrayLike.length; i < l; i++) {\n    arr.push(arrayLike[i])\n  }\n\n  return arr\n}\n\nlet styleProps: string[] | null = null\nexport function getStyleProperties(options: Options = {}): string[] {\n  if (styleProps) {\n    return styleProps\n  }\n\n  if (options.includeStyleProperties) {\n    styleProps = options.includeStyleProperties\n    return styleProps\n  }\n\n  styleProps = toArray(window.getComputedStyle(document.documentElement))\n\n  return styleProps\n}\n\nfunction px(node: HTMLElement, styleProperty: string) {\n  const win = node.ownerDocument.defaultView || window\n  const val = win.getComputedStyle(node).getPropertyValue(styleProperty)\n  return val ? parseFloat(val.replace('px', '')) : 0\n}\n\nfunction getNodeWidth(node: HTMLElement) {\n  const leftBorder = px(node, 'border-left-width')\n  const rightBorder = px(node, 'border-right-width')\n  return node.clientWidth + leftBorder + rightBorder\n}\n\nfunction getNodeHeight(node: HTMLElement) {\n  const topBorder = px(node, 'border-top-width')\n  const bottomBorder = px(node, 'border-bottom-width')\n  return node.clientHeight + topBorder + bottomBorder\n}\n\nexport function getImageSize(targetNode: HTMLElement, options: Options = {}) {\n  const width = options.width || getNodeWidth(targetNode)\n  const height = options.height || getNodeHeight(targetNode)\n\n  return { width, height }\n}\n\nexport function getPixelRatio() {\n  let ratio\n\n  let FINAL_PROCESS\n  try {\n    FINAL_PROCESS = process\n  } catch (e) {\n    // pass\n  }\n\n  const val =\n    FINAL_PROCESS && FINAL_PROCESS.env\n      ? FINAL_PROCESS.env.devicePixelRatio\n      : null\n  if (val) {\n    ratio = parseInt(val, 10)\n    if (Number.isNaN(ratio)) {\n      ratio = 1\n    }\n  }\n  return ratio || window.devicePixelRatio || 1\n}\n\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384\n\nexport function checkCanvasDimensions(canvas: HTMLCanvasElement) {\n  if (\n    canvas.width > canvasDimensionLimit ||\n    canvas.height > canvasDimensionLimit\n  ) {\n    if (\n      canvas.width > canvasDimensionLimit &&\n      canvas.height > canvasDimensionLimit\n    ) {\n      if (canvas.width > canvas.height) {\n        canvas.height *= canvasDimensionLimit / canvas.width\n        canvas.width = canvasDimensionLimit\n      } else {\n        canvas.width *= canvasDimensionLimit / canvas.height\n        canvas.height = canvasDimensionLimit\n      }\n    } else if (canvas.width > canvasDimensionLimit) {\n      canvas.height *= canvasDimensionLimit / canvas.width\n      canvas.width = canvasDimensionLimit\n    } else {\n      canvas.width *= canvasDimensionLimit / canvas.height\n      canvas.height = canvasDimensionLimit\n    }\n  }\n}\n\nexport function canvasToBlob(\n  canvas: HTMLCanvasElement,\n  options: Options = {},\n): Promise<Blob | null> {\n  if (canvas.toBlob) {\n    return new Promise((resolve) => {\n      canvas.toBlob(\n        resolve,\n        options.type ? options.type : 'image/png',\n        options.quality ? options.quality : 1,\n      )\n    })\n  }\n\n  return new Promise((resolve) => {\n    const binaryString = window.atob(\n      canvas\n        .toDataURL(\n          options.type ? options.type : undefined,\n          options.quality ? options.quality : undefined,\n        )\n        .split(',')[1],\n    )\n    const len = binaryString.length\n    const binaryArray = new Uint8Array(len)\n\n    for (let i = 0; i < len; i += 1) {\n      binaryArray[i] = binaryString.charCodeAt(i)\n    }\n\n    resolve(\n      new Blob([binaryArray], {\n        type: options.type ? options.type : 'image/png',\n      }),\n    )\n  })\n}\n\nexport function createImage(url: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const img = new Image()\n    img.onload = () => {\n      img.decode().then(() => {\n        requestAnimationFrame(() => resolve(img))\n      })\n    }\n    img.onerror = reject\n    img.crossOrigin = 'anonymous'\n    img.decoding = 'async'\n    img.src = url\n  })\n}\n\nexport async function svgToDataURL(svg: SVGElement): Promise<string> {\n  return Promise.resolve()\n    .then(() => new XMLSerializer().serializeToString(svg))\n    .then(encodeURIComponent)\n    .then((html) => `data:image/svg+xml;charset=utf-8,${html}`)\n}\n\nexport async function nodeToDataURL(\n  node: HTMLElement,\n  width: number,\n  height: number,\n): Promise<string> {\n  const xmlns = 'http://www.w3.org/2000/svg'\n  const svg = document.createElementNS(xmlns, 'svg')\n  const foreignObject = document.createElementNS(xmlns, 'foreignObject')\n\n  svg.setAttribute('width', `${width}`)\n  svg.setAttribute('height', `${height}`)\n  svg.setAttribute('viewBox', `0 0 ${width} ${height}`)\n\n  foreignObject.setAttribute('width', '100%')\n  foreignObject.setAttribute('height', '100%')\n  foreignObject.setAttribute('x', '0')\n  foreignObject.setAttribute('y', '0')\n  foreignObject.setAttribute('externalResourcesRequired', 'true')\n\n  svg.appendChild(foreignObject)\n  foreignObject.appendChild(node)\n  return svgToDataURL(svg)\n}\n\nexport const isInstanceOfElement = <\n  T extends typeof Element | typeof HTMLElement | typeof SVGImageElement,\n>(\n  node: Element | HTMLElement | SVGImageElement,\n  instance: T,\n): node is T['prototype'] => {\n  if (node instanceof instance) return true\n\n  const nodePrototype = Object.getPrototypeOf(node)\n\n  if (nodePrototype === null) return false\n\n  return (\n    nodePrototype.constructor.name === instance.name ||\n    isInstanceOfElement(nodePrototype, instance)\n  )\n}\n","const WOFF = 'application/font-woff'\nconst JPEG = 'image/jpeg'\nconst mimes: { [key: string]: string } = {\n  woff: WOFF,\n  woff2: WOFF,\n  ttf: 'application/font-truetype',\n  eot: 'application/vnd.ms-fontobject',\n  png: 'image/png',\n  jpg: JPEG,\n  jpeg: JPEG,\n  gif: 'image/gif',\n  tiff: 'image/tiff',\n  svg: 'image/svg+xml',\n  webp: 'image/webp',\n}\n\nfunction getExtension(url: string): string {\n  const match = /\\.([^./]*?)$/g.exec(url)\n  return match ? match[1] : ''\n}\n\nexport function getMimeType(url: string): string {\n  const extension = getExtension(url).toLowerCase()\n  return mimes[extension] || ''\n}\n","import { Options } from './types'\nimport { resolveUrl } from './util'\nimport { getMimeType } from './mimes'\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl'\n\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g\n\nfunction toRegex(url: string): RegExp {\n  // eslint-disable-next-line no-useless-escape\n  const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1')\n  return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g')\n}\n\nexport function parseURLs(cssText: string): string[] {\n  const urls: string[] = []\n\n  cssText.replace(URL_REGEX, (raw, quotation, url) => {\n    urls.push(url)\n    return raw\n  })\n\n  return urls.filter((url) => !isDataUrl(url))\n}\n\nexport async function embed(\n  cssText: string,\n  resourceURL: string,\n  baseURL: string | null,\n  options: Options,\n  getContentFromUrl?: (url: string) => Promise<string>,\n): Promise<string> {\n  try {\n    const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL\n    const contentType = getMimeType(resourceURL)\n    let dataURL: string\n    if (getContentFromUrl) {\n      const content = await getContentFromUrl(resolvedURL)\n      dataURL = makeDataUrl(content, contentType)\n    } else {\n      dataURL = await resourceToDataURL(resolvedURL, contentType, options)\n    }\n    return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`)\n  } catch (error) {\n    // pass\n  }\n  return cssText\n}\n\nfunction filterPreferredFontFormat(\n  str: string,\n  { preferredFontFormat }: Options,\n): string {\n  return !preferredFontFormat\n    ? str\n    : str.replace(FONT_SRC_REGEX, (match: string) => {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || []\n          if (!format) {\n            return ''\n          }\n\n          if (format === preferredFontFormat) {\n            return `src: ${src};`\n          }\n        }\n      })\n}\n\nexport function shouldEmbed(url: string): boolean {\n  return url.search(URL_REGEX) !== -1\n}\n\nexport async function embedResources(\n  cssText: string,\n  baseUrl: string | null,\n  options: Options,\n): Promise<string> {\n  if (!shouldEmbed(cssText)) {\n    return cssText\n  }\n\n  const filteredCSSText = filterPreferredFontFormat(cssText, options)\n  const urls = parseURLs(filteredCSSText)\n  return urls.reduce(\n    (deferred, url) =>\n      deferred.then((css) => embed(css, url, baseUrl, options)),\n    Promise.resolve(filteredCSSText),\n  )\n}\n","import { Options } from './types'\nimport { embedResources } from './embed-resources'\nimport { toArray, isInstanceOfElement } from './util'\nimport { isDataUrl, resourceToDataURL } from './dataurl'\nimport { getMimeType } from './mimes'\n\nasync function embedProp(\n  propName: string,\n  node: HTMLElement,\n  options: Options,\n) {\n  const propValue = node.style?.getPropertyValue(propName)\n  if (propValue) {\n    const cssString = await embedResources(propValue, null, options)\n    node.style.setProperty(\n      propName,\n      cssString,\n      node.style.getPropertyPriority(propName),\n    )\n    return true\n  }\n  return false\n}\n\nasync function embedBackground<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  ;(await embedProp('background', clonedNode, options)) ||\n    (await embedProp('background-image', clonedNode, options))\n  ;(await embedProp('mask', clonedNode, options)) ||\n    (await embedProp('-webkit-mask', clonedNode, options)) ||\n    (await embedProp('mask-image', clonedNode, options)) ||\n    (await embedProp('-webkit-mask-image', clonedNode, options))\n}\n\nasync function embedImageNode<T extends HTMLElement | SVGImageElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement)\n\n  if (\n    !(isImageElement && !isDataUrl(clonedNode.src)) &&\n    !(\n      isInstanceOfElement(clonedNode, SVGImageElement) &&\n      !isDataUrl(clonedNode.href.baseVal)\n    )\n  ) {\n    return\n  }\n\n  const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal\n\n  const dataURL = await resourceToDataURL(url, getMimeType(url), options)\n  await new Promise((resolve, reject) => {\n    clonedNode.onload = resolve\n    clonedNode.onerror = options.onImageErrorHandler\n      ? (...attributes) => {\n          try {\n            resolve(options.onImageErrorHandler!(...attributes))\n          } catch (error) {\n            reject(error)\n          }\n        }\n      : reject\n\n    const image = clonedNode as HTMLImageElement\n    if (image.decode) {\n      image.decode = resolve as any\n    }\n\n    if (image.loading === 'lazy') {\n      image.loading = 'eager'\n    }\n\n    if (isImageElement) {\n      clonedNode.srcset = ''\n      clonedNode.src = dataURL\n    } else {\n      clonedNode.href.baseVal = dataURL\n    }\n  })\n}\n\nasync function embedChildren<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const children = toArray<HTMLElement>(clonedNode.childNodes)\n  const deferreds = children.map((child) => embedImages(child, options))\n  await Promise.all(deferreds).then(() => clonedNode)\n}\n\nexport async function embedImages<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    await embedBackground(clonedNode, options)\n    await embedImageNode(clonedNode, options)\n    await embedChildren(clonedNode, options)\n  }\n}\n","import type { Options } from './types'\nimport { toArray } from './util'\nimport { fetchAsDataURL } from './dataurl'\nimport { shouldEmbed, embedResources } from './embed-resources'\n\ninterface Metadata {\n  url: string\n  cssText: string\n}\n\nconst cssFetchCache: { [href: string]: Metadata } = {}\n\nasync function fetchCSS(url: string) {\n  let cache = cssFetchCache[url]\n  if (cache != null) {\n    return cache\n  }\n\n  const res = await fetch(url)\n  const cssText = await res.text()\n  cache = { url, cssText }\n\n  cssFetchCache[url] = cache\n\n  return cache\n}\n\nasync function embedFonts(data: Metadata, options: Options): Promise<string> {\n  let cssText = data.cssText\n  const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g\n  const fontLocs = cssText.match(/url\\([^)]+\\)/g) || []\n  const loadFonts = fontLocs.map(async (loc: string) => {\n    let url = loc.replace(regexUrl, '$1')\n    if (!url.startsWith('https://')) {\n      url = new URL(url, data.url).href\n    }\n\n    return fetchAsDataURL<[string, string]>(\n      url,\n      options.fetchRequestInit,\n      ({ result }) => {\n        cssText = cssText.replace(loc, `url(${result})`)\n        return [loc, result]\n      },\n    )\n  })\n\n  return Promise.all(loadFonts).then(() => cssText)\n}\n\nfunction parseCSS(source: string) {\n  if (source == null) {\n    return []\n  }\n\n  const result: string[] = []\n  const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi\n  // strip out comments\n  let cssText = source.replace(commentsRegex, '')\n\n  // eslint-disable-next-line prefer-regex-literals\n  const keyframesRegex = new RegExp(\n    '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})',\n    'gi',\n  )\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const matches = keyframesRegex.exec(cssText)\n    if (matches === null) {\n      break\n    }\n    result.push(matches[0])\n  }\n  cssText = cssText.replace(keyframesRegex, '')\n\n  const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi\n  // to match css & media queries together\n  const combinedCSSRegex =\n    '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n    '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'\n  // unified regex\n  const unifiedRegex = new RegExp(combinedCSSRegex, 'gi')\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    let matches = importRegex.exec(cssText)\n    if (matches === null) {\n      matches = unifiedRegex.exec(cssText)\n      if (matches === null) {\n        break\n      } else {\n        importRegex.lastIndex = unifiedRegex.lastIndex\n      }\n    } else {\n      unifiedRegex.lastIndex = importRegex.lastIndex\n    }\n    result.push(matches[0])\n  }\n\n  return result\n}\n\nasync function getCSSRules(\n  styleSheets: CSSStyleSheet[],\n  options: Options,\n): Promise<CSSStyleRule[]> {\n  const ret: CSSStyleRule[] = []\n  const deferreds: Promise<number | void>[] = []\n\n  // First loop inlines imports\n  styleSheets.forEach((sheet) => {\n    if ('cssRules' in sheet) {\n      try {\n        toArray<CSSRule>(sheet.cssRules || []).forEach((item, index) => {\n          if (item.type === CSSRule.IMPORT_RULE) {\n            let importIndex = index + 1\n            const url = (item as CSSImportRule).href\n            const deferred = fetchCSS(url)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  try {\n                    sheet.insertRule(\n                      rule,\n                      rule.startsWith('@import')\n                        ? (importIndex += 1)\n                        : sheet.cssRules.length,\n                    )\n                  } catch (error) {\n                    console.error('Error inserting rule from remote css', {\n                      rule,\n                      error,\n                    })\n                  }\n                }),\n              )\n              .catch((e) => {\n                console.error('Error loading remote css', e.toString())\n              })\n\n            deferreds.push(deferred)\n          }\n        })\n      } catch (e) {\n        const inline =\n          styleSheets.find((a) => a.href == null) || document.styleSheets[0]\n        if (sheet.href != null) {\n          deferreds.push(\n            fetchCSS(sheet.href)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  inline.insertRule(rule, inline.cssRules.length)\n                }),\n              )\n              .catch((err: unknown) => {\n                console.error('Error loading remote stylesheet', err)\n              }),\n          )\n        }\n        console.error('Error inlining remote css file', e)\n      }\n    }\n  })\n\n  return Promise.all(deferreds).then(() => {\n    // Second loop parses rules\n    styleSheets.forEach((sheet) => {\n      if ('cssRules' in sheet) {\n        try {\n          toArray<CSSStyleRule>(sheet.cssRules || []).forEach((item) => {\n            ret.push(item)\n          })\n        } catch (e) {\n          console.error(`Error while reading CSS rules from ${sheet.href}`, e)\n        }\n      }\n    })\n\n    return ret\n  })\n}\n\nfunction getWebFontRules(cssRules: CSSStyleRule[]): CSSStyleRule[] {\n  return cssRules\n    .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n    .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')))\n}\n\nasync function parseWebFontRules<T extends HTMLElement>(\n  node: T,\n  options: Options,\n) {\n  if (node.ownerDocument == null) {\n    throw new Error('Provided element is not within a Document')\n  }\n\n  const styleSheets = toArray<CSSStyleSheet>(node.ownerDocument.styleSheets)\n  const cssRules = await getCSSRules(styleSheets, options)\n\n  return getWebFontRules(cssRules)\n}\n\nfunction normalizeFontFamily(font: string) {\n  return font.trim().replace(/[\"']/g, '')\n}\n\nfunction getUsedFonts(node: HTMLElement) {\n  const fonts = new Set<string>()\n  function traverse(node: HTMLElement) {\n    const fontFamily =\n      node.style.fontFamily || getComputedStyle(node).fontFamily\n    fontFamily.split(',').forEach((font) => {\n      fonts.add(normalizeFontFamily(font))\n    })\n\n    Array.from(node.children).forEach((child) => {\n      if (child instanceof HTMLElement) {\n        traverse(child)\n      }\n    })\n  }\n  traverse(node)\n  return fonts\n}\n\nexport async function getWebFontCSS<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<string> {\n  const rules = await parseWebFontRules(node, options)\n  const usedFonts = getUsedFonts(node)\n  const cssTexts = await Promise.all(\n    rules\n      .filter((rule) =>\n        usedFonts.has(normalizeFontFamily(rule.style.fontFamily)),\n      )\n      .map((rule) => {\n        const baseUrl = rule.parentStyleSheet\n          ? rule.parentStyleSheet.href\n          : null\n        return embedResources(rule.cssText, baseUrl, options)\n      }),\n  )\n\n  return cssTexts.join('\\n')\n}\n\nexport async function embedWebFonts<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const cssText =\n    options.fontEmbedCSS != null\n      ? options.fontEmbedCSS\n      : options.skipFonts\n      ? null\n      : await getWebFontCSS(clonedNode, options)\n\n  if (cssText) {\n    const styleNode = document.createElement('style')\n    const sytleContent = document.createTextNode(cssText)\n\n    styleNode.appendChild(sytleContent)\n\n    if (clonedNode.firstChild) {\n      clonedNode.insertBefore(styleNode, clonedNode.firstChild)\n    } else {\n      clonedNode.appendChild(styleNode)\n    }\n  }\n}\n","import { Options } from './types'\nimport { cloneNode } from './clone-node'\nimport { embedImages } from './embed-images'\nimport { applyStyle } from './apply-style'\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts'\nimport {\n  getImageSize,\n  getPixelRatio,\n  createImage,\n  canvasToBlob,\n  nodeToDataURL,\n  checkCanvasDimensions,\n} from './util'\n\nexport async function toSvg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const { width, height } = getImageSize(node, options)\n  const clonedNode = (await cloneNode(node, options, true)) as HTMLElement\n  await embedWebFonts(clonedNode, options)\n  await embedImages(clonedNode, options)\n  applyStyle(clonedNode, options)\n  const datauri = await nodeToDataURL(clonedNode, width, height)\n  return datauri\n}\n\nexport async function toCanvas<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<HTMLCanvasElement> {\n  const { width, height } = getImageSize(node, options)\n  const svg = await toSvg(node, options)\n  const img = await createImage(svg)\n\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')!\n  const ratio = options.pixelRatio || getPixelRatio()\n  const canvasWidth = options.canvasWidth || width\n  const canvasHeight = options.canvasHeight || height\n\n  canvas.width = canvasWidth * ratio\n  canvas.height = canvasHeight * ratio\n\n  if (!options.skipAutoScale) {\n    checkCanvasDimensions(canvas)\n  }\n  canvas.style.width = `${canvasWidth}`\n  canvas.style.height = `${canvasHeight}`\n\n  if (options.backgroundColor) {\n    context.fillStyle = options.backgroundColor\n    context.fillRect(0, 0, canvas.width, canvas.height)\n  }\n\n  context.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n  return canvas\n}\n\nexport async function toPixelData<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Uint8ClampedArray> {\n  const { width, height } = getImageSize(node, options)\n  const canvas = await toCanvas(node, options)\n  const ctx = canvas.getContext('2d')!\n  return ctx.getImageData(0, 0, width, height).data\n}\n\nexport async function toPng<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL()\n}\n\nexport async function toJpeg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL('image/jpeg', options.quality || 1)\n}\n\nexport async function toBlob<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Blob | null> {\n  const canvas = await toCanvas(node, options)\n  const blob = await canvasToBlob(canvas)\n  return blob\n}\n\nexport async function getFontEmbedCSS<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  return getWebFontCSS(node, options)\n}\n","import type { Options } from './types'\nimport { uuid, getStyleProperties } from './util'\n\ntype Pseudo = ':before' | ':after'\n\nfunction formatCSSText(style: CSSStyleDeclaration) {\n  const content = style.getPropertyValue('content')\n  return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`\n}\n\nfunction formatCSSProperties(style: CSSStyleDeclaration, options: Options) {\n  return getStyleProperties(options)\n    .map((name) => {\n      const value = style.getPropertyValue(name)\n      const priority = style.getPropertyPriority(name)\n\n      return `${name}: ${value}${priority ? ' !important' : ''};`\n    })\n    .join(' ')\n}\n\nfunction getPseudoElementStyle(\n  className: string,\n  pseudo: Pseudo,\n  style: CSSStyleDeclaration,\n  options: Options,\n): Text {\n  const selector = `.${className}:${pseudo}`\n  const cssText = style.cssText\n    ? formatCSSText(style)\n    : formatCSSProperties(style, options)\n\n  return document.createTextNode(`${selector}{${cssText}}`)\n}\n\nfunction clonePseudoElement<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  pseudo: Pseudo,\n  options: Options,\n) {\n  const style = window.getComputedStyle(nativeNode, pseudo)\n  const content = style.getPropertyValue('content')\n  if (content === '' || content === 'none') {\n    return\n  }\n\n  const className = uuid()\n  try {\n    clonedNode.className = `${clonedNode.className} ${className}`\n  } catch (err) {\n    return\n  }\n\n  const styleElement = document.createElement('style')\n  styleElement.appendChild(\n    getPseudoElementStyle(className, pseudo, style, options),\n  )\n  clonedNode.appendChild(styleElement)\n}\n\nexport function clonePseudoElements<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n) {\n  clonePseudoElement(nativeNode, clonedNode, ':before', options)\n  clonePseudoElement(nativeNode, clonedNode, ':after', options)\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9]}